---
slug: /130
title: "This Week In React #130: Next.js, callback ref, Zod, Redux, React-Hook-Form, Redux, mdxjs-rs, Tamagui, Skia, Shopify, Solid, Bun..."
authors: [slorber]
date: 01-03-2023
---

大家好，2023新年快乐 🍾🥂🥳️

在这个假期里，技术社区依然活跃：Next.js发布了新版本，涌现了许多优质React文章。React Native生态也格外活跃，Tamagui、TypeScript支持以及Shopify的两篇文章值得关注。

现在每周有超过**15000名订阅者**阅读本刊 😍

感谢你们的持续支持与项目成长所作的贡献。我将很快发布2022年度回顾报告，期间您可以在[Indie Hackers页面](https://www.indiehackers.com/product/french-react-newsletter)获取更多信息。

由于雪量不足推迟了滑雪计划 😅 所以本周刊提前回归，下期将于1月17日发布。

哦对了，我终于成功创作了[病毒式传播的meme图](https://twitter.com/sebastienlorber/status/1610243388174991360) 🥲

<!-- truncate -->

**💡 [在Twitter查看本周刊](https://slo.im/thread) - 可视化版式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![React Bricks是基于React组件的可视化编辑CMS](/emails/issues/128/reactbricks.png)](https://reactbricks.com/?utm_source=this_week_in_react)

**[React Bricks是基于React组件的可视化编辑CMS](https://reactbricks.com/?utm_source=this_week_in_react)**

**开发者友好**：用React组件创建自己的设计系统，在JSX中添加可视化编辑功能，并通过侧边栏控件编辑props（如背景色）。支持Next.js、Gatsby或Remix框架，兼容任意CSS方案！

**内容编辑者易上手**：无需理解抽象实体模型即可直接可视化编辑，避免破坏设计系统——比传统无头CMS的灰色字段编辑体验更直观。**节省时间**让内容团队自主运作！

**企业级功能**：包含协作编辑、时光机、单点登录、GDPR合规数据中心、全球CDN图像优化、电商集成、定时发布等。

立即体验：[ReactBricks.com](https://reactbricks.com/?utm_source=this_week_in_react)

---

## ⚛️ React动态 {#react}

[![Next.js 13.1](/emails/issues/130/nextjs-13.1.jpg)](https://nextjs.org/blog/next-13-1)

**[Next.js 13.1](https://nextjs.org/blog/next-13-1)**

本次小版本更新包含多项改进：

- app目录功能增强与错误修复
- TypeScript插件带来卓越开发体验
- 模块转译支持
- Turbopack及基准测试优化
- 用于转换导入的SWC插件
- API路由的Edge运行时现已稳定，支持高级中间件

---

- 📖 Beta文档 [useEffectEvent](https://beta.reactjs.org/learn/separating-events-from-effects#declaring-an-effect-event)：针对新更名的React钩子更新了文档。[新网站将于1月上线](https://twitter.com/dan_abramov/status/1606646280649904131)！
- 📖 Redux文档[副作用处理方案](https://twitter.com/acemarke/status/1607869290715222016)：新增文档页面，提供建议并比较thunks、sagas、observables、listeners和RTK Query等方案...
- 📜 [React ref回调的使用场景](https://julesblom.com/writing/ref-callback-use-cases)：关于回调refs的完整文章，允许触发与DOM元素相关的副作用。Jules展示了许多用例：门户、测量DOM元素...
- 📜 [终极表单抽象方案](https://www.brendonovich.dev/blog/the-ultimate-form-abstraction)：讲解如何将React-Hook-Form与Zod解析器结合使用。利用Zod全新的类型强制转换功能处理数字输入。逐步构建兼具优秀开发者体验和类型安全的表单抽象层。
- 📜 [React开发者初探Solid](https://jakelazaroff.com/words/a-react-developers-first-take-on-solid/)：对Solid与React、SolidStart与Next.js/Remix的有趣对比。Jake还列出了Solid中他不喜欢的部分。
- 📜 [UltraJS评测：在单一框架中融合React与Deno](https://blog.bitsrc.io/a-review-of-ultrajs-mixing-react-and-deno-in-a-single-framework-8e4dd41ea076)：这款面向Deno的React框架推动了最新创新（无打包ES模块、ImportMaps等）。
- 📜 [加速Next.js：远程缓存如何将发布时长缩短80%](https://vercel.com/blog/turborepo-remote-cache-nextjs-publish-times-80-percent)：Vercel的实践反馈，使用Turborepo和远程缓存减少Next.js构建时间，特别是原生SWC二进制构建。
- 📜 [你好React 18，再见useEffect（但愿如此）](https://blog.imam.dev/post/hello-react-18-goodbye-useeffect)：关于useEffect的详尽文章，该钩子可能在代码库中被过度使用。它本质上是个同步工具。存在一些不一致之处，但值得一读。
- 📜 [通过实体组件系统简化React Three Fiber](https://douges.dev/blog/simplifying-r3f-with-ecs)
- 📜 [关于并发React的一切（含少量Suspense）](https://blog.codeminer42.com/everything-you-need-to-know-about-concurrent-react-with-a-little-bit-of-suspense/)
- 🤔 [Bun + 新版JSX 2.0语法](https://twitter.com/jarredsumner/status/1609025481684422659)：新增支持`<User {user} />)`语法。由于JSX 2.0规范尚未定案，该消息并非人人欢迎。
- 👀 [Remix - CSS Modules支持](https://github.com/remix-run/remix/pull/4852)：PR已合并，即将发布。
- 📦 [mdxjs-rs](https://github.com/wooorm/mdxjs-rs)：MDX的Rust实现 👌
- 📦 [react-wrap-balancer](https://github.com/shuding/react-wrap-balancer)：平衡多行标题文本的组件（CSS无法实现）。内联JavaScript避免布局偏移。
- 📦 [react-resizable-panels](https://github.com/bvaughn/react-resizable-panels) ([演示](https://twitter.com/brian_d_vaughn/status/1605751430542925827))：Brian Vaughn的新库，支持调整布局元素尺寸。
- 📦 [gltfjsx v6](https://twitter.com/0xca0a/status/1605566666066124802)：GLTF 3D模型加载器的优化版本。
- 📦 [react-ts-form](https://github.com/iway1/react-ts-form)：基于Zod和React-Hook-Form的表单库
- 📦 [Gatsby 5.3](https://www.gatsbyjs.com/docs/reference/release-notes/v5.3/)
- 📊 [Next.js站点的移动端性能](https://calendar.perfplanet.com/2022/mobile-performance-of-next-js-sites/)
- 🎥 [3个React错误，1个应用杀手](https://www.youtube.com/watch?v=QuLfCUh-iwI)
- 🎥 [与Jason一起学习 - Dominik Dorfmeister讲解TanStack Query v4](https://www.learnwithjason.dev/tanstack-query-v4)
- 🎥 [学习如何使用TypeScript、Qwik、SolidJS和React在Mitosis中构建Twitter UI](https://www.youtube.com/watch?v=07UW3REM6k8)
- 🎥 [Remotion - Rust之旅启程](https://twitter.com/JNYBGR/status/1610273808820363265)
- 👥 [Storybook Day用户大会](https://storybook.js.org/blog/storybook-day/)：3月14日线上会议，将发布Storybook 7.0

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

[![开发者国度调查 - 您想对开发者生态系统产生影响吗？](/emails/issues/128/dn-survey.png)](https://developereconomics.net/?member_id=thisweekinreact)

**[您想对开发者生态系统产生影响吗？](https://developereconomics.net/?member_id=thisweekinreact)**

根据最新的《开发者国度现状》报告，React 是迄今为止最受欢迎的前端库，58% 使用客户端 Web 框架的开发者都在使用它。您对此有何看法？

参与[调查](https://developereconomics.net/?member_id=thisweekinreact)，这是 Developer Nation 迄今为止最全面的调研，塑造 2023 年开发者关键趋势，并赢取丰厚奖品！🎁

完成调查后，您将免费获得我们的虚拟礼品袋。别忘了注册参加每周抽奖。在 250 份奖品中，您有机会赢得 ThinkPad L15 Gen 3、Intel NUC 10 Performance Mini PC、物联网套件、iPad Air、礼品卡、Udemy 课程、科技配件等众多好礼。

[从这里开始](https://developereconomics.net/?member_id=thisweekinreact)！

---

## 📱 React-Native {#react-native}

[![Tamagui 1.0](/emails/issues/130/tamagui.jpg)](https://tamagui.dev/blog/version-one)

**[Tamagui 1.0](https://tamagui.dev/blog/version-one)**

Tamagui 正式结束测试阶段，它能轻松创建基于相同代码库的跨平台项目（Web 和移动端），使用 React 开发，同时不牺牲开发体验或性能。该项目分为三部分：

- Tamagui Core：基于 React-Native 和 [React-Native-Web-Lite](https://www.npmjs.com/package/react-native-web-lite) 的 CSS-in-JS 运行时
- Tamagui Static：基于 Babel 的编译器和 Node 预评估工具，支持视图扁平化和原子化 CSS 样式提取
- Tamagui UI：为提升易用性而设计的 React 组件库和钩子

Tamagui 是一个创新项目，获得了样式和跨平台领域思想领袖的积极反馈。即使您仅针对单一平台开发，它也可能带来启发。对 React 18 功能（如服务器组件、并发模式）的支持已经就绪。值得一试！

---

[![React Native Skia：年度回顾与未来展望](/emails/issues/130/skia.jpg)](https://shopify.engineering/react-native-skia-2022)

**[React Native Skia：年度回顾与未来展望](https://shopify.engineering/react-native-skia-2022)**

William Candillon 对 React-Native-Skia 项目进行了精彩的回顾。[Skia](https://skia.org/) 是 Google 的 2D 引擎，被 Chrome、Android、Flutter 等广泛使用。他们通过 UI 线程渲染和新的声明式 Skia DOM API 显著提升了性能。该库灵活且可扩展（支持 Skottie、VisionCamera 帧处理）。2023 年，我们可以期待通过工作线程实现动画、与 Reanimated 更强大的集成，以及文本布局功能的增强。

---

- 📊 [2022年React-Native现状调查](https://twitter.com/swmansion/status/1605957585684799493)：调查问卷已开放。我将很快发送一封专题邮件，因为您的参与非常重要 😜
- 📜 [TypeScript的一流支持](https://reactnative.dev/blog/2023/01/03/typescript-first)：React-Native 0.71版本即将发布，默认全面支持TypeScript：类型定义、文档和启动模板。
- 📜 [Shopify - 将我们最大的移动应用迁移到React Native](https://shopify.engineering/migrating-our-largest-mobile-app-to-react-native)：Shopify正在逐步将其主要应用迁移到React Native。这是一个拥有300多个屏幕、6年历史且没有明显技术债务的应用。关于这一持续迁移（目前仅完成约10%）的反馈非常有趣。最初的方法（在React Native中开发新功能）并未奏效。他们最终选择了先转换应用的根部分。
- 📜 [在React Native中实现CSS样式继承](https://www.builder.io/blog/implementing-css-style-inheritance-in-react-native)：解释了如何在React Native中重现CSS级联，这一出于良好原因未实现的CSS行为。这对于与CMS的集成尤其有用，因为CMS通常假设可以对父视图应用文本样式，就像在Web上一样。
- 📜 [React Native在Android上的Google Drive自动备份](https://dev.to/retyui/google-drive-auto-backup-for-react-native-on-android-254a)：用于将异步存储（或其他内容）从一部手机持久化到另一部手机。
- 🎥 [如何在React Native中使用蓝牙低功耗（BLE）信标](https://www.youtube.com/watch?v=1hYM_sdQcBU)

---

## 🧑‍💻 工作机会 {#jobs}

🧑‍💼 [**Causal的产品工程师，远程/伦敦/纽约，$150-250k**](https://jobs.lever.co/causal-app/4acaafbe-ef3d-45a6-bbe6-687c022d727c?lever-origin=applied&lever-source%5B%5D=thisweekinreact.com)

Causal是一家由Coatue/Accel支持的A轮初创公司，致力于构建一个用于处理数字和可视化数据的全能工具。我们正在寻找能够解决复杂UX/性能问题的优秀React工程师。

🧑‍💼 [**Callstack - 高级React Native开发人员 - 完全远程，B2B月薪净额21-32k PLN**](https://www.callstack.com/senior-react-native-developer)

您想参与开发世界上最常用的应用吗？您愿意共同创造React Native技术吗？加入Callstack的React & React Native领导者团队。查看我们的网站了解更多详情。我们期待您的申请——展示您的才华！

🧑‍💼 [**G2i - 100%远程React Native工作机会**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们有几个专注于React Native的开发职位空缺！薪资约为16万美元外加10%奖金。您必须具备RN的生产经验且位于美国。私信[@gabe_g2i](https://twitter.com/gabe_g2i)了解更多信息，别忘了提及This Week in React。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [JavaScript框架——迈向2023](https://dev.to/this-is-learning/javascript-frameworks-heading-into-2023-nln)
- [2022年CSS更新](https://12daysofweb.dev/2022/2022-css-updates/)
- [Nx 15.4发布——支持Vite 4、新增Nx Watch命令等](https://blog.nrwl.io/nx-15-4-vite-4-support-a-new-nx-watch-command-and-more-77cbf6c9a711)
- [Jamstack趋势：2023年我们将如何开发？](https://www.netlify.com/blog/jamstack-trend-predictions-2023/)
- [我们如何提升monday.com看板的滚动性能](https://engineering.monday.com/how-we-improved-monday-com-boards-scroll-performance-a-case-study-on-boosting-fps-by-50/)
- [Bun 0.4.0发布](https://twitter.com/jarredsumner/status/1606345309050634240)
- [bunx——比npx快100倍](https://twitter.com/jarredsumner/status/1606163655527059458)
- [pretty-cache-header](https://github.com/jjenzz/pretty-cache-header)：将人类可读的时间字符串解析为秒数。
- [揭秘HTTP/3优先级机制](https://calendar.perfplanet.com/2022/http-3-prioritization-demystified/)

---

## 😄 轻松一刻 {#fun}

[![alt](/emails/issues/130/meme.jpg)](https://twitter.com/sebastienlorber/status/1610243388174991360)