---
slug: /195
title: "This Week In React #195: Compiler, Refactoring components, XState Store, Next.js, Redwood, Vitale, Astro, LLMs, Astro, Dédale, XR, tldraw, RN + Amazon, RN new styles, Gesture Handler, Reanimated, TC39, Node, TypeScript..."
authors: [slorber]
date: 08-07-2024
---

大家好！

React生态圈度过了平静的一周。虽然没有重磅公告，但社区涌现了许多优质技术文章值得阅读。

Node.js v22.6版本发布，带来了实验性TypeScript支持！🎉

欢迎关注我们的合作伙伴[React Universe Conf](https://www.reactuniverseconf.com/?utm_source=thisweekinreact)（🇵🇱 波兰弗罗茨瓦夫 - 9月5-6日），前身为React Native EU大会。使用优惠码"TWIR"可享9折。今年的演讲嘉宾阵容堪称惊艳！

<!-- truncate -->

**💡 [在Twitter上浏览本期简报](https://slo.im/thread) - 可视化排版 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![WorkOS：面向B2B SaaS的现代身份平台](/emails/issues/195/workOS.jpg)](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q32024)

**[WorkOS：面向B2B SaaS的现代身份平台](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q32024)**

通过WorkOS，仅需几行代码即可开启企业级销售。

🔐 WorkOS AuthKit提供完整的用户管理方案，支持**单点登录(SSO)、跨域身份管理(SCIM)、基于角色的访问控制(RBAC)和细粒度授权(FGA)**。

🏗️ API设计**灵活易用且模块化**，按需选用，分钟级集成。

🎨 用户体验至上。从文档质量到用户引导流程，我们**为开发者消除所有不必要的复杂性**。

✨ AuthKit**免费支持100万月活用户**，包含机器人防护、多因素认证(MFA)、基于角色的访问控制等功能。

🤝 WorkOS已获**Perplexity**、**Vercel**和**Webflow**等数百家领先初创企业信赖。

[立即体验WorkOS](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q32024) 🚀

---

## ⚛️ React动态 {#react}

- 💸 [Reactile——一种基于React的Web应用新方案。创建自定义视图，在单个浏览器标签页中管理窗口和小部件](https://www.reactile.net/?utm_source=reactnewsletter)
- 🐦 [扎克伯格将React列为Meta主要开源项目之一](https://x.com/Vjeux/status/1818766264833392763)
- 🐦 [使用ReactBricks配合RSC实现可视化编辑](https://x.com/rauchg/status/1819383553668370440)
- 📖 [新版《Redux Essentials》教程](https://redux.js.org/tutorials/essentials/part-1-overview-concepts)
- 🗓️ [React-Africa大会](https://react-africa.com/?utm_source=thisweekinreact) - 🇲🇦 卡萨布兰卡 - 11月29日 - 演讲阵容已公布，使用折扣码TWIR可享门票9折！
- 📜 [React编译器工作原理解析](https://yongseok.me/blog/en/react_compiler_1/)：四篇系列文章深入解析React编译器代码，涵盖Babel插件、useMemoCache、HIR/SSA转换等实现细节。技术性极强，但每篇末尾的算法概述非常精彩。该编译器基于函数级操作，通过高级中间表示(HIR)实现与Babel的解耦。
- 📜 [避免过早抽象：无样式React组件实践](https://buildui.com/posts/avoiding-premature-abstraction-with-unstyled-react-components)：Sam通过将具体表单按钮重构为无样式的LoadingButton抽象，既保持灵活性又避免过早抽象样式层。作者认同此观点，待时机成熟时仍可在上层创建样式化抽象。
- 📜 [混乱React组件的通用重构方法](https://alexkondov.com/refactoring-a-messy-react-component/)：Alex演示如何重构真实场景中的臃肿表单组件。其流程与常规实践一致：提取子组件、自定义hook和辅助代码以提升可读性。
- 📜 [XState Store技术解析](https://tkdodo.eu/blog/introducing-x-state-store)：React Query作者Dominik对比Zustand后，认为事件驱动、强制分离状态/操作的XState Store更具优势。Daishi随即推出[Zustand-xs中间件](https://github.com/zustandjs/zustand-xs)实现相似接口。作者通过[推文](https://x.com/sebastienlorber/status/1821166302469194062)解释了对事件驱动接口的保留意见。
- 📜 [Notion作为Next.js CMS的实践](https://jordaneldredge.com/notes/notion-cms/)：构建低摩擦的内容发布流程，将Notion内容转为Markdown后在Next.js中渲染。
- 📜 [Next.js unstable_cache()机制解密](https://jordaneldredge.com/notes/unstable_cache/)：警示返回类实例的风险，并链接到详述缓存陷阱的深度解析文章。
- 📜 [40行代码实现React状态管理库](https://paripsky.github.io/blog/build-your-own-react-state-management/)：基于useSyncExternalStore创建外部存储，附Immer集成等优化建议。
- 📜 [GitHub Vitale - VS Code中的JavaScript/TypeScript实时笔记本](https://githubnext.com/projects/vitale/)：GitHub Next团队推出类Jupyter的交互式编程环境，支持在单元格中渲染React组件。
- 📜 [前端安全清单](https://www.trevorlasn.com/blog/frontend-security-checklist)：包含React场景下防御XSS/CSRF攻击的实践案例。
- 📜 [Web端抖动与复古着色艺术（React Three Fiber实现）](https://blog.maximeheckel.com/posts/the-art-of-dithering-and-retro-shading-web/)
- 🔨 [Dédale - 基于React Email的邮件模板开发环境](https://bireme.io/en/blog/announcing-dedale)
- 📦 [Redwood 8.0候选版](https://github.com/redwoodjs/redwood/releases/tag/v8.0.0-rc.1114)：全栈框架新增SSR/RSC支持(实验性)、Vite 5、Prettier 3，详见[v8迁移指南](https://community.redwoodjs.com/t/redwood-v8-0-0-upgrade-guide/7250)，即将推出后台任务功能。
- 📦 [Vercel AI SDK 3.3 - useChat()支持文件附件，useObject()实现结构化数据流](https://vercel.com/blog/vercel-ai-sdk-3-3)：基于Zod模式的结构化数据使LLM更易集成。注：[OpenAI同期宣布支持Zod结构化输出](https://openai.com/index/introducing-structured-outputs-in-the-api/)。
- 📦 [Astro 4.13 - 稳定的请求重写与内容集合JSON模式](https://astro.build/blog/astro-4130/)
- 📦 [react-three/xr 6.1 - WebXR锚点API、命中测试API、DOM覆盖API及实验性模拟器](https://github.com/pmndrs/xr/releases/tag/v6.1.0)
- 📦 [Tldraw同步引擎 - 可自托管的React白板应用实时协作系统](https://tldraw.substack.com/p/announcing-tldraw-sync)
- 🎥 [Theo - 服务端岛屿架构解析](https://www.youtube.com/watch?v=uBxehYwQox4)
- 🎥 [Jack Herrington - NextJS功能标记实践](https://www.youtube.com/watch?v=M1Rj1xSm3SM)
- 🎥 [UI工程 - React为何是声明式的？](https://www.youtube.com/watch?v=TVmRuP0_RGM)
- 🎥 [Expo - React开发者需要了解的React Native知识](https://www.youtube.com/live/iB7sc-fzpWw)
- 🎙️ [Syntax - jQuery创始人为何选择React和TypeScript - John Resig专访](https://syntax.fm/show/800/why-the-jquery-creator-uses-react-and-typescript-john-resig?utm_source=thisweekinreact)
- 🎙️ [React月度播报 - 2024年7月 - JS/React/HTML生态现状](https://podcasters.spotify.com/pod/show/reactiflux/episodes/TMiR-2024-07-State-of-JS--React--HTML-e2mplrc)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![相约React Universe Conf 2024](/emails/issues/195/callstack.jpg)](https://www.reactuniverseconf.com/?utm_campaign=RUC%202024%20-%20TWIR%20Nesletter&utm_source=RUC%202024%20-%20TWIR%20Nesletter&utm_medium=TWIR%20NesletterOrganic&utm_content=TWIR%20Nesletter)

**[相约React Universe Conf 2024](https://www.reactuniverseconf.com/?utm_campaign=RUC%202024%20-%20TWIR%20Nesletter&utm_source=RUC%202024%20-%20TWIR%20Nesletter&utm_medium=TWIR%20NesletterOrganic&utm_content=TWIR%20Nesletter)**

[React Universe Conf](https://www.reactuniverseconf.com/?utm_campaign=RUC%202024%20-%20TWIR%20Nesletter&utm_source=RUC%202024%20-%20TWIR%20Nesletter&utm_medium=TWIR%20NesletterOrganic&utm_content=TWIR%20Nesletter) 是欧洲中心为期两天的学习、交流与创新盛会。前身为React Native EU，[React Universe Conf](https://www.reactuniverseconf.com/?utm_campaign=RUC%202024%20-%20TWIR%20Nesletter&utm_source=RUC%202024%20-%20TWIR%20Nesletter&utm_medium=TWIR%20NesletterOrganic&utm_content=TWIR%20Nesletter) 现已成为React和React Native爱好者的终极聚会。今年有哪些亮点？

- **豪华阵容：** Dan Abramov、Evan Bacon、Kent C. Dodds、Delba de Oliveira、Marc Rousavy等众多顶尖演讲者。
- **热门话题：** 新架构、React服务端组件、静态Hermes以及树外平台开发。
- **实战洞见：** 关于使用React Native进行跨平台应用开发的实用技巧。

使用优惠码 **TWIR** 可享门票 **9折优惠**。[立即预订](https://www.reactuniverseconf.com/?utm_campaign=RUC%202024%20-%20TWIR%20Nesletter&utm_source=RUC%202024%20-%20TWIR%20Nesletter&utm_medium=TWIR%20NesletterOrganic&utm_content=TWIR%20Nesletter)，我们弗罗茨瓦夫见！

---

## 📱 React-Native {#react-native}

本版块由[Benedikt](https://twitter.com/bndkt)主笔。

- 💸 [React Native 大师课 - 掌握 React Native 和 Expo 的唯一课程](https://notjust.dev/react-native-mastery?utm_source=twir&utm_medium=email)
- 🐦 [为何 Hermes 团队更青睐 JSI NativeState 而非 HostObject](https://x.com/tmikov/status/1820266381545468200)
- 🐦 [Expo 实验性支持 Tree Shaking 功能已落地](https://x.com/baconbrix/status/1816488585409052925)：实验性功能已在 SDK 52（Canary 版本）中提供
- 🐦 [React Native 即将引入的样式特性 - 线性渐变、盒阴影、CSS 滤镜、百分比弹性间隙](https://x.com/Baconbrix/status/1821039004671741984)
- 👀 [React Native PR - 通过实验性 backgroundImage 样式属性实现线性渐变](https://github.com/facebook/react-native/pull/45434)
- 📜 [从 JS 到 Fire OS - 面向亚马逊设备的 React Native 开发](https://dev.to/amazonappdev/get-started-with-react-native-for-amazon-fire-os-51j8)：提醒您 React Native 可用于为 Fire 平板和 Fire TV 构建应用，因为 Fire OS 基于 Android。
- 📜 [React Native 中的电视导航：TVFocusGuideView 使用指南](https://dev.to/amazonappdev/tv-navigation-in-react-native-a-guide-to-using-tvfocusguideview-302i)：我对 React Native 超越手机和平板的潜力感到兴奋，因此很欣赏这类针对 tvOS 和 Android TV 平台特性的最佳实践文章。
- 📜 [使用 Xcode Quick Look 进行 UI 调试](https://www.oskarkwasniewski.dev/blog/xcode-quick-look-debugging)：如果您经常使用 Xcode 会很有帮助（我不用 😅）。
- 📜 [Chain React 2024 参会记（附会议参加建议）](https://dev.to/amazonappdev/my-visit-to-chain-react-2024-nfj)：警告 - 如果您没参加 Chain React，这篇文章会让您产生严重错失恐惧症，但我仍然很享受阅读它。
- 📦 [React Native 0.75.0-rc.7 - 更新 CLI 至 14.0 版本](https://github.com/facebook/react-native/releases/tag/v0.75.0-rc.7)
- 📦 [React Native 0.74.5 - 小修复版本](https://github.com/facebook/react-native/releases/tag/v0.74.5)
- 📦 [react-native-gesture-handler 2.18.0 - 新增独立组件 ReanimatedSwipeable，多项改进并支持 RN 0.75](https://github.com/software-mansion/react-native-gesture-handler/releases/tag/2.18.0)
- 📦 [react-native-svg 15.5.0 - 小版本更新引入新滤镜，FilterImage 组件的 CSS 滤镜 API 及多项错误修复](https://github.com/software-mansion/react-native-svg/releases/tag/v15.5.0)
- 📦 [react-native-reanimated 3.15.0 - 新增 ReducedMotionConfig、EntryExitTransition、CurvedTransition，支持 RN 0.75 及大量修复](https://github.com/software-mansion/react-native-reanimated/releases/tag/3.15.0)
- 🎥 [Simon Grimm - React Native 服务端定义渲染](https://www.youtube.com/watch?v=-6Mrar0r3kg)
- 🎥 [Reactiiive - Jotai 和 MMKV 背后的秘密（React Native）](https://www.youtube.com/watch?v=-AR2PN38ovo)
- 🎥 [notJust.dev - 使用 React Native 和 Reanimated 构建 iOS 18 照片应用](https://www.youtube.com/watch?v=pZHRFNpYkAY)
- 🎙️ [PodRocket - 与 Evan Bacon 探讨在 Expo Router 中使用 RSC](https://podrocket.logrocket.com/using-rscs-expo-router-evan-bacon)

---

## 🔀 其他 {#other}

- 🐦 [TC39第103次会议 - `RegExp.escape`进入stage 3，并发控制+无序异步迭代器助手进入stage 1](https://x.com/robpalmer2/status/1819051033215049742)
- 📜 [Google如何处理JavaScript索引过程](https://vercel.com/blog/how-google-handles-javascript-throughout-the-indexing-process)
- 📜 [为什么Unknown类型很有用](https://michaeluloth.com/programming-types-unknown-why-useful/)
- 📜 [关于TypeScript的另一种思考方式](https://www.rob.directory/blog/a-different-way-to-think-about-typescript)
- 📜 [如果用Container Units来...处理一切会怎样？](https://frontendmasters.com/blog/what-if-you-used-container-units-for-everything/)
- 📜 [Effect最佳实践](https://ethanniser.dev/blog/effect-best-practices/)
- 📦 [Node v22.6.0 - 实验性支持TypeScript](https://nodejs.org/en/blog/release/v22.6.0)
- 📦 [Rslib - 由Rsbuild驱动的库构建工具](https://github.com/web-infra-dev/rslib)
- 📦 [Nx 19.5 - 新增Stackblitz支持、Bun、Pnpm 9、Vite增量构建、Gradle测试原子化](https://nx.dev/blog/nx-19-5-adds-stackblitz-new-features-and-more)

---

## 🤭 趣闻 {#fun}

[![alt](/emails/issues/195/meme.jpg)](https://x.com/ryanflorence/status/1820284287356383321)

[![alt](/emails/issues/195/meme2.jpg)](https://x.com/jaredpalmer/status/1819165228052996209)

下次见！👋