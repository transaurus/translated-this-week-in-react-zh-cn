---
slug: /214
title: "This Week In React #214: Base UI, Custom Elements, Next.js, React Router, TanStack, i18n, OG, Apollo, Android XR, iOS targets, Nitro, RNTL, Volume Manager, Drag Select, brownfield, Zod, Node, SourceMaps, Bun, State Of JS..."
authors: [slorber]
date: 12-18-2024
---

大家好！

本周我对一个前景广阔的无头组件库感到兴奋，并发现了一些与React开发者相关的Web Components有趣文章。

在移动端方面，谷歌推出了Android XR，而React Native的支持已经在路上了！

🎄 我们将迎来圣诞假期，这是1月8日前的最后一期通讯。\
🧑‍🎄 你们已经给了我最好的礼物——根据最新发布的[2024年JavaScript现状调查报告](https://2024.stateofjs.com/en-US/resources/)，我们已成为第四大受欢迎的JS通讯。

<!-- truncate -->

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助 {#sponsor1}

[![通过每期通讯成为更优秀的工程师。](/emails/issues/183/posthog.jpg)](https://dub.link/twir-dec18)

**[通过每期通讯成为更优秀的工程师。](https://dub.link/twir-dec18)**

[工程师的产品思维](https://dub.link/twir-dec18)是PostHog推出的专注于帮助工程师提升产品技能的通讯。

拥有超过3万订阅者，它是连接产品与工程的可靠桥梁，助你打造用户喜爱的产品。

内容涵盖如何选择合适技术、那些会毁掉初创公司的非显性行为，以及他们从A/B测试中吸取的教训。完全免费且永远免费。

[**免费订阅。**](https://dub.link/twir-dec18)

---

## ⚛️ React {#react}

[![Base UI 1.0 alpha](/emails/issues/214/base-ui.jpg)](https://base-ui.com/)

[**Base UI 1.0 alpha**](https://base-ui.com/)

我通常对UI库不太感冒。但当Radix、MUI和Floating UI的创作者们联手打造一套包含25个无样式、可访问、可组合的原子组件，并在细节上精益求精时，我认为值得关注！Radix目前非常流行（尤其得益于shadcn/ui），但近期[维护活跃度有所下降](https://github.com/radix-ui/primitives/graphs/contributors)，此时出现一个新的无头库竞争者总是令人期待！

---

**React 19与自定义元素**

以下是我发现的相关有趣文章：

- 📜 [React 19与Web组件示例](https://frontendmasters.com/blog/react-19-and-web-component-examples/)：Chris Coyier通过创建Lit元素并用JSX渲染来测试React 19对自定义元素的支持。你可以无缝传递对象作为props，但事件处理可能需要派发自定义事件。
- 📜 [React 19全面支持自定义元素](https://aleks-elkin.github.io/posts/2024-12-06-react-19/)：对比React 18与React 19的支持改进。
- 📜 [甜蜜的Suspense](https://plainvanillaweb.com/blog/articles/2024-09-09-sweet-suspense/)：用自定义元素复现React lazy/Suspense/ErrorBoundary的有趣实验。
- 📜 [同构Web组件](https://jakelazaroff.com/words/isomorphic-web-components/)：虽未使用React，但对Web组件服务端渲染支持的概述很有价值。

---

- 💸 [React Bricks——可视化React CMS现已降低入门价格并提供灵活按需付费选项。免费开始使用！](https://www.reactbricks.com/?utm_source=twir&utm_campaign=ql24)
- 🐦 [Lee Robinson解释为何本地运行Next.js时页面跳转会耗时](https://x.com/leeerob/status/1869095675201192335)
- 👀 [Next.js PR - `unstable_rootParams()`](https://github.com/vercel/next.js/pull/72837): 新增实验性API，可返回从根布局到当前路径的所有参数。特别适用于获取国际化`[locale]`参数。
- 👀 [Next.js PR - `experimental.newDevOverlay`](https://github.com/vercel/next.js/pull/73977): 新版开发调试悬浮层即将推出，功能开关已就绪。
- 👀 [Rsbuild PR - plugin-react-router](https://github.com/web-infra-dev/rsbuild/pull/4186): React Router框架功能(Remix风格)现以Vite插件形式实现，暗示其他打包器也可将React Router转化为框架😲
- 🎄 [GitHub Unwrapped 2024](https://githubunwrapped.com/): 这个基于Remotion的项目刚完成2024版更新。
- 📜 [如何验证React i18next应用](https://lingual.dev/blog/how-to-validate-your-react-i18next-application/): 提出基于react-i18next的工作流，防止翻译键缺失/未使用/无效。另有针对react-intl用户的方案。
- 📜 [Rails + Stimulus + React终极集成方案](https://blog.codeminer42.com/rails-stimulus-react/): 使用Stimulus数据属性在Rails页面挂载React自动补全组件。
- 📜 [Remix中实现构建期Open Graph图片生成](https://kettanaito.com/blog/build-time-og-images-in-remix): 分析Satori的局限，介绍通过remix-og-image插件启动Chromium实例的新方案。
- 📜 [优化React INP的5个技巧](https://calendar.perfplanet.com/2024/5-tips-to-effectively-optimize-inp-in-react/): 减少DOM规模、拆分组件、使用Suspense、避免hydration错误、警惕可能同步执行的useEffect。
- 📜 [你可能不需要React表单库](https://www.robinwieruch.de/react-form-validation/): 演示如何不依赖库实现服务端与客户端表单验证。
- 📜 [TanStack Start正式发布](https://frontendmasters.com/blog/introducing-tanstack-start/)
- 📜 [2025年React技术栈展望](https://www.robinwieruch.de/react-tech-stack/)
- 📜 [服务端与客户端间的类型与代码共享](https://echobind.com/post/sharing-types-and-code-between-the-server-and-client)
- 📜 [Storybook标签——按工作方式组织组件与故事](https://storybook.js.org/blog/storybook-tags/)
- 📜 [服务端组件的思维模型](https://saewitz.com/the-mental-model-of-server-components)
- 📜 [如何将React应用Docker化](https://www.docker.com/blog/how-to-dockerize-react-app/)
- 📦 [Inertia 2.0——为Laravel重新定义前端开发](https://blog.laravel.com/announcing-inertia-20-redefining-frontend-development-for-laravel): 该工具新主版本实现React与PHP后端无缝集成。新增功能：异步请求、延迟属性、预取、轮询。
- 📦 [Apollo Client 3.12——GraphQL片段数据掩码](https://www.apollographql.com/blog/more-resilient-code-with-data-masking-in-apollo-client-3-12): 类似Relay，Apollo Client在共置、封装和性能方面改进。组件仅接收所需字段。
- 📦 [Virtua 0.39——零配置、快速小巧的虚拟列表，支持React 19](https://github.com/inokawa/virtua)
- 📦 [Material UI年终更新——MUI v5/6兼容React 19](https://mui.com/blog/material-ui-2024-updates/)
- 📦 [Roadmap UI——可组合组件库，支持甘特图/看板/日历/列表/表格等交互式路线图](https://www.roadmap-ui.com/)
- 🎥 [Justin Poli——打破React规则会发生什么？](https://www.youtube.com/watch?v=NsFD-1HkJNU): Mobx-State-Tree维护者阐述使响应式库兼容React编译器的计划。
- 🎥 [Wawa Sensei——使用Three.js和React Three Fiber开发VR/AR节奏游戏的心路历程](https://www.youtube.com/watch?v=jBh4ftHqC5U)
- 🎥 [Theo——Astro窃取了我最爱的Next.js特性(而我非常兴奋)](https://www.youtube.com/watch?v=3xqa0SsRbdM)
- 🎥 [Shruti Kapoor——React 19：你真正需要的功能](https://www.youtube.com/watch?v=Hek-Ux9jha8)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![Stream的React SDK轻松实现交互式聊天功能](/emails/issues/214/stream.jpg)](https://getstream.io/chat/react-chat/tutorial/?utm_source=newsletter&utm_medium=referral&utm_content=&utm_campaign=thisweekinreact)

**[通过Stream的React SDK轻松实现交互式聊天](https://getstream.io/chat/react-chat/tutorial/?utm_source=newsletter&utm_medium=referral&utm_content=&utm_campaign=thisweekinreact)**

**🔧 开发者打造，为开发者服务：**

- 完全可定制的UI组件和钩子
- 详尽的文档和快速入门模板助力快速集成

**⚡ 极致性能：**

- 消息送达延迟低于50毫秒
- 可靠基础设施支撑百万级用户规模

**✨ 开箱即用功能：**

- 输入状态指示、消息反应和会话线程
- 支持富媒体（包括文件和图片分享）

🚀 快速构建，轻松扩展。[立即体验Stream](https://getstream.io/try-for-free/?utm_source=newsletter&utm_medium=referral&utm_content=&utm_campaign=thisweekinreact)。

---

## 📱 React-Native {#react-native}

- 💸 [演示集锦 - 90+个基于Reanimated、Gesture Handler和Skia打造的React Native动效案例，来自Reactiive](https://reactiive.io/demos?utm_source=thisweekinreact)
- 📊 [2024年React Native现状调查 - 问卷开放中，快来参与！](https://survey.stateofreactnative.com/)
- 🐦 [Evan Bacon的`npx create-target demo`](https://x.com/Baconbrix/status/1868672438898455023)：全新CLI工具，可创建与Expo应用共存的iOS目标组件（如小组件、分享扩展），并通过共享存储实现通信
- 🧵 [Infinite Red - 2024年度最佳React Native技术文章精选](https://x.com/infinite_red/status/1869104889777020951)
- 📣 [Android XR SDK开发者预览版发布](https://developers.googleblog.com/en/introducing-android-xr-sdk-developer-preview/)：谷歌推出面向扩展现实头显的新平台。正如Oskar所预告，React Native支持即将到来（[演示](https://x.com/o_kwasniewski/status/1868645896239690009)）
- 📣 [Expo - 关于Apple推送通知服务证书变更的重要通知](https://expo.dev/blog/upcoming-apple-push-notification-service-certificate-change)：使用Expo推送服务的开发者无需任何操作
- 📜 [将React Native集成至Signal开源应用](https://blog.swmansion.com/add-react-native-to-the-signal-open-source-app-part-2-android-803c1b726582)：两篇系列教程（iOS+Android）演示如何在现有应用中集成React Native
- 📜 [如何在遗留应用中升级React Native](https://www.callstack.com/blog/how-to-upgrade-react-native-in-a-brownfield-application)
- 📜 [我们如何通过Expo在Marathon应用中实现社交分享功能](https://expo.dev/blog/how-we-promote-social-sharing-on-marathon-with-expo)
- 📜 [在Expo Router中构建无缝导航：标签页、模态框与堆栈](https://medium.com/@coby09/building-seamless-navigation-in-expo-router-tabs-modals-and-stacks-2df1a5522321)
- 📦 [React Native图像游乐场](https://github.com/Ucekay/react-native-image-playground)：集成iOS 18.2+苹果智能图像生成功能到您的应用
- 📦 [Nitro 0.19 - Swift错误处理、双向Promise、类型擦除](https://github.com/mrousavy/nitro/releases/tag/v0.19.0)
- 📦 [Nitro Palette 1.0 - 快速从图像提取配色方案](https://github.com/Ucekay/nitro-palette/releases/tag/v1.0.0)
- 📦 [React Native音量管理器2.0 - 支持新架构、RN 0.76+、iOS 15+、Expo 52+](https://github.com/hirbod/react-native-volume-manager/releases/tag/v2.0.1)
- 📦 [拖拽选择器0.1 - 自动选中列表项的滑动手势工具](https://github.com/osamaqarem/drag-select)
- 📦 [React Native测试库13.0候选版 - 默认启用并发渲染，自动扩展Jest匹配器](https://github.com/callstack/react-native-testing-library/releases/tag/v13.0.0-rc.0)
- 🎥 [Dan实验室 - 用线性代数和React-Native Skia实现基础3D图形](https://www.youtube.com/watch?v=uZBGcbKFhXE)
- 🎥 [Expo全栈Stripe支付集成方案](https://www.youtube.com/watch?v=J0tyxUV_omY)
- 🎙️ [火箭飞船56期 - Bluesky的React Native应用与AT协议解析（Samuel Newman主讲）](https://share.transistor.fm/s/2134db4c)
- 🎙️ [React宇宙直播 - 基于Nitro的React Native性能优化方案](https://www.youtube.com/watch?v=u4PBBLujv7I)

---

## 🔀 其他动态 {#other}

- 📣 [Ecma 426 - 源码映射格式规范](https://ecma-international.org/publications-and-standards/standards/ecma-426/)：难以置信的是，这一标准此前尚未正式确立。
- 📊 [2024年JavaScript现状报告](https://2024.stateofjs.com/en-US)
- 📊 [2024年Node.js性能现状报告](https://nodesource.com/blog/State-of-Nodejs-Performance-2024)
- 📦 [Zod 3.24 - 首个实现标准模式规范的版本](https://github.com/colinhacks/zod/releases/tag/v3.24.0)
- 📦 [Node 23.4 - 正式启用`node:sqlite`模块，新增`--trace-env`参数和`assert.partialDeepStrictEqual`方法](https://nodejs.org/en/blog/release/v23.4.0)
- 📜 [Bun的全新文本式锁文件](https://bun.sh/blog/bun-lock-text-lockfile)

---

## 🤭 轻松一刻 {#fun}

[![alt](/emails/issues/214/meme.jpg)](https://x.com/jordwalke/status/1868092255879540957)

[![alt](/emails/issues/214/meme2.jpg)](https://x.com/wesbos/status/1869032343526322378)

下次见！👋