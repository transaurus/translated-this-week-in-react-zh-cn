---
slug: /188
title: "This Week In React #188: React 19 RC0, Data Fetching, Framer Motion, Compiler, Astro, Zod, Remix, Docusaurus, React-Query,, Memory Leaks, Spline, Module Mocking, Slow Networks, MS Edge, RN Security Guide, RN 0.74.2, Reanimated 3.12, Turborepo 2, Biome 1.8..."
authors: [bndkt]
date: 06-06-2024
---

大家好，

本周由[Benedikt](https://twitter.com/bndkt)代班，Sébastien正在休刊。

React 19即将发布最终版本，本周发布了首个RC版。除此之外，React和React Native社区近期的发布活动并不多。因此本周我决定在两大板块各推荐一篇优质内容：邱俊涛撰写的关于单页应用数据获取模式的万字长文，以及Simon Grimm制作的Expo构建React Native应用全指南视频。

借此机会说明：虽然我和Sébastien都竭力为React和React Native板块筛选最佳内容，但难免会有优秀作品被遗漏。我们始终欢迎投稿推荐，如果您有优质内容创作，请随时告知我们！

<!-- truncate -->

**💡 [在Twitter查看本期简报](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助 {#sponsor1}

[![提升产品能力](/emails/issues/183/posthog.jpg)](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)

**[提升产品能力](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)**

[**工程师的产品思维**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)是PostHog推出的专注帮助工程师提升产品技能的简报。学习如何调研用户需求、打造用户喜爱的功能，以及实现产品市场匹配的路径。

[**免费订阅**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)获取构建优秀产品的精选建议、PostHog开发的经验教训，以及对顶级初创公司策略的深度解析。

---

## ⚛️ React {#react}

📜 **[单页应用数据获取模式](https://martinfowler.com/articles/data-fetch-spa.html)**

这篇长文（约1万字）堪称经典！标题远不能概括其价值，因为除数据获取外，它还涵盖了React基础概念、Suspense、异步状态处理、代码分割、预加载以及避免瀑布流的并行数据获取等。近期Twitter上关于Web应用性能的讨论很多（Rails vs React、微软Edge决策等），本文是夯实基础知识、打造卓越用户体验的绝佳指南！

- 💸 [Meilisearch - 为React构建即时搜索功能](https://www.meilisearch.com/with/react?utm_campaign=sponsoring&utm_source=thisweekinreact)
- 👀 [React Router PR - defineRoute API](https://github.com/remix-run/react-router/pull/11596)
- 🐦 [shadcn/ui正在为图表功能开发支持](https://x.com/shadcn/status/1795920488797188525)
- 🐦 [Remix在Cloudflare Durable Object内部运行🤯](https://x.com/threepointone/status/1796223745243119890)
- 🐦 [React 19.0.0-rc.0](https://x.com/acdlite/status/1797668537349328923): Andrew Clark表示"除非发现问题需要重大变更，否则这就是我们将发布的19.0正式版"
- 🐦 [即将推出的Spline(3D渲染)与NextJS RSC集成](https://x.com/rauchg/status/1798021886657650711)
- 📜 [今天我尝试了React Compiler，结果发现...](https://www.developerway.com/posts/i-tried-react-compiler): 关于React Compiler和实际用例的深度好文。目前似乎还不能完全依赖编译器处理所有记忆化问题，文章也详细解释了记忆化的工作原理。
- 📜 [你还需要Framer Motion吗？](https://motion.dev/blog/do-you-still-need-framer-motion): 这个流行的React动画库作者解释，得益于5个新的/即将推出的CSS特性，你可能不再需要他的库了。
- 📜 [隐蔽的React内存泄漏II：闭包与React Query](https://schiener.io/2024-05-29/react-query-leaks): 继上周好文后的续篇，展示React Query也可能导致内存泄漏及修复方案。使用自定义钩子似乎是解决这类问题的通用方法。
- 📜 [更快的Microsoft Edge](https://blogs.windows.com/msedgedev/2024/05/28/an-even-faster-microsoft-edge/): 微软曾用React构建Edge浏览器部分UI，现正放弃此方案。下方视频有更多背景说明。
- 📜 [加速JavaScript生态系统 - 服务端JSX](https://marvinh.dev/blog/speeding-up-javascript-ecosystem-part-9/): React的JSX运行时可能导致大量对象分配。Marvin(Preact/Deno)展示如何预编译JSX来提升服务端渲染性能并减少GC。或许React也能采用？
- 📜 [Storybook中的类型安全模块模拟](https://storybook.js.org/blog/type-safe-module-mocking/): 利用子路径导入实现模块模拟的优雅方案。
- 📜 [Remix中使用Zod处理多动作处理器](https://www.jacobparis.com/content/zod-actions-remix): 当多个组件调用同一个action端点时，本文展示如何通过可辨识联合来组合不同的Zod模式。
- 📜 [拥抱慢速网络：提升用户体验](https://www.epicweb.dev/embracing-slow-networks-improving-user-experience)
- 📜 [用useSuspenseQuery编写更简洁的组件](https://swizec.com/blog/cleaner-components-with-use-suspense-query/) & [useSuspenseQuery的工作原理](https://swizec.com/blog/why-use-suspense-query-works/)
- 📜 [探索React 19即将推出的新钩子](https://blog.saeloun.com/2024/06/05/new-hooks-in-react-19/)
- 📦 [React 19.0.0-rc.0](https://www.npmjs.com/package/react/v/19.0.0-rc.0): Andrew Clark表示"除非发现问题需要重大变更，否则这就是我们将发布的19.0正式版"
- 📦 [Docusaurus 3.4](https://docusaurus.io/blog/releases/3.4): 新增集中管理标签功能(提升一致性)、实验性哈希路由(支持无web服务器的离线浏览)、本地存储命名空间选项(适用于同域名部署多个Docusaurus实例)
- 🎙 [React月度动态，2024年5月 - React Conf更新](https://www.reactiflux.com/transcripts/tmir-2024-05)
- 🎥 [Jack Herrington - 警惕NextJS App Router中的"auto"模式](https://www.youtube.com/watch?v=bU3Px8bHjPA)
- 🎥 [Theo - 微软后悔在Edge中使用React](https://www.youtube.com/watch?v=Bm8Ga07BOnI)
- 🎥 [Stephanie Dietz - 如何使用React的`useOptimistic`钩子](https://www.youtube.com/watch?v=ChF9-P4Bjs4)
- 🎥 [UI工程 - 为什么95%的弹窗应该是局部的(在React中)](https://www.youtube.com/watch?v=iMoAviG_ZUE)
- 🎥 [Aaron Francis - Laravel vs React](https://www.youtube.com/watch?v=gRtv-BVkwA4)
- 🎥 [Theo - React Query如何胜出](https://www.youtube.com/watch?v=xIflplz925Y)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![WorkOS: 企业级认证分钟级接入](/emails/issues/188/workOS.jpg)](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024)

**[WorkOS: 企业级认证分钟级接入](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024)**

🔐 WorkOS提供完整的用户管理解决方案，支持**单点登录(SSO)、跨域身份管理系统(SCIM)、基于角色的访问控制(RBAC)和细粒度授权(FGA)**。

🗂️ 与其他依赖用户中心模型的认证服务不同，WorkOS专为B2B SaaS设计，采用**组织建模方案**。

🏗️ API设计**灵活易用且模块化**，可按需选择功能，分钟级完成集成。

✨ 用户管理功能**100万月活用户以内免费**，包含机器人防护、身份模拟、多因素认证等特性。

🤝 数百家领先初创企业信任WorkOS，包括**Perplexity**、**Vercel**和**Webflow**。

立即使用[WorkOS](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024)构建面向未来的认证体系 🚀

---

## 📱 React-Native {#react-native}

![Simon Grimm: 使用Expo构建React Native应用](/emails/issues/188/rn188.jpg)

🎥 **[Expo构建React Native应用的全方位指南](https://www.youtube.com/watch?v=cs-zgHjt5RQ)**

条条大路通罗马，而用Expo构建应用的方式几乎同样多样。这赋予开发者极大自由，但有时也会造成困惑——不仅是对新手！幸运的是，Simon通过Expo Go、Expo Prebuild、Xcode、Android Studio和EAS等不同方式制作了精彩的对比视频。借此也祝贺Expo在GitHub上斩获[3万星标！](https://x.com/expo/status/1796262781584654492)

- 💸 [React Native大师课 - 掌握React Native和Expo的唯一课程](https://notjust.dev/react-native-mastery?utm_source=twir&utm_medium=email)
- 🐦 [最强AI演示应用：通过Expo Router实现RSC](https://x.com/Baconbrix/status/1795804445738963283)：我们曾讨论过Evan Bacon的RSC演示。这个推文线程精彩总结了技术前景，并包含展示移动端LLM聊天应用卓越UI的对比视频。
- 📜 [React Native安全指南](https://ospfranco.com/react-native-security-guide/)：Oscar探讨了这个常被忽视的话题。指南涵盖密钥管理（TLDR: 不要存储在设备上）和用户数据加密（包括生物识别技术应用）。
- 📜 [无缝迁移：从原生到React Native](https://commerce.nearform.com/blog/2024/seamless-transitions-from-native-to-react-native)：针对存量应用开发的建议：由于RN生成的是真正的原生应用，现有应用中引入RN或迁移至RN可对终端用户完全透明。
- 📦 [React Native 0.74.2](https://github.com/facebook/react-native/releases/tag/v0.74.2)：补丁版本，更新typescript-eslint等依赖并修复若干缺陷。
- 📦 [React Native Reanimated 3.12.0](https://github.com/software-mansion/react-native-reanimated/releases/tag/3.12.0)：新增useComposedEventHandler钩子，简化多事件处理器合并操作。
- 🎙️ [RNR 298期 - 与Dan Stepanov探讨Create Expo Stack、NativeWind UI和Plugin Pro](https://reactnativeradio.com/episodes/rnr-298-create-expo-stack-nativewind-ul-plugin-pro-with-dan-stepanov)
- 🎥 [火箭飞船42号 - React Native生命力！Áron Berezkin的App.js大会回顾](https://www.youtube.com/watch?v=GeUfrojkoo0)
- 🎥 [Expo - 2分钟创建你的首个Expo项目](https://www.youtube.com/watch?v=yOUAEfDuI44)

---

## 🔀 其他 {#other}

- 🐦 [使用Chrome开发者工具排查内存问题](https://x.com/addyosmani/status/1796527052306419820)
- 👀 [Vitest浏览器模式](https://github.com/vitest-dev/vitest/discussions/5828)
- 📜 [2024年值得使用的10个现代Node.js运行时特性](https://snyk.io/blog/10-modern-node-js-runtime-features/)
- 📜 [TypeScript monorepo中的动态类型——告别静态类型声明](https://colinhacks.com/essays/live-types-typescript-monorepo)
- 📜 [Corepack使用指南](https://www.totaltypescript.com/how-to-use-corepack)
- 📜 [Promise从入门到精通](https://www.joshwcomeau.com/javascript/promises/)
- 📜 [Zero：重新思考面向Web的本地优先通用同步引擎](https://zerosync.dev/)
- 📦 [Turborepo 2.0——全新终端UI、监听模式、重构文档](https://turbo.build/blog/turbo-2-0)
- 📦 [Biome 1.8——支持CSS、新增报告功能、CLI改进...](https://x.com/biomejs/status/1797963672004043040)
- 📦 [Deno 1.44——私有npm仓库支持、增强Node.js兼容性及性能提升](https://deno.com/blog/v1.44)

---

## 🤭 轻松一刻 {#fun}

[![感谢JavaScript](/emails/issues/188/meme.jpg)](https://x.com/fireship_dev/status/1796526654183059925)

下期见！👋