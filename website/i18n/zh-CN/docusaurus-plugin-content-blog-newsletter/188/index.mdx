---
slug: /188
title: "This Week In React #188: React 19 RC0, Data Fetching, Framer Motion, Compiler, Astro, Zod, Remix, Docusaurus, React-Query,, Memory Leaks, Spline, Module Mocking, Slow Networks, MS Edge, RN Security Guide, RN 0.74.2, Reanimated 3.12, Turborepo 2, Biome 1.8..."
authors: [bndkt]
date: 06-06-2024
---

大家好，

本周由[Benedikt](https://twitter.com/bndkt)代班，Sébastien正在休刊。

React 19已发布首个候选版本，正式版即将面世。本周React和React Native社区的新版本动态不多，因此我决定在两大板块各推荐一篇优质内容：邱俊涛撰写的万字长文《单页应用数据获取模式》，以及Simon Grimm制作的关于Expo构建React Native应用的精彩视频指南。

借此机会想告诉大家，虽然我和Sébastien都竭力为React和React Native板块精选最佳内容，但难免会有遗漏。我们始终欢迎投稿推荐，如果你有优质内容产出，请随时联系我们！

<!-- truncate -->

**💡 [在Twitter查看本期简报](https://slo.im/thread) - 可视化排版 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![提升产品能力](/emails/issues/183/posthog.jpg)](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)

**[提升产品能力](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)**

[**工程师的产品思维**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)是PostHog推出的专栏，致力于帮助工程师提升产品能力。学习如何调研用户需求、打造用户喜爱的功能，以及达成产品市场匹配的路径。

[**免费订阅**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)获取构建优秀产品的专业建议、PostHog开发的经验教训，以及对顶尖初创公司策略的深度解析。

---

## ⚛️ React {#react}

📜 **[单页应用数据获取模式](https://martinfowler.com/articles/data-fetch-spa.html)**

这篇长文（约1万字）堪称经典！标题远不能概括其价值——除了数据获取，它还深入探讨了React基础概念、Suspense、异步状态处理、代码分割、预加载以及避免瀑布流的并行数据获取。近期关于Web应用性能的讨论甚嚣尘上（Rails vs. React、微软Edge决策等），本文正是重温这些基础概念、打造卓越用户体验的绝佳材料！

- 💸 [Meilisearch - 为React构建实时搜索功能](https://www.meilisearch.com/with/react?utm_campaign=sponsoring&utm_source=thisweekinreact)
- 👀 [React Router PR - defineRoute API](https://github.com/remix-run/react-router/pull/11596)
- 🐦 [shadcn/ui正在为图表功能进行开发](https://x.com/shadcn/status/1795920488797188525)
- 🐦 [Remix在Cloudflare Durable Object内部运行 🤯](https://x.com/threepointone/status/1796223745243119890)
- 🐦 [React 19.0.0-rc.0](https://x.com/acdlite/status/1797668537349328923): Andrew Clark表示"除非报告需要破坏性变更的问题，否则这就是我们将发布的19.0正式版"。
- 🐦 [即将推出的Spline(3D渲染)与NextJS RSC集成](https://x.com/rauchg/status/1798021886657650711)
- 📜 [今天我尝试了React Compiler，结果发现...](https://www.developerway.com/posts/i-tried-react-compiler): 关于React Compiler和实际用例的深度分析文章。目前似乎还不能完全依赖编译器处理所有记忆化问题，文章也详细回顾了记忆化机制的工作原理。
- 📜 [你还需要Framer Motion吗？](https://motion.dev/blog/do-you-still-need-framer-motion): 这款流行React动画库的创作者解释，得益于5项新的/即将推出的CSS特性，你可能不再需要他的库了。
- 📜 [隐秘的React内存泄漏II：闭包与React Query](https://schiener.io/2024-05-29/react-query-leaks): 延续上周的优秀文章，展示React Query如何可能引发内存泄漏及修复方案。使用自定义Hook似乎是解决此类问题的通用方案。
- 📜 [更快的Microsoft Edge](https://blogs.windows.com/msedgedev/2024/05/28/an-even-faster-microsoft-edge/): 微软曾用React构建Edge浏览器部分UI元素，现正放弃此方案。下方链接视频提供了更多背景。
- 📜 [加速JavaScript生态 - 服务端JSX](https://marvinh.dev/blog/speeding-up-javascript-ecosystem-part-9/): React的JSX运行时可能导致大量对象分配。Marvin(Preact/Deno)展示通过预编译JSX提升服务端渲染性能并减少GC。或许React也可借鉴？
- 📜 [Storybook中的类型安全模块模拟](https://storybook.js.org/blog/type-safe-module-mocking/): 利用子路径导入实现模块模拟的优雅方案。
- 📜 [Remix中结合Zod处理多动作](https://www.jacobparis.com/content/zod-actions-remix): 当多个组件调用同一action端点时，本文演示如何通过可辨识联合合并不同的Zod模式。
- 📜 [拥抱慢速网络：提升用户体验](https://www.epicweb.dev/embracing-slow-networks-improving-user-experience)
- 📜 [使用useSuspenseQuery编写更简洁的组件](https://swizec.com/blog/cleaner-components-with-use-suspense-query/) & [useSuspenseQuery的工作原理](https://swizec.com/blog/why-use-suspense-query-works/)
- 📜 [探索React 19即将推出的新Hook](https://blog.saeloun.com/2024/06/05/new-hooks-in-react-19/)
- 📦 [React 19.0.0-rc.0](https://www.npmjs.com/package/react/v/19.0.0-rc.0): Andrew Clark表示"除非报告需要破坏性变更的问题，否则这就是我们将发布的19.0正式版"。
- 📦 [Docusaurus 3.4](https://docusaurus.io/blog/releases/3.4): 新增集中管理标签功能(提升一致性)、实验性哈希路由(支持无web服务器的离线浏览)、本地存储命名空间选项(适用于同一域名部署多个Docusaurus实例)。
- 🎙 [本月React动态，2024年5月 - React Conf更新](https://www.reactiflux.com/transcripts/tmir-2024-05)
- 🎥 [Jack Herrington - 警惕NextJS App Router中的"auto"模式](https://www.youtube.com/watch?v=bU3Px8bHjPA)
- 🎥 [Theo - 微软后悔在Edge中使用React](https://www.youtube.com/watch?v=Bm8Ga07BOnI)
- 🎥 [Stephanie Dietz - 如何使用React的`useOptimistic` Hook](https://www.youtube.com/watch?v=ChF9-P4Bjs4)
- 🎥 [UI工程 - 为什么95%的弹窗应该是局部的(在React中)](https://www.youtube.com/watch?v=iMoAviG_ZUE)
- 🎥 [Aaron Francis - Laravel vs React](https://www.youtube.com/watch?v=gRtv-BVkwA4)
- 🎥 [Theo - React Query如何胜出](https://www.youtube.com/watch?v=xIflplz925Y)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![WorkOS：企业级认证分钟级接入](/emails/issues/188/workOS.jpg)](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024)

**[WorkOS：企业级认证分钟级接入](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024)**

🔐 WorkOS提供完整的用户管理解决方案，支持**单点登录(SSO)、跨域身份管理系统(SCIM)、基于角色的访问控制(RBAC)和细粒度授权(FGA)**。

🗂️ 与其他依赖用户中心模型的认证服务不同，WorkOS专为B2B SaaS设计，采用**组织建模方案**。

🏗️ API设计**灵活易用且模块化**，可按需选择功能，分钟级完成集成。

✨ 用户管理功能**免费支持100万月活用户**，包含机器人防护、身份模拟、多因素认证等特性。

🤝 数百家领先初创企业信任WorkOS，包括**Perplexity**、**Vercel**和**Webflow**。

立即使用[WorkOS](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024)构建面向未来的认证体系 🚀

---

## 📱 React-Native {#react-native}

![Simon Grimm：使用Expo构建React Native应用](/emails/issues/188/rn188.jpg)

🎥 **[使用Expo构建React Native应用的多种方式](https://www.youtube.com/watch?v=cs-zgHjt5RQ)**

条条大路通罗马，构建Expo应用的方式也多种多样。这为开发者提供了强大的自由度和灵活性，但有时也会造成困惑——不仅对新手如此！值得庆幸的是，Simon制作了精彩的视频对比通过Expo Go、Expo Prebuild、Xcode、Android Studio和EAS的不同构建方式。同时也祝贺Expo在GitHub上获得[3万星标！](https://x.com/expo/status/1796262781584654492)

- 💸 [React Native大师课 - 掌握React Native和Expo的唯一课程](https://notjust.dev/react-native-mastery?utm_source=twir&utm_medium=email)
- 🐦 [最强大的AI演示应用，通过Expo Router实现RSC](https://x.com/Baconbrix/status/1795804445738963283)：我们之前讨论过Evan Bacon的RSC演示。这篇推文很好地总结了其潜力，并包含精彩的对比视频展示移动端UI（尤其是LLM聊天应用）能达到的高度。
- 📜 [React Native安全指南](https://ospfranco.com/react-native-security-guide/)：Oscar探讨了这个常被忽视的话题。指南涵盖密钥管理（TLDR：不要存储在设备上）和用户数据加密（包括生物识别技术应用）。
- 📜 [无缝过渡：从原生开发到React Native](https://commerce.nearform.com/blog/2024/seamless-transitions-from-native-to-react-native)：为存量应用开发提供思路：由于RN生成真正的原生应用，在现有应用中引入RN或迁移至RN对终端用户可做到无缝衔接。
- 📦 [React Native 0.74.2](https://github.com/facebook/react-native/releases/tag/v0.74.2)：补丁版本，更新部分依赖（typescript-eslint、CLI）并修复错误。
- 📦 [React Native Reanimated 3.12.0](https://github.com/software-mansion/react-native-reanimated/releases/tag/3.12.0)：新增useComposedEventHandler钩子，简化多事件处理器的合并操作。
- 🎙️ [RNR 298期 - 专访Dan Stepanov：Create Expo Stack、NativeWind UI和Plugin Pro](https://reactnativeradio.com/episodes/rnr-298-create-expo-stack-nativewind-ul-plugin-pro-with-dan-stepanov)
- 🎥 [火箭飞船42期 - React Native活力依旧！Áron Berezkin谈App.js大会见闻](https://www.youtube.com/watch?v=GeUfrojkoo0)
- 🎥 [Expo - 2分钟创建你的首个Expo项目](https://www.youtube.com/watch?v=yOUAEfDuI44)

---

## 🔀 其他 {#other}

- 🐦 [使用Chrome开发者工具排查内存问题](https://x.com/addyosmani/status/1796527052306419820)
- 👀 [Vitest浏览器模式](https://github.com/vitest-dev/vitest/discussions/5828)
- 📜 [2024年值得使用的10个现代Node.js运行时特性](https://snyk.io/blog/10-modern-node-js-runtime-features/)
- 📜 [TypeScript monorepo中的动态类型——告别死代码](https://colinhacks.com/essays/live-types-typescript-monorepo)
- 📜 [Corepack使用指南](https://www.totaltypescript.com/how-to-use-corepack)
- 📜 [Promise从入门到精通](https://www.joshwcomeau.com/javascript/promises/)
- 📜 [Zero：重新思考Web端本地优先的通用同步引擎](https://zerosync.dev/)
- 📦 [Turborepo 2.0——全新终端UI、监听模式、重构文档](https://turbo.build/blog/turbo-2-0)
- 📦 [Biome 1.8——支持CSS、新增报告功能、CLI改进...](https://x.com/biomejs/status/1797963672004043040)
- 📦 [Deno 1.44——私有npm仓库、增强Node.js兼容性及性能提升](https://deno.com/blog/v1.44)

---

## 🤭 轻松一刻 {#fun}

[![感谢JavaScript](https://x.com/fireship_dev/status/1796526654183059925)](https://x.com/fireship_dev/status/1796526654183059925)

下次见！👋