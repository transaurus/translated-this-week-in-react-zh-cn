---
slug: /158
title: "This Week In React #158: Astro, Server Components, VisionCamera, Owner Tree, Props Drilling, Next.js, Remix, Chakra, TypeScript, Skia, Biome, CSS, Node.js..."
authors: [slorber]
date: 09-06-2023
---

大家好！

本期我们将涵盖两周的新闻，包括两个重要版本发布：Astro 3.0 和 VisionCamera 3.0。同时还有大量精彩文章，因此我不得不进行筛选！

Bun 1.0 将于今晚发布。我很好奇他们的规划。在单元测试中用它替代 Jest 进行测试时，速度确实非常快。

React-Native EU 大会今日开幕。我发现了[🐦 一些非常有趣的演讲](https://twitter.com/sebastienlorber/status/1696837186677530813)，特别是关于 Static Hermes 的分享。

想去意大利的朋友可以参加10月27日在维罗纳举办的[reactjsday](https://2023.reactjsday.it/)。主办方为读者提供[-10%门票优惠](https://ti.to/grusp/reactjsday-2023/discount/media_TWIR)和2张在线参会名额，前两位回复邮件申领的读者将获得赠票。

我常忘记在这里提及，但我坚持"公开构建"。你可以查看我最新的[月度独立开发者报告](https://www.indiehackers.com/product/french-react-newsletter)和[🐦 Twitter详情](https://twitter.com/sebastienlorber/status/1699065823959421109)。

<!-- truncate -->

**💡 [在Twitter查看本期简报](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![Frontendmasters](/emails/issues/158/frontendmasters.jpg)](https://frontendmasters.com/learn/react/?utm_source=newsletter&utm_medium=thisweekinreact&utm_campaign=reactpath)

**[FrontendMasters - 从入门到资深React开发者的完整学习路径](https://frontendmasters.com/learn/react/?utm_source=newsletter&utm_medium=thisweekinreact&utm_campaign=reactpath)**

从零开始学习React.js，直至掌握性能优化、测试和代码质量等高级主题。首先通过《React完全入门》构建真实应用，接着学习《中级React》集成生态流行工具，最后深入性能优化、TypeScript乃至全栈框架Next.js！

---

## ⚛️ React {#react}

[![Astro 3.0](/emails/issues/158/astro3.jpg)](https://astro.build/blog/astro-3/)

[**Astro 3.0**](https://astro.build/blog/astro-3/)

新版本创新性地运用了View Transition API，实现页面间流畅的转场动画效果，同时保持组件状态，这在许多场景下减少了对SPA的需求。

其他显著改进包括：

- 图片优化功能稳定版
- 渲染性能提升30-75%
- 无服务端SSR增强：新增与托管平台对接方案
- JSX的HMR增强：支持React/Preact的快速刷新
- 构建输出优化：生成更简洁高效的HTML

---

[![理解React服务端组件](/emails/issues/158/rsc.jpg)](https://www.joshwcomeau.com/react/server-components/)

[**理解React服务端组件**](https://www.joshwcomeau.com/react/server-components/)

Josh Comeau 带着他对React服务端组件的精彩解读回归，这篇出自他下周即将发布的[课程](https://www.joyofreact.com/)内容。丰富的动态图解让这个React新范式变得通俗易懂。

---

- 💸 [从零到上线 - 掌握快速全栈开发并**最终**发布产品](https://www.zerotoshipped.com/)
- 🐦 [Remix v2 预发布版](https://twitter.com/remix_run/status/1696525340640936190)：若已启用 [v2 未来标志](https://remix.run/blog/future-flags)，升级过程将更顺畅并可移除这些标志。
- 🐦 [Dan Abramov 加入 Bluesky](https://twitter.com/dan_abramov/status/1695566446007386214)：Dan 已离开 Meta 并加入这个基于跨平台 Expo 应用的 Twitter 竞品。我认为这是重大利好消息，我们可能收获了一位强力布道者 [推广跨平台与 Expo](https://twitter.com/dan_abramov/status/1699476986727399933)。
- 🐦 [Next.js App Router 测试文档（进行中）](https://twitter.com/leeerob/status/1698758756924825723)
- 🧑‍🎓 [Next.js App Router - 表单与数据变更文档](https://nextjs.org/docs/app/building-your-application/data-fetching/forms-and-mutations)：新文档页面详解 Server Actions 及 React `useFormStatus`、`useOptimistic` 钩子的使用。
- 💬 [Next.js Tim Neutkens 深度探讨 - 缓存与重新验证](https://github.com/vercel/next.js/discussions/54075)
- 📜 [React 中的父级与所有者：数据流](https://julesblom.com/writing/parents-owners-data-flow)：原创交互式可视化文章，解析属性钻取问题及如何通过插槽组件规避。清晰图解父级树与所有者树概念。
- 📜 [挑战既定规范：让组件级数据获取成为例外](https://jjenzz.com/making-component-fetching-the-exception/)：提倡在路由层级执行查询以避免瀑布流，并通过组合模式规避属性钻取。
- 📜 [Rust 服务端组件](https://anto.pt/articles/rust-server-components)：尝试用 Rust、HTMX 等库部分复现 RSC、MDX 和 Suspense 功能。"相当于 Rust 版的 T3 技术栈"。虽不熟悉 Rust 也值得一读，但不确定其解决方案能否完全覆盖 RSC 的功能。
- 📜 [Chakra、Panda 与 Ark - 未来规划是什么？](https://www.adebayosegun.com/blog/chakra-panda-ark-whats-the-plan)：Segun 解答关于其库的诸多疑问。Chakra v3 将于第四季度发布，仍使用 Emotion。"use client" 的加入使其更易在 RSC 中使用。采用 Radix 的 `asChild` 模式。
- 📜 [如何在 React 中将组件作为属性传递](https://www.totaltypescript.com/pass-component-as-prop-react)：Matt 分享 TypeScript + React 类型技巧。实现 "as" 属性的类型定义相当复杂 😬。
- 📜 [在 Remix 应用中通过 zod 实现类型安全的 toast 通知](https://alemtuzlak.hashnode.dev/handling-toasts-in-remix)：讲解如何利用 Remix 闪存会话在操作后提供反馈。
- 📜 [为 Vercel 优化 Next.js 冷启动](https://holocron.so/blog/optimizing-next.js-cold-starts-for-vercel)
- 📜 [使用 TypeScript 强类型化 React 属性](https://www.totaltypescript.com/react-props-typescript)
- 📜 [你可能不需要 useEffectAsync 钩子](https://krassnig.dev/blog/you-might-not-need-a-use-effect-async-hook.html)
- 📜 [Web 开发者们，CSS-in-JS 正在损害你的产品](https://cord.com/blog/migrating-from-css-in-js-to-vanilla-extract)
- 📜 [构建你自己的无头 UI 组件](https://www.jacobparis.com/content/react-headless-submenus)
- 📜 [构建 toast 通知组件](https://emilkowal.ski/ui/building-a-toast-component)
- 📦 [next-flat-routes](https://github.com/ifyio/next-flat-routes)
- 📦 [Puck - 自托管的 React 拖拽编辑器](https://github.com/measuredco/puck)
- 📦 [react-prod-sourcemaps](https://github.com/markerikson/react-prod-sourcemaps)
- 📦 [Reshaped 2.2 - 现已登陆 NPM](https://reshaped.so/content/blog/2.2)
- 👥 [reactjsday](https://2023.reactjsday.it/)（意大利维罗纳，2023年10月27日）为我们提供 [会议门票 -10% 折扣](https://ti.to/grusp/reactjsday-2023/discount/media_TWIR)，优惠码 "media_TWIR"

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![谷歌表单的非云端替代方案，功能一应俱全](/emails/issues/155/surveyjs.jpg)](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=email)

**[谷歌表单的非云端替代方案，功能一应俱全](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=email)**

如果您正在寻找一个完全集成到IT基础设施中的强大表单管理系统，希望完全掌控数据流，同时不想花费数月时间和数千美元来搭建系统，那么SurveyJS正是您需要的解决方案！

SurveyJS是由四个开源JavaScript库组成的产品套件，支持通过拖拽式表单构建器创建和编辑多个基于JSON的动态表单，在React应用中渲染它们，并将敏感调查数据存储于内部基础设施中。您还可以将自定义调查问卷渲染为可编辑的PDF文件，并通过交互式图表和表格可视化调查结果。[立即了解更多](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=email)。

---

## 📱 React-Native {#react-native}

[![VisionCamera 3.0](/emails/issues/158/visioncamera3.jpg)](https://github.com/mrousavy/react-native-vision-camera/releases/tag/v3.0.0)

[**VisionCamera 3.0**](https://github.com/mrousavy/react-native-vision-camera/releases/tag/v3.0.0)

VisionCamera的新版本刚刚发布，主要亮点包括：

- 完整的Android Camera2重写
- 自定义GPU OpenGL视频处理管线
- 新增相机功能
- 全新的帧处理器引擎（react-native-worklets-core）
- 新增帧处理器插件API

Marc最终决定[移除与Skia的集成](https://github.com/mrousavy/react-native-vision-camera/pull/1740)，以保持VisionCamera的代码体积和复杂度在合理范围内。

在[**使用VisionCamera V3、TFLite和Skia进行姿态检测**](https://mrousavy.com/blog/VisionCamera-Pose-Detection-TFLite)一文中，他阐述了此类集成的可能性，实际效果令人印象深刻。

[![使用VisionCamera V3、TFLite和Skia进行姿态检测](/emails/issues/158/frame-processing-skia.jpg)](https://mrousavy.com/blog/VisionCamera-Pose-Detection-TFLite)

---

- 📜 [React Native未来值得期待的特性](https://buttondown.email/whatever_jamie/archive/things-to-look-forward-to-in-react-native/)：全面展望了React Native未来几年的发展方向，包括Web一致性、静态Hermes、Node-API、React服务端组件等
- 📜 [React Native性能测量与监控工具指南](https://semaphoreci.com/blog/react-native-performance-measuring-monitoring-tools)
- 🧵 [通过真实案例详解React Native手势处理库的所有手势](https://twitter.com/kacperkapusciak/status/1698719844089160189)
- 👀 [Expo新功能：通过EAS Insights了解用户行为并促进应用增长](https://expo.dev/changelog/2023/08-22-insights)
- 📦 [expo-ahap - 苹果触觉与音频模式库](https://github.com/EvanBacon/expo-ahap)
- 📦 [react-native-z-view三维视图组件](https://github.com/intergalacticspacehighway/react-native-z-view)
- 📦 [Universal Medusa - 基于Expo/Solito/Next.js/Nativewind/Medusa的全栈电商模板](https://github.com/bidah/universal-medusa/)
- 🔗 [Awesome Universal React - 跨端框架/组件库/设计系统/应用资源大全](https://github.com/axeldelafosse/awesome-universal-react)
- 🎥 [React Native实验性模糊渐变效果实现](https://www.youtube.com/watch?v=oboF_H1MApo)
- 🎥 [使用React Native Skia复刻iPhone动态壁纸](https://www.youtube.com/watch?v=Apqd749v34I)
- 👥 [React Native EU 2023大会](https://www.react-native.eu/)（波兰弗罗茨瓦夫，9月7-8日）提供[门票85折优惠码](https://ti.to/react-native-eu/2023/discount/thisweekinreact15)"thisweekinreact15"

---

## 🔀 其他领域 {#other}

- 📊 [2023年CSS现状调查报告](https://2023.stateofcss.com/)
- 📜 [当Node.js遇上Rust](https://gal.hagever.com/posts/my-node-js-is-a-bit-rusty)
- 📜 [Birome工具链正式分叉自Rome项目](https://biomejs.dev/blog/annoucing-biome)
- 📜 [视图过渡动画可能破坏渐进式渲染](https://ericportis.com/posts/2023/view-transitions-break-incremental-rendering/)
- 📜 [合理运用Web Components的优势场景](https://nolanlawson.com/2023/08/23/use-web-components-for-what-theyre-good-at/)
- 📜 [基于@property实现类型安全的CSS设计系统](https://nerdy.dev/cant-break-this-design-system)
- 👀 [TypeScript 5.3迭代计划](https://github.com/microsoft/TypeScript/issues/55486)
- 📦 [TypeScript 5.2正式发布](https://devblogs.microsoft.com/typescript/announcing-typescript-5-2/)
- 📦 [Node.js 20.6新增原生.env文件支持](https://nodejs.org/en/blog/release/v20.6.0)
- 📦 [Firefox 117全面支持CSS嵌套语法](https://www.mozilla.org/en-US/firefox/117.0/releasenotes/)
- 📦 [Espresso Build实验性下一代包管理工具链](https://espresso.build/)

---

## 🤭 轻松一刻 {#fun}

[![趣味图片](/emails/issues/158/meme.jpg)](https://twitter.com/sebastienlorber/status/1687456078198394882)

下期见！👋