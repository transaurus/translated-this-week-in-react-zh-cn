---
slug: /140
title: "This Week In React #140: React Labs, Server Components, Next.js, Remix, Storybook, Astro, refs, Ark, Impala, Docusaurus, Expo-Blur, WebView, AsyncContext..."
authors: [slorber]
date: 04-04-2023
---

大家好！

我刚结束休假归来：我们将补上过去两周的新闻！

最新一篇React Labs文章将React Forget描述为响应式编译器。

服务端组件持续带来惊喜。许多相关创新目前仅见于零星推文，尚未被广泛讨论。

React Native开发者请注意：美国波特兰举办的**[Chain React](https://chainreactconf.com/)**大会（5月18-19日）是个绝佳机会。使用优惠码`thisweekinreact`可享9折。

<!-- truncate -->

**💡 [在Twitter查看本期简报](https://slo.im/thread) - 可视化排版 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助 {#sponsor1}

[![React-admin](/emails/issues/140/reactadmin.jpg)](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)

**[React-admin - 开源B2B应用框架](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)**

单页应用仍是基于REST/GraphQL接口构建管理后台、B2B应用和ERP系统的最佳选择。[React-admin](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)是**构建SPA的开源标杆框架**。

提供150+商业导向组件库。非UI套件：它基于最佳React UI套件MUI构建。通过整合顶尖类库并处理所有重复性工作，显著提升开发效率。

最大亮点？极致的开发者体验，辅以优秀文档和活跃社区。[30分钟即可入门](https://marmelab.com/react-admin/Tutorial.html) 🚀

持续维护5年，全球20,000+开发者信赖。永久免费，立即体验！😁

---

## ⚛️ React {#react}

[![React Labs](/emails/issues/140/reactlabs.jpg)](https://react.dev/blog/2023/03/22/react-labs-what-we-have-been-working-on-march-2023)

**[React实验室：2023年3月工作进展](https://react.dev/blog/2023/03/22/react-labs-what-we-have-been-working-on-march-2023)**

来自React研发团队的官方更新，涵盖多个领域：

- 服务端组件：Next.js的App Router已提供优秀实现。支持async/await的RSCs也可在客户端运行。团队似乎希望统一客户端/服务端模型，[AsyncContext](https://twitter.com/sebastienlorber/status/1639183216799100928)对此将大有裨益！
- 资源加载：与Suspense集成以加载CSS、字体和图片（[详情](https://twitter.com/acdlite/status/1637102880850059264)）
- 文档元数据：原生支持带流式渲染的`<head>`元数据API
- React优化编译器：不再定位自动记忆编译器，而是响应式编译器。[React Forget取得阶段性成果](https://twitter.com/en_JS/status/1641494974893281282)，正聚焦集成工作
- 离屏渲染：区别于其他框架的创新功能，Meta在React-Native应用中测试预渲染效果显著
- 过渡追踪：可检测缓慢过渡

---

- 🥇 [React.dev 登上 ProductHunt - 当日最佳产品](https://twitter.com/ProductHunt/status/1640956972450328577)
- 👤 [Tom Occhino](https://twitter.com/tomocchino/status/1640800001625411606) 和 [Dominic Gannaway](https://twitter.com/trueadm/status/1640761270566633472) 加入 Vercel。
- 👀 服务端组件可以[惰性发送模块](https://twitter.com/dan_abramov/status/1638760757239087104)至客户端。
- 👀 [Jarred Summer - "Bun v0.6.0 将支持服务端组件"](https://twitter.com/jarredsumner/status/1642821108402630657)
- 👀 [Lee Robinson - "Next.js 即将改进站点地图支持"](https://twitter.com/leeerob/status/1639639575843729409)
- 👀 [Lee Robinson - "Next.js App Router 现已支持静态导出！"](https://twitter.com/leeerob/status/1640445075959484418)
- 👀 [Astro 路线图 - 客户端路由](https://github.com/withastro/roadmap/issues/532)：Astro 计划实现客户端导航。可选功能：Astro 默认仍为 MPA 框架。
- 👀 [Vercel - 无限制的 Remix](https://vercel.com/blog/vercel-remix-integration-with-edge-functions-support)：Vercel 现提供与 Remix 的一流集成。
- 🐦 [Dan Abramov - "我们已更新表单推荐方案，强调非受控输入"](https://twitter.com/dan_abramov/status/1641830612955803650)
- 📜 [2023 年从两个角度学习 React](https://www.robinwieruch.de/learning-react/)：可将 React 作为库或框架/架构（Next.js）学习。对初学者而言不易选择起点。
- 📜 [React 中的 Refs：从访问 DOM 到命令式 API](https://www.developerway.com/posts/refs-from-dom-to-api)：清晰介绍 refs、forwardRef、useImperativeHandle。
- 📜 [重新思考 React 最佳实践](https://frontendmastery.com/posts/rethinking-react-best-practices/)：准确描述了 React 从简单 UI 库逐步转向全栈架构的趋势。
- 📜 [isMounted 技巧是代码异味](https://reacttraining.com/blog/isMounted-tricks-are-code-smell)：若使用此类模式，未来 Offscreen API 可能引发问题。
- 📜 [在已卸载组件上设置状态](https://reacttraining.com/blog/setting-state-on-unmounted-component)
- 📜 [useEffect 清理函数及其两种调用场景](https://reacttraining.com/blog/useEffect-cleanup)
- 📜 [具有影响力的新 React 文档将如何影响 Web 开发的未来？](https://luketheweb.dev/blog/how-will-the-future-of-web-development-be-affected-by-influential-new-react-docs)
- 📜 [用一行代码让 Tanstack Table 提速 1000 倍](https://jpcamara.com/2023/03/07/making-tanstack-table.html)
- 📜 [如何用 Next.js 和 Vercel Edge Config 实现零 CLS 的 A/B 测试](https://vercel.com/blog/zero-cls-experiments-nextjs-edge-config)
- 📜 [使用 Next.js 和 `next/font` 实现无损自定义字体](https://vercel.com/blog/nextjs-next-font)
- 📜 [利用 Remix 嵌套路由实现页面过渡动画](https://www.jacobparis.com/guides/remix-animated-page-transitions)
- 📦 [Storybook 7.0](https://github.com/storybookjs/storybook/releases/tag/v7.0.0)：重磅版本支持 Vite、CSF3、API 框架、MDX2... 新特性此前已预告，近期或有博文详解？
- 📦 [服务端组件演示项目更新](https://twitter.com/dan_abramov/status/1641596168290312195)
- 📦 [Ark UI](https://ark-ui.com/)：Chakra UI 团队推出基于 Zag.js 状态机的新通用 UI 库（支持 React/Vue/Solid）。
- 📦 [Simple-RSC](https://github.com/bholmesdev/simple-rsc)：简洁带注释的服务端组件实现，关联 [Ben Holmes（Astro）与 Dan Abramov 的长篇讨论](https://twitter.com/BHolmesDev/status/1641659705444401152)。
- 📦 [Impala - 极简静态 React 框架](https://github.com/ascorbic/impala)
- 📦 [Webpack-RSC](https://twitter.com/unstubbable/status/1641495749627109380)
- 📦 [MDX 语法高亮 VS Code 插件](https://twitter.com/wooorm/status/1638898049404612608)
- 📦 [ContentLayer 0.3.1 - 支持 React 服务端组件](https://github.com/contentlayerdev/contentlayer/releases/tag/v0.3.1)
- 📦 [样式插件：在 Storybook 中配置样式与主题](https://storybook.js.org/blog/styling-addon-configure-styles-and-themes-in-storybook/)
- 📦 [Docusaurus 2.4](https://docusaurus.io/blog/releases/2.4)
- 📦 [Framer Motion 10.9 - 时间轴功能](https://twitter.com/mattgperry/status/1639286184965750790)
- 📦 [Planby 2.3.0 - React 日程/时间轴组件](https://dev.to/kozerkarol/schedule-timeline-for-react-with-planby-223-2djf)
- 📦 [Ionic 7](https://ionic.io/blog/ionic-7-is-here)
- 🧑‍🎓 [React.gg](https://react.gg)：新锐 React 课程限时内测
- 🎥 [Theo - 我与 Dan 的通话实录...](https://www.youtube.com/watch?v=qZzmUVspiEo)：认同客户端/服务端组件命名欠佳，"use interactive" 似为良策。
- 🎥 [更智能简洁的 React 状态管理](https://www.youtube.com/watch?v=Cp64YbYBNDA)
- 🎥 [Next.js App Router：路由、数据获取与缓存](https://www.youtube.com/watch?v=gSSsZReIFRk)
- 🎥 [官方 T3 技术栈教程](https://www.youtube.com/watch?v=YkOSUVzOAA4)

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

[![Tina.io 是为 Markdown 驱动站点打造的无头 CMS](/emails/issues/140/tinacms.jpg)](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)

**[Tina.io 是为 Markdown 驱动站点打造的无头 CMS](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)**

- 为 Markdown 文件提供可视化编辑界面
- 支持 MDX 组件编辑
- 同时支持静态生成 (SSG) 和服务端渲染 (SSR)
- 可选实时预览编辑模式
- 基于可复用区块构建

体验 starter 项目

- [Docusaurus 集成](https://github.com/tinacms/tinasaurus) (github.com)
- [Next.js + Tailwind 可视化编辑](https://github.com/tinacms/tina-cloud-starter) (github.com)

或运行 `npx create-tina-app@latest` 后访问 `localhost:3000/admin`

观看 [4 分钟演示视频](https://www.youtube.com/watch?v=zRkeKSZjlyw)

---

## 📱 React-Native 动态 {#react-native}

- 📜 [React Native 版 Storybook (6.5)](https://storybook.js.org/blog/storybook-for-react-native-6-5/)：重大更新，RN 集成正逐步对齐 Web 版 Storybook 功能，已支持 CSF 格式、控件、参数等特性，即将兼容 Storybook 7.0。借助 Metro 新特性(`require.context`)，未来可免去生成故事索引文件。
- 📜 [Shopify POS 从原生 Redux 迁移到 Redux Toolkit 的实践](https://shopify.engineering/react-redux-toolkit-migration)：增量迁移经验分享，成功删减 3500 行代码。
- 👀 [RFC：React Native 的 DOM 遍历与布局 API](https://github.com/react-native-community/discussions-and-proposals/pull/607)：新提案 API 将支持实现 `MutationObserver`、`IntersectionObserver` 等特性。
- 👀 [iOS 视图扁平化优化](https://twitter.com/SamuelSusla/status/1641086480675225601)：继 Android 之后，RN 现可通过避免创建冗余原生视图来优化 iOS 性能。
- 👀 [Expo Router + 苹果 Handoff 功能演示](https://twitter.com/Baconbrix/status/1641850192839180315)：创新实现 Web 与移动端无缝切换，完美适配通用型 Expo Router 应用 👌
- 🎥 [用 React Native 绘制的艺术乐趣](https://www.youtube.com/watch?v=GQqL1OCoOFM)：William Candillon 带来的 Skia ASMR 风格新作 😄
- 📦 [React-Native WebView 12.0](https://twitter.com/titozzz/status/1642147926762815490)：支持新架构。
- 📦 [React-Native 0.76.1](https://github.com/facebook/react-native/releases/tag/v0.71.6)：修复 XCode 构建问题的版本更新。
- 📦 [Expo-Blur 支持 Android](https://twitter.com/aleqsio/status/1638893843457212418)：模糊视图即将实现跨平台。
- 🐦 [Tzvetan Mikov 确认："MacOS 版 Messenger 是 React Native 应用"](https://twitter.com/tmikov/status/1642630975430754305)
- 🎙️ [RNR 263 期 - Shopify 全面拥抱 React Native!](https://reactnativeradio.com/episodes/rnr-263-shopify-goes-react-native)
- 👥 [Chain React 大会](https://chainreactconf.com/)：5月18-19日波特兰举行（使用优惠码"thisweekinreact"可享9折）。

---

## 👨‍💻 职位招聘 {#jobs}

🧑‍💼 [**Passionfroot - 高级全栈工程师 (Remix) - 年薪€160k+，柏林/远程**](https://passionfroot.recruitee.com/o/senior-fullstack-engineer)

Passionfroot 致力于通过 YouTube、播客、社交媒体和新闻通讯赋能未来的独立创业者。加入我们，共同打造帮助内容创作者建立可持续规模化业务的工具。

🧑‍💼 [**Callstack - 高级 React Native 开发 - 完全远程，B2B 月薪净收入 PLN 21-32k**](https://www.callstack.com/senior-react-native-developer)

你是否渴望参与全球最热门应用的开发？是否想共同塑造React Native技术的未来？加入Callstack团队，与React及React Native领域的领导者共事。访问我们的官网了解更多详情。我们期待看到你的申请——请尽情展示你的才华！

🧑‍💼 [**G2i - 100%远程React Native职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们开放了多个专注于React Native的开发者职位！年薪约16万美元外加10%奖金。应聘者需具备RN生产环境经验且常驻美国。私信[@gabe_g2i](https://twitter.com/gabe_g2i)了解更多，并请提及This Week in React。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [第95届TC39会议进展](https://dev.to/hemanth/updates-from-the-95th-tc39-meeting-ne5)：包括[AsyncContext（阶段2）](https://twitter.com/sebastienlorber/status/1639183216799100928)在内的多项重要进展！
- [Cloudflare Workers的Node.js兼容性](https://blog.cloudflare.com/workers-node-js-asynclocalstorage/)：新增AsyncLocalStorage支持（约等于服务端AsyncContext）
- [Safari 16.4的WebKit新特性](https://webkit.org/blog/13966/webkit-features-in-safari-16-4/)
- [JavaScript import maps现已全浏览器支持](https://web.dev/import-maps-in-all-modern-browsers/)
- [推送通知实现全浏览器支持](https://web.dev/push-notifications-in-all-modern-browsers/)
- [使用Zod和JSDoc实现JavaScript类型校验](https://blog.jim-nielsen.com/2023/types-in-jsdoc-with-zod/)
- [Qwik 1.0候选版](https://www.builder.io/blog/qwik-rc-milestone)
- [pnpm 8.0发布](https://twitter.com/pnpmjs/status/1640464273817362432)
- [Tailwind 3.3发布](https://tailwindcss.com/blog/tailwindcss-v3-3)
- [Deno 1.32：增强Node.js兼容性](https://deno.com/blog/v1.32)
- [Rome v12发布](https://rome.tools/blog/2023/03/28/rome12/)
- [Moon 1.0发布](https://twitter.com/tothemoonrepo/status/1640469052043980800)
- [Bun 0.5.9发布](https://bun.sh/blog/bun-v0.5.9)

---

## 🤭 趣味时刻 {#fun}

[![alt](/emails/issues/140/meme.jpg)](https://twitter.com/thekitze/status/1638927506723033088)

下次见！👋