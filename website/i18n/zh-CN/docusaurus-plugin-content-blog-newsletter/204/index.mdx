---
slug: /204
title: "This Week In React #204: React at Meta, React Compiler, React Router, Next.js, StyleX, Mitosis, One, Hermes, BottomTabs, Zeego, Storybook, Nitro, TC39, Vite, Deno, Bun, Brisa, Lucia..."
authors: [slorber]
date: 10-09-2024
---

大家好！

这是激动人心的一周，Meta Connect活动发布了多项React跨平台重磅消息——React Compiler、StyleX、React Strict DOM和Hermes的实际应用获得积极反馈。更令人振奋的是，React Compiler现已（实验性）官方支持React 18和17版本。

React Native领域同样捷报频传：Tamagui团队推出全新跨平台框架Zeego 2、原生底部标签栏实现、以及RN Storybook 8等重要发布。

前端生态方面，Deno 2.0正式发布，TC39会议也正在如火如荼进行中。

祝您阅读愉快！

<!-- truncate -->

**💡 [在Twitter查看本期简报](https://slo.im/thread) - 可视化版式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![使用Clerk和React保护Node.js Express API](/emails/issues/204/clerk.jpg)](https://go.clerk.com/WER1UiL)

**[使用Clerk和React保护Node.js Express API](https://go.clerk.com/WER1UiL)**

学习如何通过Clerk与Express实现API请求认证。

利用`ClerkExpressWithAuth()`和`ClerkExpressRequireAuth()`中间件保护任意端点，无需从零构建认证系统。

---

## ⚛️ React {#react}

[![Meta Connect 2024上的React技术](/emails/issues/204/meta.jpg)](https://engineering.fb.com/2024/10/02/android/react-at-meta-connect-2024/)

[**Meta Connect 2024上的React技术**](https://engineering.fb.com/2024/10/02/android/react-at-meta-connect-2024/)

Meta在近期活动中宣布：

- 为Meta Quest头显开发的新款Instagram和Facebook混合现实应用，采用React Native与Static Hermes运行。通过StyleX和React Strict DOM等技术，团队成功复用了现有Facebook网页代码与基础设施
- 新推出的Meta Horizon RN应用性能媲美原生Facebook主应用，其中"边渲染边获取"模式被列为最具影响力的性能优化方案
- 基于最前沿React Compiler、StyleX和React Strict DOM构建的Meta Horizon商店（支持网页/移动端/HorizonOS）
- 基于React Native Windows/macOS开发的Meta空间编辑器，可原生集成其定制3D渲染引擎。最初持怀疑态度的C++/Qt团队最终爱上了Fast Refresh功能

众多创新项目正在Meta的实际生产应用中接受检验，这些实践将持续优化框架与生态，惠及所有平台开发者。由此我们可以确信，未来数年Meta将继续押注React作为卓越的跨平台解决方案。

另可观看🎥 [Theo的解说视频](https://www.youtube.com/watch?v=GjBfD9PHff4)。

---

- 💸 [Omlet – 一款用于测量跨代码库中React组件使用情况的新工具。免费试用无限扫描，提升代码质量。](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-quick-link-oct-2024)
- 👀 [React Router v7 预发布版](https://reactrouter.com/dev/guides/start/installation): 首个预发布版本(7.0.0-pre.0)已登陆npm且文档可查阅。新版配备Vite插件使其成为全栈框架(类似Remix)，支持SSG、更优的配置式路由系统、增强类型安全。RSC支持待React 19和Vite环境API就绪后推出。
- 👀 [React编译器文档 - 支持React v18与v17的用法](http://react-compiler-runtime): React团队新发布的实验性官方包`react-compiler-runtime`支持旧版React。Babel配置新增`target: '17' | '18' | '19'`选项。
- 👀 [Next.js指南 - 修复v15.0.0-canary.171后的破坏性变更](https://github.com/vercel/next.js/issues/70899): 针对前沿用户，Next.js团队详解如何迁移现在返回Promise的动态API。
- 🗓️ [reactjsday](https://2024.reactjsday.it/?utm_source=thisweekinreact) - 🇮🇹 维罗纳 - 10月25日 - 最后售票机会！别忘了使用"TWIR"专属9折码！
- 🗓️ [React-Africa](https://react-africa.com/?utm_source=thisweekinreact) - 🇲🇦 卡萨布兰卡 - 11月29日 - 使用代码"TWIR"享9折。聆听Tejas Kumar和Jemima Abu等大咖分享！
- 📜 [无服务器服务器与React新架构的挑战](https://bobaekang.com/blog/serverless-servers-and-the-challenge-of-new-react-architecture/): Vercel新推出的"无服务器服务器"功能使Serverless Function实例能像传统Node.js服务器般处理并发请求。React RSCs将更具成本效益：等待Promise期间不计费。
- 📜 [使用useActionState处理表单验证错误与重置](https://aurorascharff.no/posts/handling-form-validation-errors-and-resets-withuseactionstate/): 教你应对React 19在提交时重置非受控表单字段的问题。
- 📜 [NextJS中服务器动作如何工作？](https://codelynx.dev/posts/how-work-server-actions): 解析调用Next.js服务器动作时的底层机制，含简化版源码片段。
- 📜 [使用Mitosis构建设计系统](https://www.voorhoede.nl/en/blog/write-components-once-run-everywhere-with-mitosis-a-beautiful-dream-or-reality/): 对该跨框架组件工具的实际使用反馈。
- 📜 [通过环境API提升Vite潜力](https://green.sapphi.red/blog/increasing-vites-potential-with-the-environment-api): Vite贡献者详解Vite 6如何高效打包多环境代码(客户端/SSR/RSC)。
- 📜 [Next.js中的代码式路由](https://www.nico.fyi/blog/next-js-code-config-based-routing): 借助全匹配路由段实现配置式路由。
- 📜 [Gumroad为何未选择htmx](https://htmx.org/essays/why-gumroad-didnt-choose-htmx/): 解释其新产品选用Next.js的原因。
- 📜 [服务端React不是PHP](https://www.artmann.co/articles/react-on-the-server-is-not-php)
- 📦 [StyleX 0.8 - LightningCSS后处理、主题与lint改进](https://stylexjs.com/blog/v0.8.0)
- 📦 [JSX Email 2.0 - 配置文件、插件、邮件兼容、CSS内联、新组件](https://jsx.email/docs/v2/migration)
- 📦 [Framer motion 11.11 - `animate()`现可动画化Three.js的Object3D等对象](https://www.framer.com/motion/animate-function/##objects)
- 📦 [React-To-Print 3.0 - API现代化、React 19支持、体积更小、Shadow DOM支持、错误处理改进](https://github.com/MatthewHerbst/react-to-print/blob/master/CHANGELOG.md#300-september-28th-2024)
- 📦 [Assistant-UI - AI聊天React组件库](https://github.com/Yonom/assistant-ui)
- 🎥 [Lee Robinson - 自托管Next.js](https://www.youtube.com/watch?v=sIVL4JMqRfc): 含图片优化、缓存、ISR、流式传输、中间件等配置。
- 🎥 [Sam Selikoff - 如何通过URL共享React组件](https://www.youtube.com/watch?v=fYqMPvPvVAc)
- 🎥 [Jack Herrington - 初学者易入的5个React服务器函数陷阱](https://www.youtube.com/watch?v=_wnamPRhgkA)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![加入开源承诺计划](/emails/issues/204/sentry.jpg)](https://osspledge.com/?utm_source=thisweekinreact&utm_medium=paid-community&utm_campaign=oss-fy25q3-pledge&utm_content=newsletter-dontbea-join)

**[加入开源承诺计划](https://osspledge.com/?utm_source=thisweekinreact&utm_medium=paid-community&utm_campaign=oss-fy25q3-pledge&utm_content=newsletter-dontbea-join)**

年复一年，企业享受着开源的红利，却鲜少回馈维护者——这导致了与倦怠相关的安全事件频发。通过这项承诺计划，具有前瞻性的企业正携手改变现状。是时候承担我们应尽的责任了。您愿意加入吗？

---

## 📱 React-Native {#react-native}

[![One - 全新跨平台React框架](/emails/issues/204/one.jpg)](https://onestack.dev/)

[**One - 全新跨平台React框架**](https://onestack.dev/)

Tamagui的创造者Nate发布了一个支持Web和移动端的通用框架。它基于Vite而非Metro构建，具备类型化文件路由系统、类Remix的加载器机制，支持多种渲染模式（SSG/SSR/SPA）。该框架还通过可选的Zero同步引擎集成，助力开发者构建本地优先应用。

---

- 💸 [Apryse React Native PDF库 - 轻松为跨平台应用添加PDF查看与编辑功能](https://docs.apryse.com/documentation/ios/react-native/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=1009)
- 👀 [React Native静态Hermes - 实验性构建](https://github.com/software-mansion-labs/hermes): Software Mansion正与Hermes团队合作开发分支版本，目前可从iOS端尝鲜。生产环境基准测试显示应用启动速度提升16%。
- 👀 [React Native文档PR - 建议避免使用受控输入组件因其存在缺陷](https://github.com/facebook/react-native-website/pull/4247): Dan Abramov对React Native核心功能异常表示不满，指出近期iOS特性（自动修正和预测文本）导致原本可用的受控输入失效。新架构允许同步原生调用可能修复此问题。
- 📖 [React Native测试库操作指南](https://callstack.github.io/react-native-testing-library/cookbook/index)
- 📜 [从React到React Native的迁移之旅：差异与共性](https://dev.to/amazonappdev/journeying-from-react-to-react-native-21ep)
- 📦 [React Native Storybook 8发布](https://storybook.js.org/blog/react-native-storybook-8/): 该版本与Storybook核心功能同步，新增移动端UI、宽屏布局、简化Metro配置、热重载、稳定RNW支持等特性。
- 📦 [React-Native-Bottom-Tabs - 基于原生平台实现的底部标签栏](https://github.com/okwasniewski/react-native-bottom-tabs): 可搭配React-Navigation使用以替代其非原生的JS实现，同时支持Expo Router。
- 📦 [Zeego 2.0 - React Native跨平台菜单组件](https://github.com/nandorojo/zeego/releases/tag/v2.0.0): 增强Web支持，改用RadixUI轻量封装层替代RNW依赖。
- 📦 [setup-ci - React Native CI/CD快速配置工具](https://github.com/software-mansion/setup-ci): Software Mansion新推CLI工具，可快速创建GitHub Actions工作流。
- 📦 [Nitro Modules 0.11 - 新增旧架构支持](https://github.com/mrousavy/nitro/releases/tag/v0.11.0)
- 📦 [React Native 0.76.0-rc.4版本](https://github.com/facebook/react-native/releases/tag/v0.76.0-rc.4)
- 🎥 [Simon Grimm - 使用Expo API Routes和Cursor快速构建AI移动应用](https://www.youtube.com/watch?v=9FzkE1qVBiA)
- 🎥 [Reactiive - 用React Native(Skia)实现动态模糊卡片](https://www.youtube.com/watch?v=SveA2QjmEzM)
- 🎙️ [RNR第310期 - 专访Marc Rousavy谈Nitro](https://www.reactnativeradio.com/episodes/rnr-310-nitro-with-marc-rousavy)
- 🎙️ [Rocket Ship第51期 - Mariusz Stanisz谈React Native混合开发](https://share.transistor.fm/s/e737607c)

---

## 🔀 其他 {#other}

- 👀 [TC39 - 第104次会议议程](https://github.com/tc39/agendas/blob/main/2024/10.md)：会议仍在进行中，但已有多个提案进入第4阶段并将纳入ES2025标准，我们将在下周分享最终清单！
- 👀 [Lucia Auth - 未来计划：停止维护该库，转型为学习资源](https://github.com/lucia-auth/lucia/discussions/1707)
- 📜 [使用htmx构建单页应用](https://jakelazaroff.com/words/building-a-single-page-app-with-htmx/)
- 📜 [不要在环境变量中使用密钥，这里有更好的方法](https://www.nodejs-security.com/blog/do-not-use-secrets-in-environment-variables-and-here-is-how-to-do-it-better/)
- 📦 [Deno 2.0 - 向后兼容，前瞻性设计](https://deno.com/blog/v2.0)
- 📦 [Brisa - 全栈框架，支持服务器组件、服务器动作、JSX、Web组件](https://brisa.build/blog/introducing-brisa)：一个受React和Next.js启发的新框架，利用声明式Shadow DOM实现SSR。
- 📦 [Bun 1.1.30 - CSS解析与打包、bun publish、CJS输出](https://bun.sh/blog/bun-v1.1.30)
- 📦 [Better-Auth - 最全面的TypeScript身份验证库](https://github.com/better-auth/better-auth)

---

## 🤭 趣闻 {#fun}

[![alt](/emails/issues/204/meme.jpg)](https://x.com/jacobmparis/status/1841450326744010914)

[![alt](/emails/issues/204/meme2.jpg)](https://x.com/sebastienlorber/status/1842131680833741094)

[![alt](/emails/issues/204/meme3.jpg)](https://x.com/saltyAom/status/1842543015472386440)

下次见！👋