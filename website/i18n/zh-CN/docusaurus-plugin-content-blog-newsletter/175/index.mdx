---
slug: /175
title: "This Week In React #175: RSC, useSyncExternalStore, Vinxi, Server Actions, Next.js, Remix, margins, WakuLand, R3F-uikit, React-Forget, RN releases, Bridgeless, Expo Fingerprint, Flash Calendar, Zeego, RN Reusables..."
authors: [slorber, bndkt]
date: 02-28-2024
---

大家好！

本周在版本发布方面相对平静，但我们有许多优质文章值得阅读！

抱歉上周的邮件因内容过长，即便删减链接后仍被Gmail截断 😅。

<!-- truncate -->

**💡 [在Twitter查看本期简报](https://slo.im/thread) - 可视化排版 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![支持内联可视化编辑的Next.js CMS（App路由）](/emails/issues/169/reactbricks.jpg)](https://reactbricks.com/?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)

**[支持内联可视化编辑的Next.js CMS（App路由）](https://reactbricks.com/?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)**

通过CLI**[1分钟快速创建项目](https://reactbricks.com/sign-up?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)**，将自定义可视化区块定义为React组件，使用任何CSS框架实现像素级品牌呈现。尝试新版支持服务端组件的Next.js启动模板！

内容编辑者可像使用文字处理器般直观组合页面区块，完全不影响设计效果。

React Bricks具备企业级功能：数字资产管理、高级SEO、实时协作、定时发布、多语言、外部API集成、审批工作流、多环境部署、变更历史记录等。

受The Weather Channel、Deel.com、La Banque Postale等企业客户及全球9000+用户信赖。  
**[立即体验！](https://reactbricks.com/sign-up?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)**

---

## ⚛️ React动态 {#react}

[![React服务端组件的即时搜索参数实践](/emails/issues/175/next-search.jpg)](https://buildui.com/posts/instant-search-params-with-react-server-components)

**[React服务端组件的即时搜索参数实践](https://buildui.com/posts/instant-search-params-with-react-server-components)**

这篇交互式文章精彩地展示了：在React服务端组件中，既要将UI状态持久化到查询字符串又要提供即时用户反馈出人意料地困难。更新URL会触发服务端往返，而新推出的`useOptimistic`钩子优雅解决了该问题。文中还演示了CSS `:has()`的巧妙用法，避免提升`startTransition`的挂起状态。

---

[![基于Vinxi构建React元框架](/emails/issues/175/vinxi.jpg)](https://www.brenelz.com/posts/building-a-react-metaframework-with-vinxi/)

**[基于Vinxi构建React元框架](https://www.brenelz.com/posts/building-a-react-metaframework-with-vinxi/)**

新发现[Vinxi](https://vinxi.vercel.app/)这个基于Vite和Nitro的工具集，可轻松创建支持SSR、路由约定、服务端函数等特性的自定义元框架。Solid Start底层即采用该框架无关的SDK，据传[TanStack Start也将集成](https://twitter.com/sebastienlorber/status/1762809340719780080)！本文详解其与React的配合使用。

---

- 💸 [探索如何使用Apryse渲染引擎在React中构建功能丰富的PDF查看器。自定义UI、滚动、缩放及带注释的搜索功能。](https://apryse.com/blog/build-custom-react-pdf-viewer?utm_source=thisweekinreact2&utm_medium=email&utm_campaign=newsletter2)
- 📜 [避免使用useSyncExternalStore时的水合不匹配问题](https://tkdodo.eu/blog/avoiding-hydration-mismatches-with-use-sync-external-store): Dominik的又一力作，详解如何通过`useSyncExternalStore`及其两个客户端/服务端快调查询回调来预防水合不匹配。相比useEffect，它可能是更优选择，适用于渲染本地化日期或创建纯客户端包装组件等场景。
- 📜 [探索Next.js表单与服务器动作的结合](https://www.robinwieruch.de/next-forms/): 一篇循序渐进的无抽象教程，完整演示如何运用React/Next.js原生表单特性，并指出过程中可能踩的坑。
- 📜 [无外间距原则](https://kyleshevlin.com/no-outer-margin/): 提出有力论据反对在组件根部设置margin，而应由父组件控制布局。margin虽是首选方案，但其他CSS规则同样会破坏组件封装性。另附一篇已删除的经典文章存档：[布局隔离组件](https://web.archive.org/web/20201024040746/https://visly.app/blog/layout-isolated-components)。
- 📜 [Vjeux - 在Meta的12年](https://blog.vjeux.com/2024/project/12-years-at-meta.html): 新生代React开发者或许不熟悉Christopher Chedeau，但他堪称社区最具影响力成员之一。其主导或深度参与的项目包括：React、React Native、Yoga、CSS-in-JS、Prettier、Excalidraw、Docusaurus、GraphQL等。
- 📜 [学习Solid的四大核心原语](https://www.brenelz.com/posts/learning-four-key-primitives-in-solid/): 别被标题误导，这是React开发者的进阶读物，通过4个主题对比Solid与React/Next.js/Remix的差异。其中揭示：Next.js的RSC组件默认会产生级联请求，除非使用预加载函数。
- 📜 [在Remix中同时处理JSON和FormData](https://www.jacobparis.com/content/conform-json-formdata): Jacob分析表单输入与手动创建FormData/JSON负载的优劣，演示如何结合Zod和Conform构建可同时接收两种数据格式的Remix抽象层。
- 📜 [Waku Land正式上线](https://interbolt.org/blog/waku-land/): 实时部署所有Waku示例项目的平台。
- 📜 [2024年Remix应用托管方案指南](https://www.jacobparis.com/content/where-to-host-remix?ref=twitter): 2024年2月25日更新版。
- 📜 [HTMX与React全面对比](https://semaphoreci.com/blog/htmx-react): 文章建议复杂交互场景用React，简单页面用HTMX。
- 📜 [Next.js vs. Remix - 开发者的抉择](https://blog.saeloun.com/2024/02/21/next.js-vs-remix/)
- 📜 [编译器理论与响应式系统](https://www.recompiled.dev/blog/ssa/): React Forget团队成员Sathya解析其采用的静态单赋值形式编译器理论。坦白说这部分有点烧脑😅。他之前关于[别名分析](https://www.recompiled.dev/blog/alias-analysis/)的帖子更易理解。
- 📜 [Next.js App Router中活动链接样式指南](https://spacejelly.dev/posts/how-to-style-active-links-in-next-js-app-router)
- 📜 [为Next.js网站添加动态站点地图（支持Pages和App目录）](https://claritydev.net/blog/nextjs-dynamic-sitemap-pages-app-directory)
- 📦 [@react-three/uikit - 基于react-three/fiber和yoga构建高性能3D UI](https://github.com/pmndrs/uikit): Poimandres集体新作预览，附惊艳的🐦[演示](https://twitter.com/0xca0a/status/1762069894932160943)
- 🎥 [Ryan Toronto - React 19中的资源加载](https://www.youtube.com/watch?v=dxWLp-8mXes): 揭秘React即将推出的冷门但激动人心的功能——在页面导航完成前预加载下页资源（演示以CSS为例）。
- 🎥 [Jack Herrington - React Hook Form与React 19表单动作的正确打开方式](https://www.youtube.com/watch?v=VLk45JBe8L8)
- 🎥 [Fireship - 他们让React再次伟大？（React实验室）](https://www.youtube.com/watch?v=4k6Xgjqkad4)
- 🎥 [Fireship - 这个UI组件库令人惊艳（Aceternity组件）](https://www.youtube.com/watch?v=RPa3_AD1_Vs)
- 🎙️ [PodRocket - StyleX专访Naman Goel](https://podrocket.logrocket.com/stylex-naman-goel)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![最全面的用户管理平台](/emails/issues/172/clerk.jpg)](https://clerk.com/?utm_source=sponsorship&utm_medium=newsletter&utm_campaign=thisweekinreact&utm_term=02-28-24)

**[最全面的用户管理平台](https://clerk.com/?utm_source=sponsorship&utm_medium=newsletter&utm_campaign=thisweekinreact&utm_term=02-28-24)**

Clerk 简化了 React 应用的身份验证和用户管理流程，为现代网页提供快速部署方案。

体验 Clerk 的核心优势：

- 💅 开箱即用的登录、注册、用户资料和组织管理 UI 组件，支持任意 CSS 库定制并部署在自有域名
- 📦 提供 React、React Native、Next.js、Redwood、Remix 等框架的专属 SDK
- ⚡ 无缝集成 Firebase、Supabase、Convex 等后端即服务提供商
- 🎁 内置用户管理、社交登录、魔法链接、多因素认证等企业级功能

通过 [快速入门指南](https://clerk.com/docs/quickstarts/overview?utm_source=sponsorship&utm_medium=newsletter&utm_campaign=thisweekinreact&utm_term=02-28-24) 立即启动您的项目🚀

---

## 📱 React-Native {#react-native}

本版块现由 [Benedikt](https://twitter.com/bndkt) 联合主笔，欢迎通过邮件或 [Twitter](https://twitter.com/bndkt) 提交反馈！

过去一周，React Native 领域暂未出现重大新闻（若有遗漏欢迎 [@我](https://twitter.com/bndkt)）。在经历 Expo 50、visionOS、React Native 现状报告、react-strict-dom 等密集事件后，这或许是个令人欣慰的缓冲期。但生态发展从未停滞，诸多小规模更新正勾勒着近期的技术图景。[RN 0.74](https://github.com/facebook/react-native/blob/ee2bc59dfe4579cad3b7f0b5de667a89fcac8710/CHANGELOG.md#0740-rc0) 的首批候选版本已发布，包含大量改进与少量破坏性变更，初步评估升级成本可控。最值得注意的是，0.74 起桥接模式（bridgeless mode）将在启用新架构（New Arch）时成为默认选项——这是继 TurboModules 和新渲染器（Fabric）之后，新架构的第三大支柱。关于新架构的默认化进程，[这个 PR](https://github.com/facebook/react-native/pull/43135) 已确认从 RN 0.75 开始将强制启用（仍支持手动关闭）。此外，定义 [React Native 框架标准](https://github.com/react-native-community/discussions-and-proposals/blob/main/proposals/0759-react-native-frameworks.md) 的 RFC 已合并，明确了 RN 核心与上层框架的职责边界。

---

- 💸 [React Universe 大会 - 立即以最低价加入会议。目前有限量的盲鸟票可供抢购。](https://www.reactuniverseconf.com/)
- 📜 [如何将原生iOS代码集成到React Native项目中](https://www.themorrow.digital/blog/how-to-integrate-native-modules-in-react-native-ios-apps): 关于桥接头文件、@objc等知识的优秀入门指南，适合在深入iOS原生代码前阅读。
- 📜 [react-strict-dom为何如此出色？](https://szymonrybczak.dev/blog/react-strict-dom) 若想了解`<html.div>`如何最终成为iOS原生组件，这篇短文总结了react-strict-dom的机制。
- 📜 [Expo推送通知迁移至FCM V1](https://expo.dev/blog/expo-push-notifications-migrating-to-fcm-v1): 六月起FCM Legacy将加入谷歌废弃服务列表，现在正是迁移的最佳时机！
- 📜 [@expo/fingerprint与GitHub Actions强强联合](https://expo.dev/blog/expo-fingerprint-github-actions): 个人认为Fingerprint是Expo SDK 50最被低估的功能。本文展示了其杀手级用例：当Fingerprint判定需要时立即触发原生构建。
- 📜 [通用应用：单一代码库驱动移动端、桌面端、网页和电视？](https://www.reactnativetv.com/blog/universal-apps-powering-seven-platforms) 这堪称圣杯级方案，也是2024年最令我兴奋的话题：一个应用覆盖所有平台。本文提出了诸多独到见解。
- 📜 [如何使用Expo和Legend State构建离线优先应用](https://expo.dev/blog/offline-first-apps-with-expo-and-legend-state)
- 📦 [React Native 0.74-rc.1发布](https://github.com/facebook/react-native/releases/tag/v0.74.0-rc.1)
- 📦 [React Native v0.73.5发布](https://github.com/facebook/react-native/releases/tag/v0.73.5)
- 📦 [react-native-visionos 0.73.6发布](https://github.com/callstack/react-native-visionos/releases/tag/v0.73.6-visionos): 新增多窗口支持及[全新文档](https://callstack.github.io/react-native-visionos-docs/)！
- 📦 [Zeego 1.8 + 1.9 - 跨平台通用菜单组件 - 新增水平分组和组标签功能](https://github.com/nandorojo/zeego/releases)
- 📦 [react-native-image-editor 4.0 - 支持base64输出、格式属性配置及元数据返回](https://github.com/callstack/react-native-image-editor/releases/tag/4.0.0)
- 📦 [React Native闪存日历 - 基于Shopify FlashList的快速灵活日历组件](https://github.com/MarceloPrado/flash-calendar)
- 📦 [react-native-reusables](https://github.com/mrzachnugent/react-native-reusables): 我钟爱shadcn/ui（Web端UI库），这个项目将其带入了RN领域！
- 🎥 [Fireship - 100秒了解Expo](https://www.youtube.com/watch?v=hz5gbCXJ-vA)
- 🎥 [Theo Brown - React的下一个重大变革？（react strict dom）](https://www.youtube.com/watch?v=hz5gbCXJ-vA)
- 🎥 [Expo - 如何使用Expo SDK 50构建电视应用](https://www.youtube.com/watch?v=PUMBWeLVuiw)
- 🎙️ [火箭飞船031期 - Kacper Kapuściak谈React Native手势与微交互](https://share.transistor.fm/s/64cd1071)
- 🎙️ [RNR 289期 - 真实场景中的React Native：David Leuliette谈零售扫描仪开发](https://www.reactnativeradio.com/episodes/rnr-289-real-life-react-native-david-leuliette-talks-retail-shake-scanner)

---

## 🔀 其他 {#other}

- 📣 [苹果在欧盟扼杀PWA - 需立即采取行动](https://open-web-advocacy.org/apple-attempts-killing-webapps/)
- 👀 [TypeScript PR - 通过控制流分析从函数体推断类型谓词](https://github.com/microsoft/TypeScript/pull/57465)
- 👀 [Rsbuild v1.0发布计划 - 2024年7月前发布Rspack v1和Rsbuild v1](https://github.com/web-infra-dev/rsbuild/discussions/1678)
- 📜 [CSS :has() 交互式指南](https://ishadeed.com/article/css-has-guide/)
- 📜 [将JSDoc作为TypeScript的替代语法](https://alexharri.com/blog/jsdoc-as-an-alternative-typescript-syntax)
- 📜 [Node.js 2023年度回顾](https://blog.rafaelgss.dev/nodejs-2023-year-in-review)
- 📦 [Babel 7.24 - 装饰器更新与JSON模块导入](https://babeljs.io/blog/2024/02/28/7.24.0)
- 📦 [TypeScript 5.4 RC - NoInfet工具类型、闭包内类型收窄改进](https://devblogs.microsoft.com/typescript/announcing-typescript-5-4-rc/)
- 📦 [LightningCSS 1.42 - light-dark()函数、系统颜色、自定义属性去重](https://github.com/parcel-bundler/lightningcss/releases/tag/v1.24.0)
- 📦 [Chrome 122 - 性能开发者工具、存储桶、异步剪贴板](https://developer.chrome.com/blog/new-in-chrome-122/)
- 📦 [PGlite - WASM版PostgreSQL](https://github.com/electric-sql/pglite)
- 📦 [snap - node:test的配套快照测试工具](https://github.com/mcollina/snap)

---

## 🤭 趣闻 {#fun}

[![alt](/emails/issues/175/meme.jpg)](https://twitter.com/sebastienlorber/status/1760963583603581163)

回见！👋