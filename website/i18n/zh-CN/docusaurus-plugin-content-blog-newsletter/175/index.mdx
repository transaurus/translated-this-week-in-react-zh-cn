---
slug: /175
title: "This Week In React #175: RSC, useSyncExternalStore, Vinxi, Server Actions, Next.js, Remix, margins, WakuLand, R3F-uikit, React-Forget, RN releases, Bridgeless, Expo Fingerprint, Flash Calendar, Zeego, RN Reusables..."
authors: [slorber, bndkt]
date: 02-28-2024
---

大家好！

本周发布内容相对平静，但我们有许多优质文章值得阅读！

抱歉上周的邮件因内容过长，即便删减链接后仍被Gmail截断 😅。

<!-- truncate -->

**💡 [在Twitter查看本期简报](https://slo.im/thread) - 可视化版式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![支持内联可视化编辑的Next.js CMS（App路由）](/emails/issues/169/reactbricks.jpg)](https://reactbricks.com/?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)

**[支持内联可视化编辑的Next.js CMS（App路由）](https://reactbricks.com/?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)**

通过CLI[**1分钟快速创建项目**](https://reactbricks.com/sign-up?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)，将React组件定义为可视化区块，使用任意CSS框架实现像素级品牌呈现。尝试新版支持服务端组件的Next.js启动模板！

内容编辑者能像使用文字处理器般直观组合页面区块，同时保持设计完整性。

React Bricks具备企业级功能：数字资产管理、高级SEO、实时协作、定时发布、多语言、外部API集成、审批流程、多环境部署、变更历史等。

受The Weather Channel、Deel.com、La Banque Postale等企业客户及全球9000+用户信赖。[**立即体验！**](https://reactbricks.com/sign-up?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)

---

## ⚛️ React动态 {#react}

[![React服务端组件的即时搜索参数实践](/emails/issues/175/next-search.jpg)](https://buildui.com/posts/instant-search-params-with-react-server-components)

**[React服务端组件的即时搜索参数实践](https://buildui.com/posts/instant-search-params-with-react-server-components)**

这篇交互式佳作揭示：在服务端组件中同步UI状态至查询参数并保持即时反馈异常困难。URL更新会触发服务端往返，而新推出的`useOptimistic`钩子完美解决该问题。文中还展示了CSS `:has()`的巧妙用法——避免提升`startTransition`的挂起状态。

---

[![基于Vinxi构建React元框架](/emails/issues/175/vinxi.jpg)](https://www.brenelz.com/posts/building-a-react-metaframework-with-vinxi/)

**[基于Vinxi构建React元框架](https://www.brenelz.com/posts/building-a-react-metaframework-with-vinxi/)**

新发现[Vinxi](https://vinxi.vercel.app/)——基于Vite和Nitro的工具集，可轻松创建支持SSR、路由约定、服务端函数等特性的元框架。Solid Start底层采用该方案，但它实为框架无关SDK。据透露[TanStack Start也将接入](https://twitter.com/sebastienlorber/status/1762809340719780080)！本文详解其React集成方案。

---

- 💸 [探索如何使用Apryse渲染引擎在React中构建功能丰富的PDF查看器。自定义UI、滚动、缩放及带注释的搜索功能。](https://apryse.com/blog/build-custom-react-pdf-viewer?utm_source=thisweekinreact2&utm_medium=email&utm_campaign=newsletter2)
- 📜 [避免使用useSyncExternalStore时的水合不匹配](https://tkdodo.eu/blog/avoiding-hydration-mismatches-with-use-sync-external-store): Dominik的又一力作，详解如何通过`useSyncExternalStore`及其两个客户端/服务端快调查看回调来防止水合不匹配。相比useEffect，它可能是渲染本地化日期或创建纯客户端包装组件等场景的更优解。
- 📜 [探索Next.js表单与服务器动作](https://www.robinwieruch.de/next-forms/): 一份无抽象层、逐步使用React/Next.js新表单原语的详尽教程，涵盖开发过程中可能踩的所有坑。
- 📜 [无外间距](https://kyleshevlin.com/no-outer-margin/): 提出充分理由说明不应在组件根部设置margin，而应由父组件控制布局。margin虽是首选方案，但还有其他CSS规则会破坏组件封装性。为此我找回一篇被删除的经典文章：[布局隔离组件](https://web.archive.org/web/20201024040746/https://visly.app/blog/layout-isolated-components)。
- 📜 [Vjeux - 在Meta的12年](https://blog.vjeux.com/2024/project/12-years-at-meta.html): 新晋React开发者或许没听过Christopher Chedeau，但他堪称社区最具影响力成员之一。其主导或深度参与的项目包括：React、React Native、Yoga、CSS-in-JS、Prettier、Excalidraw、Docusaurus、GraphQL...
- 📜 [学习Solid的四个关键原语](https://www.brenelz.com/posts/learning-four-key-primitives-in-solid/): 别被标题误导，这是React开发者必读好文，通过4个主题对比Solid与React/Next.js/Remix。新知：Next.js的RSC组件默认会产生瀑布流，除非使用预加载函数。
- 📜 [在Remix中同时处理JSON和FormData](https://www.jacobparis.com/content/conform-json-formdata): Jacob剖析表单输入与手动创建FormData/JSON负载的取舍，演示如何用Zod+Conform构建可同时接收两种负载的Remix抽象层。
- 📜 [Waku Land上线](https://interbolt.org/blog/waku-land/): 所有Waku示例的实时部署平台。
- 📜 [2024年Remix应用托管指南](https://www.jacobparis.com/content/where-to-host-remix?ref=twitter): 2月25日更新版。
- 📜 [HTMX与React全面对比](https://semaphoreci.com/blog/htmx-react): 建议复杂交互用React，简单页面用HTMX。
- 📜 [Next.js vs Remix开发者抉择指南](https://blog.saeloun.com/2024/02/21/next.js-vs-remix/)
- 📜 [编译器理论与响应式](https://www.recompiled.dev/blog/ssa/): React Forget团队成员Sathya讲解其采用的静态单赋值形式编译器理论。老实说有点烧脑😅 他之前关于[别名分析](https://www.recompiled.dev/blog/alias-analysis/)的文章更易懂。
- 📜 [Next.js App Router中样式化活动链接指南](https://spacejelly.dev/posts/how-to-style-active-links-in-next-js-app-router)
- 📜 [为Next.js网站添加动态站点地图（支持Pages/App目录）](https://claritydev.net/blog/nextjs-dynamic-sitemap-pages-app-directory)
- 📦 [@react-three/uikit - 基于react-three/fiber和yoga构建高性能3D UI](https://github.com/pmndrs/uikit): Poimandres集体新作预览，附惊艳🐦[演示](https://twitter.com/0xca0a/status/1762069894932160943)
- 🎥 [Ryan Toronto - React 19中的资源加载](https://www.youtube.com/watch?v=dxWLp-8mXes): 揭秘鲜为人知但令人振奋的React新特性——在页面导航过渡完成前预加载下页资源（示例为CSS）。
- 🎥 [Jack Herrington - React Hook Form与React 19表单动作的正确姿势](https://www.youtube.com/watch?v=VLk45JBe8L8)
- 🎥 [Fireship - 他们让React再次伟大？（React实验室）](https://www.youtube.com/watch?v=4k6Xgjqkad4)
- 🎥 [Fireship - 这个UI组件库令人惊叹（Aceternity组件）](https://www.youtube.com/watch?v=RPa3_AD1_Vs)
- 🎙️ [PodRocket - StyleX专访Naman Goel](https://podrocket.logrocket.com/stylex-naman-goel)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![最全面的用户管理平台](/emails/issues/172/clerk.jpg)](https://clerk.com/?utm_source=sponsorship&utm_medium=newsletter&utm_campaign=thisweekinreact&utm_term=02-28-24)

**[最全面的用户管理平台](https://clerk.com/?utm_source=sponsorship&utm_medium=newsletter&utm_campaign=thisweekinreact&utm_term=02-28-24)**

Clerk 简化了 React 应用的认证和用户管理流程，确保现代网页应用的快速搭建。

体验 Clerk 的优势：

- 💅 预建的 UI 组件，用于登录、注册、用户资料和组织管理。可使用任何 CSS 库自定义并部署在您的域名上
- 📦 提供 React、React Native、Next.js、Redwood、Remix 等框架的 SDK
- ⚡ 与 Firebase、Supabase、Convex 等后端即服务提供商集成
- 🎁 开箱即用的用户管理、社交登录、魔法链接、多因素认证等功能

查看 Clerk 的[快速入门和教程](https://clerk.com/docs/quickstarts/overview?utm_source=sponsorship&utm_medium=newsletter&utm_campaign=thisweekinreact&utm_term=02-28-24)，立即启动您的项目 🚀

---

## 📱 React-Native {#react-native}

本版块现由 [Benedikt](https://twitter.com/bndkt) 共同撰写。欢迎通过邮件或 [Twitter](https://twitter.com/bndkt) 向我们反馈意见！

过去一周，我们暂时从 React Native 的重大新闻中获得了喘息之机（或者我是否错过了什么，如有遗漏请 [@我](https://twitter.com/bndkt)）。在经历了 Expo 50、visionOS、React Native 现状报告、react-strict-dom 等一系列事件后，这或许是个可喜的变化。但这并不意味着 React Native 世界停滞不前。许多小规模公告让我们得以窥见 React Native 的近未来。[RN 0.74](https://github.com/facebook/react-native/blob/ee2bc59dfe4579cad3b7f0b5de667a89fcac8710/CHANGELOG.md#0740-rc0) 的首批候选版本已发布，包含大量改进以及一些弃用和破坏性变更，但乍看之下没有需要担心升级难度的重大变化。最值得注意的是，0.74 版将默认启用无桥模式（但仅当启用新架构时）。无桥模式是新架构的第三大支柱，前两大支柱是已推出的 TurboModules 和新渲染器（Fabric）。说到新架构和默认设置，一个[PR](https://github.com/facebook/react-native/pull/43135) 已合并，从 RN 0.75 开始新架构将成为默认选项（但仍可选择退出）。此外，定义 [React Native 框架](https://github.com/react-native-community/discussions-and-proposals/blob/main/proposals/0759-react-native-frameworks.md) 的 RFC 也已合并，明确了 RN 与基于 RN 的框架各自的职责。

---

- 💸 [React Universe 大会 - 立即以最低价参会。限量盲鸟票现已开放。](https://www.reactuniverseconf.com/)
- 📜 [如何将原生 iOS 代码集成到 React Native 项目中](https://www.themorrow.digital/blog/how-to-integrate-native-modules-in-react-native-ios-apps): 关于桥接头文件、@objc 等知识的优质入门指南，帮助你深入理解 iOS 原生代码开发。
- 📜 [react-strict-dom 为何如此出色？](https://szymonrybczak.dev/blog/react-strict-dom) 若想了解 `<html.div>` 如何最终成为 iOS 原生组件，这篇短文为你解析 react-strict-dom 的核心机制。
- 📜 [Expo 推送通知迁移至 FCM V1](https://expo.dev/blog/expo-push-notifications-migrating-to-fcm-v1): 今年六月，FCM Legacy 将加入谷歌停服列表，迁移迫在眉睫！
- 📜 [@expo/fingerprint 🤝 GitHub Actions](https://expo.dev/blog/expo-fingerprint-github-actions): 个人认为 Fingerprint 是 Expo SDK 50 最被低估的功能。本文展示其杀手级应用场景：当 Fingerprint 检测到需要时立即触发原生构建。
- 📜 [通用应用：单一代码库驱动移动端、桌面端、网页与电视？](https://www.reactnativetv.com/blog/universal-apps-powering-seven-platforms) 这堪称圣杯，也是 2024 年最令我兴奋的方向：一个应用，全平台覆盖。文章提出了颇具启发的思考。
- 📜 [如何使用 Expo 和 Legend State 构建离线优先应用](https://expo.dev/blog/offline-first-apps-with-expo-and-legend-state)
- 📦 [React Native 0.74-rc.1](https://github.com/facebook/react-native/releases/tag/v0.74.0-rc.1)
- 📦 [React Native v0.73.5](https://github.com/facebook/react-native/releases/tag/v0.73.5)
- 📦 [react-native-visionos 0.73.6](https://github.com/callstack/react-native-visionos/releases/tag/v0.73.6-visionos): 支持多窗口及[新文档](https://callstack.github.io/react-native-visionos-docs/)！
- 📦 [Zeego 1.8 + 1.9 - 跨平台通用菜单 - 水平分组与组标签](https://github.com/nandorojo/zeego/releases)
- 📦 [react-native-image-editor 4.0 - 支持 base64 输出、格式属性、返回元数据](https://github.com/callstack/react-native-image-editor/releases/tag/4.0.0)
- 📦 [React Native Flash Calendar - 基于 Shopify FlashList 的快速灵活日历组件](https://github.com/MarceloPrado/flash-calendar)
- 📦 [react-native-reusables](https://github.com/mrzachnugent/react-native-reusables): 我钟爱 web 端的 shadcn/ui（UI 库），这个项目将其带到了 RN！
- 🎥 [Fireship - 100 秒了解 Expo](https://www.youtube.com/watch?v=vFW_TxKLyrE)
- 🎥 [Theo Brown - React 的下一次重大变革？（react strict dom）](https://www.youtube.com/watch?v=hz5gbCXJ-vA)
- 🎥 [Expo - 如何使用 Expo SDK 50 构建电视应用](https://www.youtube.com/watch?v=PUMBWeLVuiw)
- 🎙️ [Rocket Ship 031 - 与 Kacper Kapuściak 探讨 React Native 手势与微交互](https://share.transistor.fm/s/64cd1071)
- 🎙️ [RNR 289 - 真实场景中的 React Native：David Leuliette 谈零售扫码器开发](https://www.reactnativeradio.com/episodes/rnr-289-real-life-react-native-david-leuliette-talks-retail-shake-scanner)

---

## 🔀 其他 {#other}

- 📣 [苹果在欧盟封杀PWA - 需立即采取行动](https://open-web-advocacy.org/apple-attempts-killing-webapps/)
- 👀 [TypeScript PR - 通过控制流分析从函数体推断类型谓词](https://github.com/microsoft/TypeScript/pull/57465)
- 👀 [Rsbuild v1.0发布计划 - 2024年7月前推出Rspack v1和Rsbuild v1](https://github.com/web-infra-dev/rsbuild/discussions/1678)
- 📜 [CSS :has()交互式指南](https://ishadeed.com/article/css-has-guide/)
- 📜 [将JSDoc作为TypeScript的替代语法](https://alexharri.com/blog/jsdoc-as-an-alternative-typescript-syntax)
- 📜 [Node.js 2023年度回顾长文](https://blog.rafaelgss.dev/nodejs-2023-year-in-review)
- 📦 [Babel 7.24 - 装饰器更新与JSON模块导入](https://babeljs.io/blog/2024/02/28/7.24.0)
- 📦 [TypeScript 5.4 RC - NoInfet工具类型、闭包内类型收窄改进](https://devblogs.microsoft.com/typescript/announcing-typescript-5-4-rc/)
- 📦 [LightningCSS 1.42 - light-dark()函数、系统颜色、自定义属性去重](https://github.com/parcel-bundler/lightningcss/releases/tag/v1.24.0)
- 📦 [Chrome 122 - 性能DevTools、存储桶、异步剪贴板](https://developer.chrome.com/blog/new-in-chrome-122/)
- 📦 [PGlite - WASM版PostgreSQL](https://github.com/electric-sql/pglite)
- 📦 [snap - node:test的快照测试伴侣工具](https://github.com/mcollina/snap)

---

## 🤭 轻松一刻 {#fun}

[![alt](/emails/issues/175/meme.jpg)](https://twitter.com/sebastienlorber/status/1760963583603581163)

下期见！👋