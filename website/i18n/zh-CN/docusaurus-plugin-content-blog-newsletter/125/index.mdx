---
slug: /125
title: "This Week In React #125: tRPC, T3, Remix, Zustand, Server Components, Drag & Drop, Forms, Gatsby, Remotion, React-Native, Skia..."
authors: [slorber]
date: 11-22-2022
---

大家好！

本周是**[黑色星期五](/black-friday)**。我整理了一个页面，汇集了React开发者最值得关注的优惠活动。已经发现了一些超值优惠，但部分活动尚未公布，记得周五再来看看哦;)

[![黑色星期五2022横幅](/img/BLACK_FRIDAY_2022_v2.png)](/black-friday)

终于有机会重点介绍tRPC了，它发布了正式版本，还有一篇精彩文章将其与GraphQL进行对比！

本周还有不少与Remix相关的优质内容。

我很欣赏React-Native的发展方向！

别忘了填写[State Of JS](https://survey.devographics.com/survey/state-of-js/2022)调查问卷！很高兴今年Docusaurus入选了。欢迎推荐本通讯作为资源😏 说不定明年就能上榜呢🙌

<!-- truncate -->

**💡 [在Twitter上查看本期通讯](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![FlyCode让React应用无需编码即可编辑，基于Git](/emails/issues/124/flycode.jpg)](https://bit.ly/3UPwAoJ)

**[FlyCode让React应用无需编码即可编辑，基于Git](https://bit.ly/3UPwAoJ)**

[FlyCode](https://bit.ly/3wWSi00) (YC S22) 能让React网页应用在几分钟内变得可编辑，产品与UX团队可以更快地迭代和发布产品，无需等待（或占用）开发者的时间。

FlyCode会读取常规的React代码，找出文本、图片、设计标记和分析事件，然后让非技术人员协作编辑并提交拉取请求（他们无需访问GitHub！）

- 节省开发时间
- 无需代码集成，直接读取现有代码！
- 基于GitHub，机器人会扫描代码并创建拉取请求
- 使用您自己的技术栈和组件
- 保留代码库所有权

从这里开始体验：[flycode.com/developers](https://www.flycode.com/developers)

---

## ⚛️ React {#react}

[![tRPC 10](/emails/issues/125/trpc10.jpg)](https://trpc.io/blog/announcing-trpc-10)

**[tRPC 10](https://trpc.io/blog/announcing-trpc-10)**

tRPC的重大重构显著提升了开发者体验和IDE支持。这个实现类型安全后端调用的库正获得越来越多拥趸。得益于集成包（Next.js、React-Query等），它能轻松应用于React生态。我超爱他们的口号"快速迭代，零破坏"😄

推荐阅读[为什么我们用tRPC取代GraphQL](https://echobind.com/post/why-we-ditched-graphql-for-trpc)来理解其理念。Alex解释了他们在React项目[Bison](https://github.com/echobind/bisonapp)启动器中用tRPC替代GraphQL的原因。tRPC大幅减少了样板代码、TypeScript代码生成和JS包体积，同时改善了开发者体验、IDE支持并简化了缓存管理。处理过度获取的方式有所不同：应该毫不犹豫地创建新过程。tRPC非常适合全栈Node.js TypeScript应用，尤其是前后端代码协同定位的场景（比如Next.js）。GraphQL仍是创建公开API的好选择，特别是面向不一定使用JavaScript但希望受益于代码生成的合作伙伴（OpenAPI也是此类场景的不错解决方案）。

借此机会我还想提一下[T3-App](https://create.t3.gg/)，这是一个基于tRPC、Prisma、Tailwind构建的Next.js端到端类型安全技术栈。它极大地推动了tRPC今年的流行，现在已拥有官方文档站点。其[tRPC文档](https://create.t3.gg/en/usage/trpc)清晰阐述了相比传统Next.js路由API的优势。另可参阅[create-t3-turbo](https://github.com/t3-oss/create-t3-turbo)：一个包含Next.js + Expo的Turborepo单体仓库，两者都使用tRPC。

---

[![使用Zustand进行状态管理](/emails/issues/125/zustand.jpg)](https://tkdodo.eu/blog/working-with-zustand)

**[Zustand实战指南](https://tkdodo.eu/blog/working-with-zustand)**

Dominik带我们回顾了状态管理的发展历程，阐释了他青睐Zustand的原因——这个极简主义、无魔法属性的方案完美契合React哲学。他给出了最佳实践建议：暴露自定义钩子、使用原子化选择器、将操作分组到不可变对象中等。这些实用技巧深得我心！

---

[![Remix双重响应机制](/emails/issues/125/remix-dual.png)](https://blog.jim-nielsen.com/2022/remix-alternate-timeline-of-web-dev/)

**[Remix与Web开发的平行时空](https://blog.jim-nielsen.com/2022/remix-alternate-timeline-of-web-dev/)**

Jim指出Remix通过退后几步重新思考了整个前端应用模型。与其他框架不同，Remix的渐进增强功能不需要用两种方式编写应用（客户端+服务端），因为其路由可以从同一段代码返回JSON和HTML。

---

[![驯龙记：无障碍拖拽实现](/emails/issues/125/dnd.jpg)](https://react-spectrum.adobe.com/blog/drag-and-drop.html)

**[驯龙记：构建无障碍拖拽体验](https://react-spectrum.adobe.com/blog/drag-and-drop.html)**

Adobe的Devon宣布发布了React-Aria和React-Spectrum的无障碍拖拽钩子。他详细讲解了如何通过键盘和屏幕阅读器支持让用户选择元素，用Tab键寻找目标，以及移动端体验。配合丰富演示案例，再次让人感受到React-Aria API背后解决这个复杂问题的巨大工作量。

---

- 📖 [Beta文档更新 - createRef、PureComponents、useDebugValue](https://twitter.com/dan_abramov/status/1593007695703207936): Dan Abramov的文档编写工作已接近尾声，新版文档可能很快会正式发布。
- 📜 [在Next.js 13服务端组件中获取和缓存Supabase数据](https://supabase.com/blog/fetching-and-caching-supabase-data-in-next-js-server-components): 展示了如何轻松使用React服务端组件向云端/无服务器数据库发起请求，并提供了一些优化Next.js缓存的技巧以减少响应时间。
- 📜 [使用React Hook Form条件渲染字段](https://echobind.com/post/conditionally-render-fields-using-react-hook-form): 如何利用watch和register/unregister函数管理条件字段
- 📜 [Remix的离线开发与测试方案](https://github.com/pcattori/blog/blob/main/posts/offline-dev-and-testing-for-remix/index.md): Pedro阐述了在开发测试中选用Mock Service Worker的原因，并详解了与Remix的集成方式。
- 📜 [从Webpack迁移至Remix](https://remix.run/blog/migrate-from-webpack): 团队正在开发Remix的Webpack编译器以支持渐进式迁移。
- 📜 [基于Valhalla的Remix站点](https://www.gatsbyjs.com/blog/what-is-gatsbys-valhalla-content-hub/): Paul介绍了Gatsby Cloud的新数据层Valhalla，并演示如何通过Urql在Remix加载器中调用其公开的GraphQL API。虽然Valhalla尚处早期阶段，但发展前景令人期待。
- 📜 [Gatsby - 使用Slice API实现国际化(i18n)](https://www.gatsbyjs.com/blog/using-the-slice-api-for-internationalization-i18n/)
- 📜 [该用useReducer还是XState?](https://swizec.com/blog/reader-question-usereducer-or-xstate/)
- 🎥 [React Brussels演讲集锦](https://www.youtube.com/watch?v=uZnXwuhYZBc&list=PL53Z0yyYnpWjIoe0wNozVbuRXOnVcETPw): 包含比利时开发者大会的演讲视频，其中[主题演讲](https://www.youtube.com/watch?v=uZnXwuhYZBc&list=PL53Z0yyYnpWjIoe0wNozVbuRXOnVcETPw&index=2)精彩阐述了React元框架如何运用React 18的Suspense数据获取等新特性。
- 🎥 [React Router的时代终结?](https://www.youtube.com/watch?v=LVzG3nncE4M): 重点分析了全新[TanStack Router](https://tanstack.com/router/v1)的类型安全优势和开发者体验。
- 🎥 [在Next.js中使用字体](https://www.youtube.com/watch?v=L8_98i_bMMA)
- 📦 [Remotion 3.3发布](https://twitter.com/remotion_dev/status/1593156143249260544): 无需手动安装ffmpeg，新增字体/路径/噪点/动态模糊等模块，并优化了开发者体验。
- 📦 [Openblocks - 开源的Retool替代方案](https://github.com/openblocks-dev/openblocks)
- 📦 [Jotai 1.10更新](https://twitter.com/jotaijs/status/1593647952672608257)

<SubscribeFormEmbed />

---

## 💸 赞助专栏 {#sponsor2}

[![React Native播客系列](/emails/issues/125/the-rn-show.jpg)](https://www.callstack.com/podcast-react-native-show?utm_campaign=Podcast&utm_source=email&utm_content=This_Week_in_React)

**[React Native播客系列](https://www.callstack.com/podcast-react-native-show?utm_campaign=Podcast&utm_source=email&utm_content=This_Week_in_React)**

既然您关注到这里，想必热衷于获取最前沿的React资讯！🔥 若想深入探索React和React Native技术，欢迎收听**React Native播客**最新节目：

- [React Native中的模块联邦](https://www.callstack.com/podcasts/module-federation?utm_campaign=Podcast&utm_source=email&utm_content=This_Week_in_React)，与Webpack维护者Zack Jackson对谈
- [React Native新架构](https://www.callstack.com/podcasts/react-native-new-architecture-ep-17?utm_campaign=Podcast&utm_source=email&utm_content=This_Week_in_React)，对话Meta的Nicola Corti
- [微软的React Native实践](https://www.callstack.com/podcasts/react-native-at-microsoft-ep-16?utm_campaign=Podcast&utm_source=email&utm_content=This_Week_in_React)，对话微软的Lorenzo Sciandra

**[The React Native Show](https://www.callstack.com/podcast-react-native-show?utm_campaign=Podcast&utm_source=email&utm_content=This_Week_in_React)** 是由Callstack主持的播客系列。每期深入探讨一个技术主题，主持人将与各领域的世界级专家展开深度对话。

---

## 📱 React-Native动态 {#react-native}

**[【官方回复】2022年：如何改进React Native？](https://github.com/react-native-community/discussions-and-proposals/discussions/546)**

React-Native团队正式回应了关于[如何改进React Native](https://github.com/react-native-community/discussions-and-proposals/discussions/528)的讨论，披露了路线图细节。React-Native的研发投入正在加速，以下是我特别关注的重点：

- Metro打包器将迎头赶上：支持swc、pnpm、符号链接、ESM模块的"exports"规范...
- Yoga布局引擎和CSS支持改进：flex间隙、阴影效果...
- 跨平台统一API，React-Native-Web现由Meta直接维护
- 开发者体验优化：调试工具、堆栈追踪、源码映射、LogBox...

---

- 🎨 [React-Native-Skia + VisionCamera帧处理器演示](https://twitter.com/mrousavy/status/1592943223751999488)：惊艳的实时图像处理演示，无需编写原生代码即可应用滤镜/着色器
- 📦 [React-Native-Skia 0.1.159发布](https://twitter.com/wcandillon/status/1593591452491194370)：进入Beta阶段，改在UI线程渲染大幅提升性能
- 📦 [burnt - React Native原生Toast和Alert组件](https://twitter.com/FernandoTheRojo/status/1593632122069291008)：Fernando Rojo在毫无Swift基础的情况下，一天内基于[Expo Modules API](https://twitter.com/tsapeta/status/1593705970781356035)完成了首个原生库开发
- 📦 [React-Native-Testing-Library v11.5](https://twitter.com/mdj_dev/status/1593250914965794817)
- 📜 [React Native Storybook自动参数](https://dev.to/dannyhw/automatic-args-in-react-native-storybook-140a)
- 🎥 [Skia路径渐变教程](https://www.youtube.com/watch?v=7SCzL-XnfUU)
- 🎥 [Re-Animated 2实现滚动菜单](https://www.youtube.com/watch?v=sOKMytwWeKE)
- 📖 [Expo文档更新-通用应用教程](https://twitter.com/amanhimself/status/1593669242892988417)
- 📊 [Reanimated共享值新实现](https://twitter.com/kzzzf/status/1594095497123434497)：通过减少JSI调用提升性能
- 📊 [React-Native Yoga布局引擎与iOS原生方案对比](https://twitter.com/Baconbrix/status/1593561645858623488)：性能表现优异
- 🐦 [Hirbod宣布"布局动画重写已合并"](https://twitter.com/nightstomp/status/1593207173496320000)
- 🐦 [Jamon Holmgren："现在几乎没有理由不使用Expo"](https://twitter.com/jamonholmgren/status/1593319397573394432)

---

## 🧑‍💻 招聘信息 {#jobs}

🧑‍💼 [**Causal招聘产品工程师，远程/伦敦/纽约，年薪15-25万美元**](https://jobs.lever.co/causal-app/4acaafbe-ef3d-45a6-bbe6-687c022d727c?lever-origin=applied&lever-source%5B%5D=thisweekinreact.com)

Causal是一家由Coatue/Accel投资的A轮初创公司，致力于构建一体化数字处理与数据可视化工具。我们正在寻找能够解决复杂UX/性能挑战的资深React工程师。

🧑‍💼 [**Callstack招聘高级React Native开发工程师 - 完全远程，B2B月薪2.1-3.2万波兰兹罗提（净收入）**](https://www.callstack.com/senior-react-native-developer)

您想参与全球最热门应用的开发吗？您希望共同塑造React Native技术的未来吗？加入Callstack这个React & React Native领军团队。详情请访问我们的网站。我们期待您的申请——请尽情展示您的才华！

🧑‍💼 [**G2i - 100%远程React Native职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们开放多个React Native开发岗位！年薪约16万美元外加10%奖金。应聘者需具备RN生产环境经验且位于美国境内。私信[@gabe_g2i](https://twitter.com/gabe_g2i)了解详情，请注明通过This Week in React获悉本招聘信息。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他资讯 {#other}

- [Flexbox交互式指南](https://www.joshwcomeau.com/css/interactive-guide-to-flexbox/)：Josh Comeau的精彩文章，饥饿时请勿阅读😄
- [浏览器、JSON与FormData](https://blog.jim-nielsen.com/2022/browsers-json-formdata/)：关于渐进增强的有趣观点，提倡基于FormData而非JSON构建API。这与我产生共鸣——顺带一提，我的新闻订阅表单同样无需JavaScript即可运行🤗 虽然文章与React无关，但作者Jim是Remix团队成员。
- [Cloudflare 2022开发者周公告集锦](https://blog.cloudflare.com/icymi-developer-week-2022-announcements/)：大量新功能发布。特别看好通过Worker边缘节点实现Puppeteer截图的能力：这对Remotion很有用，也能高效生成社交预览图，与Vercel新推出的[OG图片生成服务](https://vercel.com/docs/concepts/functions/edge-functions/og-image-generation)形成竞争。
- [Node.js ES模块中的顶层Promise处理](https://www.stefanjudis.com/today-i-learned/top-level-promise-handling-in-node-js/)：发现Node.js这个不太直观的行为以及退出码13的机制。
- [2022年JavaScript现状调查](https://survey.devographics.com/survey/state-of-js/2022)：很高兴看到[Docusaurus今年首次入选](https://twitter.com/sebastienlorber/status/1594748405280116738)！希望明年我的通讯能出现在资源推荐里，欢迎主动提名😏
- [2022年JavaScript现状调查现已开放，看看有哪些新变化](https://dev.to/sachagreif/take-the-2022-state-of-javascript-survey-5ap6)
- [Prettier 2.8：改进--cache CLI选项并支持TypeScript 4.9的satisfies操作符！](https://prettier.io/blog/2022/11/23/2.8.0.html)：正是采用TS 4.9的好时机（Babel已支持）
- [Web技术乐观主义时刻](https://macwright.com/2022/11/18/optimism-updates.html)
- [用7种框架构建电影应用——谁最快？为什么？](https://www.builder.io/blog/movies-app-in-7-frameworks-which-is-fastest-and-why)
- [HTML元素可视化图谱](https://julesblom.com/writing/html-elements)
- [ESLint完全重写计划](https://twitter.com/slicknet/status/1594870586605391872)
- [MPA视图过渡首秀——Chrome Canary演示](https://twitter.com/addyosmani/status/1592907811968626688)
- [Mock Service Worker - Fetch API支持进入Beta](https://github.com/mswjs/msw/discussions/1464)
- [函数式编程究竟好在哪里？](https://jrsinclair.com/articles/2022/whats-so-great-about-functional-programming-anyway/)
- [Angular 15发布](https://blog.angular.io/angular-v15-is-now-available-df7be7f2f4c8)
- [Nuxt 3.0正式版](https://nuxt.com/v3)
- [Playwright 1.28发布](https://github.com/microsoft/playwright/releases/tag/v1.28.0)
- [Firefox 107更新](https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Releases/107)
- [Safari技术预览版158](https://webkit.org/blog/13584/release-notes-for-safari-technology-preview-158/)
- [用TypeScript类型系统实现的汇编解释器](https://judehunter.dev/blog/assembly-interpreter-in-typescripts-type-system)
- [从Cypress迁移到Playwright的经验谈](https://mtlynch.io/notes/cypress-vs-playwright/)
- [AWS Lambda现已支持Node.js 18](https://aws.amazon.com/fr/blogs/compute/node-js-18-x-runtime-now-available-in-aws-lambda/)
- [通过Deno更安全地使用npm构建Web应用](https://deno.com/blog/a-more-secure-npm)
- [从自筹资金到风险投资：Nx完成860万美元融资](https://blog.nrwl.io/from-bootstrapped-to-venture-backed-nx-raises-8-6m-2ae2228eff76)
- [为什么永远不该用px单位设置CSS字体大小](https://joshcollinsworth.com/blog/never-use-px-for-font-size)
- [Windows子系统Linux版现已全面上市](https://devblogs.microsoft.com/commandline/the-windows-subsystem-for-linux-in-the-microsoft-store-is-now-generally-available-on-windows-10-and-11/)

---

## 🤭 趣味时刻 {#fun}

[![人生苦短 - 记得花时间在网上和陌生人争论JS框架](/emails/issues/125/meme.png)](https://twitter.com/fireship_dev/status/1587587531154989056)