---
slug: /117
title: "This Week In React #117: React criticism, useEvent, Next.js, Remix, Gatsby, Expo, Storybook, Ignite, React-Native, TypeScript, Qwik..."
authors: [slorber]
date: 09-27-2022
---

大家好！

本周我们有一些值得一读的React批判性文章。

同时还有各种与路由相关的新闻：Next.js、React-Router、Expo...

**简报终于恢复了每周定期更新的节奏**！我刚结束休假，并借机更换了邮件服务提供商：现在使用[ConvertKit](https://thisweekinreact.com/ck)。这让我在邮件渲染上拥有更大灵活性，后续还能引入新功能;)

<!-- truncate -->

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![Storyblok](/emails/issues/116/storyblok.png)](https://www.storyblok.com/?utm_source=thisweekinreact&utm_medium=display&utm_campaign=AWA_SPON_TWIREACT_TRA&utm_content=thisweekinreact_en)

尝试过[Storyblok](https://www.storyblok.com/?utm_source=thisweekinreact&utm_medium=display&utm_campaign=AWA_SPON_TWIREACT_TRA&utm_content=thisweekinreact_en)了吗？这款为开发者和营销人员设计的无头CMS配备可视化编辑器！

使用Storyblok React SDK快速构建可复用组件并获取内容，创建React、Next.js、Remix甚至React-Native应用、网站或电商平台。

查看[技术中心](https://www.storyblok.com/technologies?utm_source=thisweekinreact&utm_medium=display&utm_campaign=AWA_SPON_TWIREACT_TRA&utm_content=thisweekinreact_en)亲自体验！

---

## ⚛️ React {#react}

**[React我爱你，但你让我失望](https://marmelab.com/blog/2022/09/20/react-i-love-you.html)**

React-Admin作者从多个角度（表单、useContextSelector、refs、依赖数组...）对React提出中肯批评。不要错过[Dan Abramov的回应](https://twitter.com/dan_abramov/status/1572590212647391235)。

**[5分钟了解Next.js布局RFC](https://vercel.com/blog/next-js-layouts-rfc-in-5-minutes)**

Next.js基于文件系统的路由将在下个主版本大幅升级，包含嵌套布局支持（类似Remix）。这能避免浏览时不必要的布局卸载/重载，同时管理数据加载与错误处理。本文快速概览，另见[Delba的推文](https://twitter.com/delba_oliveira/status/1568291558776274945)。

**[React Router 6.4](https://remix.run/blog/react-router-v6.4)**

重大更新：如预期，许多Remix API（数据加载、变更...）最终移植到React-Router。观看[2分钟视频](https://www.youtube.com/watch?v=aX74DbFT5nI)

**[Gatsby 2022有哪些新特性？](https://www.smashingmagazine.com/2022/09/new-gatsby-2022/)**

Paul将其博客升级至Gatsby v4最新版，分享如何使用新功能。延迟静态生成能显著减少构建时间。另见[Gatsby 5总体讨论](https://github.com/gatsbyjs/gatsby/discussions/36609)及视频[Gatsby v5 Alpha展示](https://www.youtube.com/watch?v=C-WrnfUm33k)：部分水合即将到来！

**扩展阅读**:

- 🧑‍🎓 Beta文档: [useCallback](https://twitter.com/dan_abramov/status/1570021510659579904) + [useMemo](https://twitter.com/dan_abramov/status/1568602727147520000)
- 💬 [useEvent更新](https://github.com/reactjs/rfcs/pull/220#issuecomment-1259938816): `useEvent`原型已实现并通过`@experimental`提供。部分争议可能导致新RFC的开启。据理解该hook可能永远不会发布，转而采用其他解决方案。
- 💬 [Dan Abramov - "React 18在哪些方面比React 17更快？"](https://www.reddit.com/r/reactjs/comments/xmr9tg/comment/ippsuin/)
- 📜 [JavaScript Web框架的新浪潮](https://frontendmastery.com/posts/the-new-wave-of-javascript-web-frameworks/): 对前端生态从Flash至今的全面概览，重点分析React及其挑战者：Vue、Svelte、Solid、Qwik、Astro、Fresh...
- 📜 [上车，我们要拯救React](https://acko.net/blog/get-in-zoomer-we-re-saving-react/): 观点新颖的文章。除了"React可以做得更好而挑战者并未真正改进现状"外，结论不甚明了😅
- 📜 [URL中的useState：如何使用useSearchParams持久化状态](https://blog.logrocket.com/use-state-url-persist-state-usesearchparams/): 详解在查询字符串中持久化React状态的原理与方法
- 📜 [一个明显的React bug](https://phelipetls.github.io/posts/surprising-react-bug/): 与`<details>`元素行为相关
- 📜 [React 18中何时使用useImperativeHandle和forwardRefs](https://betterprogramming.pub/when-to-use-useimperativehandle-and-forwardrefs-in-react-18-89cce42b3309)
- 📜 [Storybook国际化方案](https://storybook.js.org/blog/internationalize-components-with-storybook/): 展示如何为Storybook添加完整i18n支持：语言切换下拉框、RTL布局...
- 📜 [Storybook社区案例展示#3](https://storybook.js.org/blog/community-showcase-3/)
- 📜 [Remix基础教程](https://css-tricks.com/the-basics-of-remix/)
- 📜 [RxDB中的React与Observables](https://www.sabre.com/locations/poland/react-and-observables-from-rxdb/)
- 📜 [使用Docusaurus和Remark自动化规则文档](https://typescript-eslint.io/blog/automated-rule-docs-with-docusaurus-and-remark/)
- 📜 [我与React：5年历程15分钟速览](https://valeriavg.dev/me-and-react-5-years-in-15-minutes)
- 🐦 [Mitosis - 用Sveltejs语法编写组件，编译到其他框架](https://twitter.com/Steve8708/status/1573444026006585345)
- 🎥 React Finland大会[第一天](https://www.youtube.com/watch?v=zE8PDM_7xoQ) + [第二天](https://www.youtube.com/watch?v=rHjwZu0EmlQ)
- 🎥 [5个专业级React该做与不该做](https://www.youtube.com/watch?v=4FhJkX18fS8)
- 🎥 [freeCodeCamp - 用JavaScript/React/Three.js克隆我的世界](https://www.youtube.com/watch?v=qpOZup_3P_A)
- 🐦 [React专注于更关键的问题](https://twitter.com/heyImMapleLeaf/status/1567960223759093760): 有趣对话。另见[尤雨溪](https://twitter.com/youyuxi/status/1569485243077529602)评论。
- 🐦 [不用useState实现React表单](https://twitter.com/DavidKPiano/status/1569361453928300545)
- 🚧 [MUI Base: Material UI的无头替代方案](https://twitter.com/MUI_hq/status/1570695041034731520)
- 🎙️ [JS Party第244期 - 辛辣的React辩论秀 🌶️](https://changelog.com/jsparty/244)
- 📦 [Its fine](https://github.com/pmndrs/its-fine): React高级逃生舱合集。适用于[在React-Three-Fiber生态中桥接渲染器上下文](https://twitter.com/0xca0a/status/1573064826339094528)
- 📦 [Theatre.js v0.5](https://www.theatrejs.com/blog/theatre-05-is-out): 新版3D编辑器，适用于React-Three-Fiber
- 📦 [TinyBase 2.0](https://twitter.com/tinybasejs/status/1570864399728136193): 带React绑定的响应式数据存储
- 📦 [React-Tether 3.0](https://github.com/danreeves/react-tether/releases/tag/v3.0.0): 最早的React定位库之一重出江湖
- 📦 [TanStack Query 4.4](https://github.com/TanStack/query/releases/tag/v4.4.0): 与React解耦，新增对SolidJS框架的支持
- 🥳️ [Next.js合并第10000个PR](https://twitter.com/github/status/1574750716966498304)

<SubscribeFormEmbed />

---

## 📱 React-Native {#react-native}

**[RFC：基于文件系统的Expo与React Native原生路由方案](https://blog.expo.dev/rfc-file-system-based-routing-in-react-native-7a35474722a)**

Evan Bacon正在开发基于文件系统约定的新版Expo路由器，类似于Next.js或Remix的方案。他详细介绍了这项备受期待的功能如何将Web开发体验引入移动端，将显著减少应用模板代码，同时提升可发现性、深度链接、索引、数据加载和错误处理能力。另参阅相关[讨论](https://twitter.com/Baconbrix/status/1574837248029331495)和[播客](https://podrocket.logrocket.com/expo-router)。

- 📦 [Ignite 8.0 "Maverick"发布公告](https://shift.infinite.red/announcing-ignite-8-0-maverick-fbbdafbb738e)：流行的React-Native脚手架工具迎来重大更新，包含Expo/原生RN统一支持、全新设计、国际化等改进
- 📦 [FlashList 1.3 - MasonryFlashList](https://twitter.com/naqvitalha/status/1574416547426496513)：实现类似Masonry/Pinterest的网格布局
- 🥳️ [v0.71版本内置TypeScript类型定义](https://twitter.com/thymikee/status/1572132314280300546)，不再需要单独安装`@types/react-native`
- 🥳️ [React-Native周下载量突破100万次](https://twitter.com/thymikee/status/1574441040626552832)
- 🐦 [0.70版本：堆栈追踪功能显著改进](https://twitter.com/thymikee/status/1568257655323475972)
- 🎨 [亚马逊交互式视频服务演示](https://twitter.com/nightstomp/status/1572576326934208513)：React-Native性能超越TikTok？
- 🎨 [Software Mansion共享元素转场动画+Reanimated技术预览](https://twitter.com/swmansion/status/1572246971829608449)
- 📜 [使用React Native Testing Library测试WebView组件](https://coolsoftware.dev/testing-react-native-webview-with-react-native-testing-library/)
- 🎙 [The React Native Show第16期-微软的React Native实践](https://www.callstack.com/podcasts/react-native-at-microsoft-ep-16)
- 🎙 [React-Native-Radio第247期-五年后重新审视React Native的常见问题](https://reactnativeradio.com/episodes/rnr-247-revisiting-common-complaints-about-react-native-5-years-later-interview-with-hodeem)
- 🔗️ [Snack资源合集](https://www.snackforthat.com/)：Expo Snacks精选

---

## 🧑‍💻 职位招聘 {#jobs}

🧑‍💼 [**G2i - 全远程React Native开发岗位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们正在招聘多名React Native开发专家！年薪约16万美元外加10%奖金。应聘者需具备RN生产环境经验且居住在美国。私信[@gabe_g2i](https://twitter.com/gabe_g2i)了解详情，请注明通过This Week in React获知该职位。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [Qwik与Qwik City已进入测试版！](https://www.builder.io/blog/qwik-and-qwik-city-have-reached-beta)：基于可恢复性(resumability)而非水合(hydration)的前沿框架，React的挑战者
- [TypeScript 4.9测试版](https://devblogs.microsoft.com/typescript/announcing-typescript-4-9-beta/)：备受期待的新特性`satisfies`！
- [Token CSS](https://twitter.com/tokencss/status/1571823928187633664)：Tailwind的潜在替代方案？
- [第92届TC39会议更新](https://dev.to/hemanth/updates-from-the-92nd-tc39-meeting-5fi6)：小幅更新
- [Cloudflare - workerd：开源的Workers运行时](https://blog.cloudflare.com/workerd-open-source-workers-runtime/)
- [Meta - MemLab：用于发现JavaScript内存泄漏的开源框架](https://engineering.fb.com/2022/09/12/open-source/memlab/)
- [类型级TypeScript](https://type-level-typescript.com/)
- TotalTypeScript [技巧](https://www.totaltypescript.com/tips) + [Zod教程](https://www.totaltypescript.com/tutorials/zod)
- [Ezno，新的JavaScript类型检查编译器](https://twitter.com/robpalmer2/status/1573244310644199425)
- [Turborepo 1.5](https://twitter.com/turborepo/status/1573017581459488769)
- [tRPC 10测试版](https://twitter.com/alexdotjs/status/1571807618254905344)
- [2022年Web年鉴](https://almanac.httparchive.org/en/2022/)
- [Chrome开发者 - 容器查询开始登陆稳定版浏览器](https://developer.chrome.com/blog/cq-polyfill/)
- [Safari 16.0中的WebKit特性](https://webkit.org/blog/13152/webkit-features-in-safari-16-0/)
- [创建现代npm包的最佳实践](https://snyk.io/blog/best-practices-create-modern-npm-package/)

---

## 🤭 趣闻 {#fun}

[![Next.js路由展示了一个极其复杂的基于文件系统的路由树](/emails/issues/117/meme.png)](https://twitter.com/thekitze/status/1568300470107783168)