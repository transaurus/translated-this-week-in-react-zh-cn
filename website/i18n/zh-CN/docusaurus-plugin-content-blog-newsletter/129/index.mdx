---
slug: /129
title: "This Week In React #129: useEffectEvent, Storybook, OpenNEXT, React Email, Remix, Next.js, Pointer-Events, Expo-MDX, Expo-Image, Svelte..."
authors: [slorber]
date: 12-20-2022
---

大家好！

年末这周异常忙碌 🤪 精彩内容待您探索。

我在[React Round Up播客的访谈](https://topenddevs.)已上线，探讨了React 18最新特性、MDX乃至Docusaurus等内容。

👋 本年度最后一期。 newsletter将于1月10日回归！

🎄 节日快乐 🎅

<!-- truncate -->

**💡 [在Twitter查看本期newsletter](https://slo.im/thread) - 可视化排版 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![React Bricks是基于React组件的可视化编辑CMS](/emails/issues/128/reactbricks.png)](https://reactbricks.com/?utm_source=this_week_in_react)

**[React Bricks是基于React组件的可视化编辑CMS](https://reactbricks.com/?utm_source=this_week_in_react)**

**开发者友好**：用React组件构建设计系统，在JSX中添加可视化编辑功能，通过侧边栏控件编辑背景色等props。支持Next.js、Gatsby或Remix框架，兼容任意CSS方案！

**内容编辑者**可直接可视化操作而不会破坏设计系统，比传统无头CMS的抽象字段编辑更直观。**节省时间**，让内容团队自主运营！

**企业级功能**：多人协作、版本回溯、单点登录、GDPR合规数据中心、全球CDN图片优化、电商集成、定时发布等。

立即体验：[ReactBricks.com](https://reactbricks.com/?utm_source=this_week_in_react)

---

## ⚛️ React动态 {#react}

[![Storybook 7.0测试版](/emails/issues/129/storybook7.png)](https://storybook.js.org/blog/7-0-beta/)

**[Storybook 7.0测试版](https://storybook.js.org/blog/7-0-beta/)**

Storybook正式发布v7测试版，正式版将于数月后推出。本次重大更新包含迁移方案和升级辅助工具，主要改进包括：

- 界面设计与性能优化
- 测试：交互测试、Playwright集成、覆盖率报告
- MDX 2文档支持
- 组件故事格式3.0
- 框架支持：Vite、Next.js、SvelteKit

---

[![OpenNEXT - 开源Next.js无服务适配器](/emails/issues/129/opennext.png)](https://github.com/serverless-stack/open-next)

**[OpenNEXT - 开源Next.js无服务适配器](https://github.com/serverless-stack/open-next)**

该项目旨在提升Next.js在无服务平台的兼容性，支持**所有**特性（SSR、ISR、中间件、图片优化等）。目前仅支持AWS部署。

Ryan Florence称[Next.js并非真正开源](https://twitter.com/ryanflorence/status/1600526114010845184)，引发热议。Theo Browne的视频精辟总结了现状：[NextJS是陷阱吗？供应商锁定争议](https://www.youtube.com/watch?v=mhdO8f_45CA)。Vercel虽未刻意制造锁定，但其平台始终是部署Next.js应用的最佳选择。

---

[![React Email](/emails/issues/129/reactemail.png)](https://react.email/)

**[React Email](https://react.email/)**

基于React和TypeScript构建电子邮件的新解决方案。实际上，它是一个渲染器和一套兼容主流邮件客户端的无头组件集合，同时提供了良好的开发者体验(DX)的邮件开发界面。[演示示例](https://demo.react.email/)复刻了Vercel、Airbnb、Stripe等公司的邮件模板。这像是现代化版本的[React-MJML](https://github.com/wix-incubator/mjml-react)，还包含了预览界面功能。

---

[![React Router 6.5](/emails/issues/129/reactrouter6.5.png)](https://twitter.com/remix_run/status/1603887581770354688)

**[React Router 6.5](https://github.com/remix-run/react-router/releases/tag/react-router%406.5.0) 与 [Remix 1.9](https://github.com/remix-run/remix/releases/tag/remix%401.9.0)**

这两个关联版本标志着[React-Router-ing Remix项目整合完成](https://twitter.com/ryanflorence/status/1604257159876730881)（将Remix代码迁移至React-Router），并重新引入了一个实用功能：[可选路由片段](https://twitter.com/remix_run/status/1603887581770354688)。

---

- 📖 Beta文档: [useLayoutEffect](https://twitter.com/dan_abramov/status/1603772620641431553)。所有API参考页面已上线，Beta版网站即将发布。
- 👀 [useEvent => useEffectEvent](https://github.com/facebook/react/pull/25881): 这个备受期待的React API已更名并略微缩减了功能范围。useEffectEvent并非用于通过稳定回调函数来优化重渲染。
- 🎅 [GitHub年度总结2022](https://www.githubunwrapped.com/): 生成视频总结你的2022年GitHub活动。该视频使用React和[Remotion](https://remotion.dev/)制作。想创建自己的年度视频？可以fork这个[github-unwrapped-2022](https://github.com/remotion-dev/github-unwrapped-2022)项目！
- 🎨 [NodeToy 2.0测试版](https://nodetoy.co/): 面向创意开发者的新着色器编辑器，通过[react-nodetoy](https://github.com/NodeToy/react-nodetoy)兼容React-Three-Fiber。
- 📜 [在Remix中根据用户偏好降级为MPA](https://sergiodxa.com/articles/downgrade-to-mpa-if-users-prefer-reduced-data-in-remix): 讲解如何根据`Save-Data: on`请求头，有条件地将Remix从SPA降级为MPA。这是提升短会话应用/页面性能的有趣手段。
- 📜 [SvelteKit Auth: 将NextAuth.js带给所有框架](https://vercel.com/blog/announcing-sveltekit-auth): NextAuth开始变得框架无关。该项目更名为Auth.js，现支持Next.js和SvelteKit。
- 📜 [为什么`onClick={x()}`会导致React报"too many re-renders"错误？](https://alexsidorenko.com/blog/onclick-too-many-re-renders/): 对这个常见错误（或拼写错误）的生动解释，我们都犯过😅
- 📜 [Svelte vs React: 2023年该学哪个框架？](https://scrimba.com/articles/svelte-vs-react/)
- 📜 [Next, Nest, Nuxt… Nust?](https://www.twilio.com/blog/comparing-nextjs-nestjs-nuxt-gatsby)
- 📜 [2022年最受欢迎的CSS-in-JS库](https://stackdiary.com/css-in-js-libraries/)
- 📜 [在React中应用设计模式：策略模式](https://dev.to/itshugo/applying-design-patterns-in-react-strategy-pattern-enn)
- 📜 [React中的条件包裹](https://daily-dev-tips.com/posts/conditional-wrapping-in-react/)
- 🎥 [Tom Occhino谈管理React职业生涯的思考](https://www.youtube.com/watch?v=C1m5hQDjk20): 从React诞生到Server Components的精彩访谈。Tom Occhino曾任Meta工程经理多年。
- 🎥 [他们为React开发了IDE？](https://www.youtube.com/watch?v=_599WJnZd4g): 关于Wix新推出的React IDE——Codux。
- 🧑‍🎓 [用Remix和Supabase构建实时聊天应用](https://egghead.io/courses/build-a-realtime-chat-app-with-remix-and-supabase-d36e2618): Egghead上的免费新课程。
- 📦 [TailwindUI Protocol](https://twitter.com/adamwathan/status/1603433598660407296): 基于Next.js和MDX的文档站点精美模板
- 📦 [React-Hook-Form 7.41.0](https://twitter.com/HookForm/status/1603887632710176768)
- 📦 [Astro 1.7](https://twitter.com/astrodotbuild/status/1603868604667158529)
- 📦 [Redwood 3.7](https://github.com/redwoodjs/redwood/releases/tag/v3.7.0)
- 📦 [React Spectrum + React Aria - 2022年12月更新](https://twitter.com/devongovett/status/1603864523488006144)
- 📦 [Remix Flat Routes 0.5.1](https://twitter.com/kiliman/status/1603845269895921664)
- 📦 [@fastify/react测试版](https://github.com/fastify/fastify-dx/releases/tag/react-v0.1.0)
- 🐦 ["Framer Motion中引入硬件加速动画！"](https://twitter.com/mattgperry/status/1603010346763132933)

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

[![开发者生态调查 - 你想对开发者生态产生影响吗？](/emails/issues/128/dn-survey.png)](https://developereconomics.net/?member_id=thisweekinreact)

**[您想对开发者生态产生影响吗？](https://developereconomics.net/?member_id=thisweekinreact)**

根据最新的《开发者国情报告》，React以58%的使用率成为最受欢迎的客户端库，远超其他同类框架。您对此有何看法？

参与[开发者国度](https://developereconomics.net/?member_id=thisweekinreact)有史以来最全面的调研，共同塑造2023年开发者关键趋势，赢取丰厚奖品！🎁

完成问卷即可免费获取虚拟礼包。请务必注册参与每周抽奖，250份奖品包括ThinkPad L15 Gen 3笔记本、Intel NUC 10迷你主机、物联网套件、iPad Air、礼品卡、Udemy课程及各类科技配件等。

[立即参与](https://developereconomics.net/?member_id=thisweekinreact)！

---

## 📱 React-Native {#react-native}

[![React Native中的指针事件](/emails/issues/129/pointer.png)](https://reactnative.dev/blog/2022/12/13/pointer-events-in-react-native)

**[React Native中的指针事件](https://reactnative.dev/blog/2022/12/13/pointer-events-in-react-native)**

[Pointer Events](https://www.w3.org/TR/pointerevents3/)网页API正被移植到React-Native。这对跨平台开发是重大利好，将简化悬停(hover)和右键点击等功能的实现——这些特性原本并非React-Native JSX元素的设计目标。

---

[![Expo-MDX](/emails/issues/129/expo-mdx.png)](https://twitter.com/Baconbrix/status/1603053674548367360)

**[Expo-MDX](https://twitter.com/Baconbrix/status/1603053674548367360)**

Evan Bacon发布了支持在React-Native中使用MDX的包。Metro会将MDX编译为React组件，并通过提供者(provider)将MDX默认的DOM元素替换为可轻松样式化的React-Native元素。预计该特性将应用于Expo-Router，例如通过创建简单的`.mdx`文件即可生成新的React-Navigation屏幕？👌

React-Native的MDX支持是我特别关注的话题，可参考我在[React Native EU 2020](https://www.youtube.com/watch?v=ScgFQojbAAc)的演讲《跨平台：ReactNative、Jamstack与未来》，或文章[在Gatsby中使用Expo](https://sebastienlorber.com/using-expo-in-gatsby)。

---

- 📜 [React Native调试现状：第一部分 Expo篇](https://www.g2i.co/blog/the-current-state-of-debugging-on-react-native-part-1) + [第二部分 原生RN篇](https://www.g2i.co/blog/the-current-state-of-debugging-on-react-native-part-two-bare-rn)：关于React Native应用调试配置的最新综述，涉及近期禁用远程调试器的变更。性能分析、网络检查...要完整配置所有功能似乎仍有些复杂。
- 📜 [不，React Native并非未来](https://blog.standardnotes.com/40921/no-react-native-is-not-the-future)：一个希望统一Web与移动端代码库的应用程序故事。最终他们选择在React Native外壳中使用WebView的方案。
- 📜 [苹果考虑取消iPhone浏览器必须使用WebKit引擎的要求](https://www.macrumors.com/2022/12/14/apple-considering-non-webkit-iphone-browsers/)：目前仅在欧洲试行。若全面推广，可能影响React Native运行时和WebView的技术选型。
- 📜 [在GitHub Actions上运行Maestro测试流](https://blog.mobile.dev/running-your-maestro-flows-on-github-actions-fe2e016b7338)
- 📦 [React Native 0.71.0-RC.5发布](https://twitter.com/CipolleschiR/status/1604907381971976208)：2022年最后一个版本，正式版0.71预计1月初发布。
- 📦 [Expo-Image进入alpha阶段](https://twitter.com/tsapeta/status/1605240759342739456)：作为react-native-fast-image的新替代方案
- 📦 [React-Native-Fiesta](https://github.com/mateoguzmana/react-native-fiesta)：用于庆祝场景的Skia动画库 🥳
- 🎨 [React Native Skia - UI线程渲染演示](https://twitter.com/MateoGuzmanA/status/1604107348188057601)
- 🐦 ["React Native 0.70已突破40%市场份额"️](https://twitter.com/Kelset/status/1604794763965669377)
- 🐦 ["你知道可以仅启用React Native新架构的某些功能吗？"](https://twitter.com/Tr0zZe/status/1604854481979854848)
- 🧵 ["Ignite v8（'Maverick'）的亮点特性解析"](https://twitter.com/jamonholmgren/status/1603201805336588288)
- 📖 [Expo文档更新](https://twitter.com/amanhimself/status/1603806595808653312)

---

## 🧑‍💻 职位招聘 {#jobs}

🧑‍💼 [**Causal招聘产品工程师，远程/伦敦/纽约，年薪15-25万美元**](https://jobs.lever.co/causal-app/4acaafbe-ef3d-45a6-bbe6-687c022d727c?lever-origin=applied&lever-source%5B%5D=thisweekinreact.com)

Causal是由Coatue/Accel投资的A轮初创公司，致力于构建一体化数字处理与数据可视化工具。我们正在寻找能解决复杂UX/性能问题的资深React工程师。

🧑‍💼 [**Callstack - 高级React Native开发工程师 - 完全远程，B2B合同月薪2.1-3.2万波兰兹罗提（净收入）**](https://www.callstack.com/senior-react-native-developer)

您希望参与全球最流行应用的开发吗？是否愿意共同塑造React Native技术生态？加入Callstack这个由React & React Native技术领导者组成的团队。详情请访问我们的网站，期待看到您的申请——请向我们展示您的实力！

🧑‍💼 [**G2i - 100%远程React Native职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们为专注React Native的开发者提供多个职位！年薪约16万美元外加10%奖金。要求具备RN生产环境经验且居住在美国。私信[@gabe_g2i](https://twitter.com/gabe_g2i)了解更多，请注明通过This Week in React获知该职位。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他资讯 {#other}

- [Interop 2022：年终更新](https://web.dev/interop-2022-wrapup/)
- [StackOverflow 2022年度开发者调查报告](https://survey.stackoverflow.co/2022/)
- [Matt Pocock的TypeScript系列文章](https://www.totaltypescript.com/articles)
- [性能鸿沟：2023基准线](https://infrequently.org/2022/12/performance-baseline-2023/)
- [SvelteKit 1.0正式发布](https://svelte.dev/blog/announcing-sveltekit-1.0)
- [Deno 1.29版本发布](https://twitter.com/deno_land/status/1603509812079181824)
- [ESLint 8.30发布](https://eslint.org/blog/2022/12/eslint-v8.30.0-released/)
- [Qwik的优势：首屏交互一见钟情](https://www.builder.io/blog/the-qase-for-qwik-love-at-first-tti)
- [Vercel边缘函数正式可用](https://vercel.com/blog/edge-functions-generally-available)
- [参与选择CSS嵌套语法方案](https://webkit.org/blog/13607/help-choose-from-options-for-css-nesting-syntax/)
- [为什么我对JavaScript的未来持乐观态度](https://leerob.substack.com/p/why-im-optimistic-about-javascripts)
- [使用内联JavaScript模块防止CSS阻塞](https://calendar.perfplanet.com/2022/using-inline-javascript-modules-to-prevent-css-blockage/)
- [Safari技术预览版160发布说明](https://webkit.org/blog/13639/release-notes-for-safari-technology-preview-160/)
- [Chromium计划正式支持WebGPU](https://groups.google.com/a/chromium.org/g/blink-dev/c/VomzPhvJCxI/m/SUhU9Z0vAgAJ)
- [Theo Browne与Max Stoiber探讨tRPC和GraphQL](https://www.youtube.com/watch?v=2-407yO8nEU)
- [2022黄金年：JavaScript向边缘计算迈进](https://thenewstack.io/2022-a-golden-year-as-javascript-moves-to-the-edge/)
- [Web分享API成为W3C提案推荐标准](https://www.w3.org/blog/news/archives/9773)

---

## 🤭 趣味时刻 {#fun}

[![趣味图片](/emails/issues/129/meme.png)](https://twitter.com/ryanflorence/status/1603247783254798336)