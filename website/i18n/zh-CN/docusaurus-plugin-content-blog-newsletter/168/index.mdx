---
slug: /168
title: "This Week In React #168: TanStack, useMemo, RSC, preload, flushSync, shadcn-ui, MDX, Storybook, StyleX, TWC, Tokenami, Catalyst, rsc-cache, WishList, VisionOS, Hermes, release-profiler..."
authors: [slorber, bndkt]
date: 01-03-2024
---

大家好！

圣诞快乐，新年快乐！🥂

时事通讯又陪伴大家走过一年。尽管正值假期，我们仍有一些有趣的新闻，尤其是关于TanStack的。开发者们可能趁此机会在忙自己的开源副项目呢😄！

别忘了填写[2023年React Native现状调查](https://stateofreactnative.com/)，这是最后机会了！

再次说明，本期内容由[Benedikt](https://twitter.com/bndkt)和我共同完成。

我希望能抽时间写一份完整的2023年通讯回顾。在此之前，如果你感兴趣，我在[Indie Hackers页面](https://www.indiehackers.com/product/french-react-newsletter)上写了两年来的月度报告。

<!-- truncate -->

**💡 [在Twitter上查看本期通讯](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![帮助锻炼产品肌肉的时事通讯](/emails/issues/168/posthog.png)](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)

**[帮助锻炼产品肌肉的时事通讯](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)**

[**工程师的产品思维**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)是PostHog推出的专注于帮助工程师提升产品技能的通讯。学习如何向用户提问、构建用户喜爱的新功能，以及实现产品市场匹配的路径。[**免费订阅**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)获取关于打造优秀产品的精选建议、构建PostHog的经验教训（和错误），以及对顶级初创公司策略的深度分析。

---

## ⚛️ React {#react}

[![TanStack Router 1.0](/emails/issues/168/tanstack-router.jpg)](https://tanstack.com/router/v1)

**[TanStack Router 1.0](https://tanstack.com/router/v1)**

备受期待的TanStack Router以稳定的1.0版本发布，并配有一个精美的[🐦预告片](https://twitter.com/tannerlinsley/status/1738709130213560497)，正好赶上圣诞节。这款新路由器在类型安全、URL状态管理（搜索参数）和缓存等方面突破了可能的界限。

[SSR指南](https://tanstack.com/router/v1/docs/guide/ssr)中提到了一个`@tanstack/react-start`包，可能是对即将推出的[🐦 TanStack Start框架](https://twitter.com/sebastienlorber/status/1742589454563369123)的预告。

其他你可能错过的近期TanStack包：

- 📦 [TanStack Config - 用于发布和维护高质量JavaScript包的工具](https://github.com/TanStack/config)
- 📦 [TanStack Store - 框架无关、类型安全的存储，带有响应式框架适配器](https://tanstack.com/store/latest)

---

- 💸 [从Dreamweaver到JSX：网页可视化开发工具的演进](https://mightymeld.com/blog/browser-dev-tools-understand-code?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=link1)
- 👀 [React文档PR - React-DOM静态资源加载函数](https://github.com/reactjs/react.dev/pull/6459)
- 👀 [Next.js PR - Next.js正探索迁移至Lightning CSS](https://github.com/vercel/next.js/pull/58712)
- 👀 [Remix PR - SPA模式](https://github.com/remix-run/remix/pull/8338)
- 🐦 [useMemo将成为context选择器的升级版](https://twitter.com/sebastienlorber/status/1741218919732429108)：事实证明[选择器难以组合](https://twitter.com/dan_abramov2/status/1741200483862151663)，计划改进useMemo使其具备类似选择器的功能！
- 🐦 [SkipRenderOnClient - 优化hydration性能的巧妙技巧](https://twitter.com/sebastienlorber/status/1742528219318738955)
- 🐦 [Million.js加入Y Combinator](https://twitter.com/aidenybai/status/1737929698221682789)
- 📜 [React服务端组件：优势、缺陷与现状](https://www.mayank.co/blog/react-server-components/)：对当前RSC使用现状的批判性但见解深刻的评价。
- 📜 [关于Remix的思考](https://www.viget.com/articles/thoughts-on-remix/)：对Remix的平衡视角——其起源、哲学理念及与Next.js的对比。
- 📜 [深入理解ReactDOM.flushSync](https://julesblom.com/writing/flushsync)：详细且交互式解析React-DOM中鲜为人知但关键的方法`flushSync()`，该方法允许你退出React状态更新的批量处理机制。
- 📜 [Remix + MDX - 本网站的构建方式](https://remix-blog-mdx.fly.dev/)：Vite特性与插件协同支持Remix与MDX集成。
- 📜 [视图过渡API：页面动画的新范式](https://marmelab.com/blog/2023/12/21/view-transitions.html)：同时展示在React Router和Remix中的使用方法。
- 📜 [我们该发布什么？](https://rauno.me/craft/vercel)：关于vercel.com改版的深度技术博客。
- 📜 [Storybook 2024年发展路线](https://storybook.js.org/blog/future-of-storybook-2024/)：2024年Storybook将聚焦应用开发（而非孤立组件开发）、增强非React框架支持，以及改进故事生成（利用AI）。
- 📜 [如何让Storybook提速2-4倍 - v7.6提供性能优化选项，v8.0将默认启用](https://storybook.js.org/blog/optimize-storybook-7-6/)
- 📜 [Next.js 14并行路由](https://www.builder.io/blog/nextjs-14-parallel-routes)：在同一布局中同时渲染多个页面（适用于仪表盘场景）。
- 📜 [Next.js 14拦截路由](https://www.builder.io/blog/nextjs-14-intercepting-routes)
- 📜 [理解React的useFormState与useFormStatus钩子](https://blog.logrocket.com/understanding-react-useformstate-useformstatus-hooks/)
- 📜 [深入Next.js 14的服务端操作](https://blog.logrocket.com/diving-into-server-actions-next-js-14/)
- 📦 [rsc-cache - 缓存高开销的RSC组件，支持Next.js集成](https://github.com/fredkiss3/rsc-cache)
- 📦 [Catalyst - 现代化的React UI套件](https://tailwindcss.com/blog/introducing-catalyst)：Tailwind团队推出的官方React UI套件，需Tailwind UI许可证。同时发布免费的Headless UI v2.0 alpha版。
- 📦 [Tokenami - 原子化CSS样式属性方案](https://github.com/tokenami/tokenami)：支持主题化和响应式变体的现代类型安全样式方案，兼容React和Solid。
- 📦 [shadcn-ui 0.5 - 新增组件（轮播、抽屉、分页、可调整尺寸、通知）及CLI改进](https://ui.shadcn.com/docs/changelog)
- 📦 [StyleX 0.4.1 - ESLint和Rollup插件增强、自动补全、性能优化、运行时体积缩减、CSS层支持...](https://stylexjs.com/blog/v0.4.1)
- 📦 [Storybook 8.0.0 alpha 4 - 移除react对等依赖](https://github.com/storybookjs/storybook/releases/tag/v8.0.0-alpha.4)
- 📦 [TWC - 创建可复用的Tailwind CSS + React组件](https://react-twc.vercel.app/)
- 📦 [MDXTS - 基于MDX、TypeScript和React构建类型安全的交互式内容与文档](https://www.mdxts.dev/)
- 📦 [Plate - React富文本编辑器框架，支持自定义和插件系统](https://platejs.org/)
- 📦 [next-route-handler-pipe - Next.js路由处理器的函数管道](https://github.com/KolbySisk/next-route-handler-pipe)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![ShipFast - 几天内发布你的创业项目，无需数周](/emails/issues/168/shipfast.jpg)](https://shipfa.st/?via=twir)

**[ShipFast - 几天内发布你的创业项目，无需数周](https://shipfa.st/?via=twir)**

包含构建SaaS、AI工具或任何其他Web应用所需一切的Next.js样板项目，助你快速实现首次在线盈利。

- 支持App Router或Page Router
- 支持JavaScript或TypeScript
- 7天内无理由退款保证

---

## 📱 React-Native {#react-native}

- 💸 [Galaxies.dev - 掌握React Native并使用代码GALAXIES24享受PRO版25%折扣](https://galaxies.dev?utm_source=thisweekinreact.com)
- 📊 [2023年React Native现状调查 - 最后召集，周五5日截止](https://stateofreactnative.com/)
- 👀 [RFC：在Apple平台弃用Obj-C](https://github.com/react-native-community/discussions-and-proposals/pull/747)：转向Swift将仅在完成新架构迁移后启动。
- 👀 [hermes-jsi-demos - 在桌面端无框架环境下使用Hermes与JSI](https://github.com/tmikov/hermes-jsi-demos)
- 👀 [jsi-rs - 用Rust编写超高速React Native模块](https://github.com/laptou/jsi-rs/)
- 🐦 [Expo SDK 50通过平台摇树优化包体积](https://twitter.com/Baconbrix/status/1740487401414275120)
- 🐦 [Chain React 2024大会定于7月17-19日举行](https://twitter.com/ChainReactConf/status/1737578373415928100)
- 🐦 [2023年React Native热门推文精选](https://twitter.com/infinite_red/status/1737890233201623526)
- 📜 [WishList Release项目终止](https://margelo.notion.site/WishList-Summit-b20c24d1f0da4889a0513dfa929be5ed)：经过一年开发后，Margelo决定不发布旨在解决React Native列表性能问题的库。
- 📜 [将React Native库引入Apple Vision Pro](https://www.oskarkwasniewski.dev/blog/bringing-react-native-libraries-to-apple-vision-pro)：新的out-of-tree VisionOS平台将自动支持JS库。大多数原生库只需在podspec中添加`visionos`平台即可。
- 📜 [如何正确解读Xcode错误](https://levelup.gitconnected.com/how-to-properly-read-xcode-error-7b979692333d)
- 📜 [JavaScript通过静态Hermes实现性能突破](https://medium.com/@elves.silva.vieira/javascript-achieves-breakthrough-performance-with-static-hermes-6286b0ac8ef7)
- 📦 [react-native-release-profiler - 在生产环境和发布版本中被动分析JS/Hermes性能](https://github.com/margelo/react-native-release-profiler)
- 📦 [expo-video-metadata](https://github.com/hirbod/expo-video-metadata)：获取本地和远程视频文件的时长、尺寸、方向和编解码器等信息。
- 📦 [react-native-macos 0.73.1](https://www.npmjs.com/package/react-native-macos/v/0.73.1)
- 📦 [react-native-windows 0.73.2](https://github.com/microsoft/react-native-windows/releases/tag/react-native-windows_v0.73.2)
- 📦 [使用Tailwind样式启动通用基于文件的Expo应用](https://github.com/expo/examples/tree/master/with-router-tailwind)：采用Expo Router v3和NativeWind v4的新create-expo-app模板。
- 🎙 [React Native Show第32期 - Apple Vision Pro和visionOS上的React Native](https://www.callstack.com/podcasts/react-native-for-apple-vision-pro-and-visionos)
- 🎙️ [RNR第284期 - React Native年度回顾 - 2023年总结](https://reactnativeradio.com/episodes/rnr-284-react-native-rewind-2023-in-review)
- 🎙️ [Rocket Ship第23期 - 为什么你该在2024年使用React Native](https://podcast.galaxies.dev/episodes/023-why-you-should-use-react-native-in-2024)

---

## 🔀 其他 {#other}

- 👀 [TypeScript 5.4 PR - 新增对package.json imports字段的自动导入支持](https://github.com/microsoft/TypeScript/pull/55015)
- 📜 [2024年前端技术预测](https://buttondown.email/whatever_jamie/archive/frontend-predictions-for-2024/)
- 📜 [JavaScript框架：迈向2024](https://dev.to/this-is-learning/javascript-frameworks-heading-into-2024-i3l)
- 📜 ["Web组件"的替代未来](https://blog.carlana.net/post/2023/web-component-alternative-futures/)
- 📜 [为什么JavaScript Promise在技术上不是单子](https://rybicki.io/blog/2023/12/23/promises-arent-monads.html)
- 📜 [Shadow DOM与封装性问题](https://nolanlawson.com/2023/12/30/shadow-dom-and-the-problem-of-encapsulation/)
- 📦 [ESLint v9.0.0-alpha.0发布](https://eslint.org/blog/2023/12/eslint-v9.0.0-alpha.0-released/)
- 📦 [quick-lint-js 3.0 - TypeScript错误检测工具](https://quick-lint-js.com/blog/version-3.0/)

---

## 🤭 轻松一刻 {#fun}

[![alt](/emails/issues/168/meme.jpg)](https://twitter.com/webdevcody/status/1737138310605083051)

下次见！👋