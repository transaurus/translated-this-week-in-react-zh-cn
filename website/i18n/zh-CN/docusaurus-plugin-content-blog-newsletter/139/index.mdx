---
slug: /139
title: "This Week In React #139: React.dev, Remix, next export, Server Components, i18n, Error Boundary, Wakuwork, Astro, React-Native, Bottom Sheet, TypeScript, TC39..."
authors: [slorber]
date: 03-21-2023
---

大家好！

新版React官网终于上线了，不得不说它真的太棒了🤗 我整理了不少相关链接，留待各位自行评判！

本周还有几篇精彩文章。我特别喜欢React API交互式地图、Remix v2重大变更的处理方式，以及使用React服务器组件实现翻译的方案。

React Native方面，v0.72的首个候选版本已发布。Metro 0.76中一些期待已久的新功能（如符号链接支持）应该很快就能用上了！

<!-- truncate -->

**💡 [在Twitter上查看本期简报](https://slo.im/thread) - 可视化版式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![Suncel](/emails/issues/136/suncel.jpg)](https://suncel.io/)

**[构建可复用区块。更快发布内容。获得更好的核心网页指标和SEO。](https://suncel.io/)**

**内容编辑者**：对于需要大量产出内容且注重SEO策略的企业堪称变革。营销人员和内容编辑无需复杂操作即可修改发布页面。消除冗长延迟，实现即时发布。依托Next.js优化页面和图片，达成完美的核心网页指标评分。

**开发者**：可与现有Next.js应用即插即用。使用Suncel CMS的诸多优势：

- 用React构建可复用区块
- 自动生成SEO元数据和站点地图（通过我们的SEO模块）
- 用React创建自定义设置
- 可定制的React管理后台
- 无需为适配CMS而设计路由系统

**[访问Suncel.io](https://suncel.io/)** | **[5分钟演示视频](https://www.youtube.com/watch?v=LUupLEZKp3w)**

---

## ⚛️ React动态 {#react}

[![全新react.dev上线](/emails/issues/139/reactdev.jpg)](https://react.dev/blog/2023/03/16/introducing-react-dev)

**[隆重推出react.dev](https://react.dev/blog/2023/03/16/introducing-react-dev)**

新版React官网终于上线！伴随这次发布还有一篇专题文章。这是个耗费数年心血、汇聚众多贡献者的大型项目（涉及技术和内容两方面）。

我特别欣赏这些亮点：

- 聚焦hooks和函数式组件
- 配备大量图表、插图和交互式挑战的学习指南
- 强调React作为跨平台解决方案（不局限于Web）
- API文档按参考/用法、当前/已弃用、客户端/服务端清晰划分
- 整体体验的高度一致性

本周也有些颇具争议的改动，特别是官方仅推荐少量框架（Next.js、Remix、Gatsby、Expo）作为React新项目起点，而不再推荐其他常见方案（如Vite、Create-React-App、客户端SPA等）。

**延伸阅读：**

- 📜 [新版React文档假装SPA已不复存在](https://wasp-lang.dev/blog/2023/03/17/new-react-docs-pretend-spas-dont-exist)
- 📜 [2023年如何启动React项目](https://www.robinwieruch.de/react-starter/)
- 🧵 [Dan Abramov谈新版React.dev网站上线历程](https://twitter.com/dan_abramov/status/1638004334544707584)
- 🧵 [Dan Abramov探讨CRA未来可能方向——"纯客户端方案限制性太强"](https://twitter.com/dan_abramov/status/1636827365677383700)
- 🧵 [Dan Abramov倡议淘汰术语：SPA/MPA/SSR/SSG，这些代表上一代工具概念](https://twitter.com/dan_abramov/status/1636943182322704385)
- 🧵 [Dan Abramov表示多数现代React框架不再强制要求Node.js服务端](https://twitter.com/dan_abramov/status/1636716018973257728)
- 🧵 [Dan Abramov演示Next.js纯客户端SPA示例（无需Node.js服务端，完全静态打包）](https://twitter.com/dan_abramov/status/1636886736784457734)

---

[![React API全景图谱](/emails/issues/139/reactmap.jpg)](https://julesblom.com/writing/map-of-react-api)

**[React API全景图谱](https://julesblom.com/writing/map-of-react-api)**

通过空间交互形式可视化React API体系，每个API节点都关联了优质外部技术文章。这种创新呈现方式既是对官方文档的有力补充，也提供了独特的视角解读。

---

- 👀 [React PR - 挂起提交而不阻塞渲染](https://github.com/facebook/react/pull/26398)：该特性将首先在内部使用，特别是针对资源（CSS、字体、图像）。当使用startTransition导航时，React能够等待下一页图像加载完成后再提交过渡（[详情](https://twitter.com/acdlite/status/1637102880850059264)）。
- 👀 [React PR - 移除服务端布局效果警告](https://github.com/facebook/react/pull/26395)：SSR中针对useLayoutEffect的警告将被移除。Dan Abramov评论了[useIsomorphicLayoutEffect](https://twitter.com/dan_abramov/status/1636176793592905729)。
- 🧵 [Tim Neutkens谈改进`next export`](https://twitter.com/timneutkens/status/1636693508223270912)：兼容App Router、服务器组件...
- 📜 [为你的Remix应用未来护航](https://remix.run/blog/future-flags)：Remix解释了他们在主要版本中部署破坏性变更的策略。他们计划引入"未来标志"，允许你提前选择加入计划中的破坏性变更。如果你在v1中激活了所有标志，升级到v2应该会很容易。
- 📜 [Next.js 13中使用React服务器组件的国际化](https://www.smashingmagazine.com/2023/03/internationalization-nextjs-13-react-server-components/)：服务器组件将对React应用的翻译方式产生重大影响，特别是在性能、代码拆分和包大小方面。本文很好地介绍了这一主题。我在这个[推文](https://twitter.com/sebastienlorber/status/1638528549056311297)中提供了更多额外细节。
- 📜 [你可能不需要的Hooks](https://reacttraining.com/blog/hooks-you-probably-dont-need)：介绍了React中较少人知的hooks，按需要它们的可能性分类（你好`useInsertionEffect` 😅）。我喜欢最后一部分展示了一个常见的反模式以及`useLayoutEffect`如何防止它。我认为[useSyncExternalStore非常适合](https://twitter.com/sebastienlorber/status/1615329010761842689)读取浏览器API如`localStorage`。
- 📜 [Front-Commerce正在转向Remix](https://developers.front-commerce.com/changelog/front-commerce-is-getting-a-remix)：继Shopify之后，Front-Commerce现在决定基于Remix。这有很多优势，比如可以使用渐进增强、MPA模式，并且与React的耦合度更低。
- 📜 [Astro：这个新的JavaScript框架有多好？](https://cult.honeypot.io/reads/astro-the-new-javascript-framework/)
- 📜 [通过迁移到Astro减少Open UI网站97%的JavaScript](https://blog.andri.co/023-migrating-open-ui-site-from-gatsby-to-astro/)
- 📦 [React-Error-Boundary v4](https://twitter.com/sebastienlorber/status/1638465247886426113)：新的`useErrorBoundary` API，用于为非渲染错误触发错误边界，并可以从任何地方轻松重置边界。
- 📦 [Wakuwork](https://github.com/dai-shi/wakuwork)：Daishi Kato正在开发一个支持React服务器组件的极简React框架。
- 📦 [Framer-Motion 10.5](https://twitter.com/mattgperry/status/1636714500731592706)：`useAnimate()`
- 📦 [Remix-Sitemap](https://github.com/fedeya/remix-sitemap)
- 🎥 [React的新缓存会修复它的"Use" Hook吗？](https://www.youtube.com/watch?v=T3m-MZkuadU)
- 🎥 [NextJS 13服务器和客户端组件的状态管理](https://www.youtube.com/watch?v=dRLjoT4r-jc)
- 🎥 [理解React的类型](https://www.youtube.com/watch?v=u_zoRJh9krU)
- 🎙️ [React的未来](https://changelog.com/jsparty/267)

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

**[![构建和运行可扩展的合成监控](/emails/issues/134/checkly.jpg)](https://www.checklyhq.com/product/monitoring-as-code/?utm_medium=email&utm_source=newsletter&utm_campaign=this-week-in-react)**

**[构建并运行可扩展的合成监控](https://www.checklyhq.com/product/monitoring-as-code/?utm_medium=email&utm_source=newsletter&utm_campaign=this-week-in-react)**

"你构建它，你拥有它！"这一简单信条多年来驱动着软件开发。但监控复杂的React应用的最佳方式是什么？

首先：使用Playwright模拟关键用户流程，确保应用正常运行。其次：确保核心API服务稳定可用。

监控即代码是一种新范式，可直接通过代码定义、测试和部署完整的基于Playwright的测试监控方案。通过运行npm create @checkly/cli开始使用Checkly CLI。

了解更多关于Checkly CLI的信息[请点击此处](https://www.checklyhq.com/docs/cli/?utm_medium=email&utm_source=newsletter&utm_campaign=this-week-in-react)。

[用Checkly统一QA、开发和运维团队](https://www.checklyhq.com/product/monitoring-as-code/?utm_medium=email&utm_source=newsletter&utm_campaign=this-week-in-react)

---

## 📱 React-Native {#react-native}

- 👀 [Expo中代码拆分的优势](https://twitter.com/Baconbrix/status/1636398236373078018)：代码拆分（通过resolveWeak、Metro 0.76、React-Native 0.72实现）可能为Expo Router带来诸多好处！
- 👀 [Expo SDK 49将内置TypeScript别名/绝对路径支持](https://twitter.com/Baconbrix/status/1636048353799684115)
- 👀 [在Docusaurus上运行的Reanimated示例](https://twitter.com/kacperkapusciak/status/1638539744635174914)
- 📦 [React-Native v0.72 RC.0](https://github.com/facebook/react-native/releases/tag/v0.72.0-rc.0)：即将发布的v0.72特性详见[Road to 0.72.0](https://github.com/reactwg/react-native-releases/discussions/54)：Metro（符号链接、exports、resolveWeak）、Hermes...
- 📦 [Bottom Sheet v5 Alpha](https://twitter.com/gorhom/status/1637237501294268416)：支持Reanimated v3、Gesture Handler v2和Web
- 📦 [React-Native-Permissions v3.8](https://github.com/zoontek/react-native-permissions/releases/tag/3.8.0)：支持新架构
- 📦 [React-Native-PDF-Renderer v1](https://github.com/douglasjunior/react-native-pdf-renderer)：原生PDF渲染器
- 📦 [React-Native-Testing-Library v12](https://twitter.com/mdj_dev/status/1635927436947865600)
- 📜 [探索Expo Router Alpha版](https://www.g2i.co/blog/explore-expo-router-alpha)
- 📜 [用Expo简化React Native开发](https://thoughtbot.com/blog/simplifying-react-native-development-with-expo)
- 🎥 [使用Expo、React-Native、Swift和Kotlin构建原生视图库](https://www.youtube.com/watch?v=c-tFADXScEI)
- 🎥️ [The React Native Show第21期 - 原生与React Native性能分析](https://www.youtube.com/watch?v=IyFxgEit3Jc)

---

## 🧑‍💻 职位 {#jobs}

🧑‍💼 [**Callstack - 高级React Native开发工程师 - 完全远程，B2B合同月薪21-32k PLN净收入**](https://www.callstack.com/senior-react-native-developer)

您想参与世界顶级应用开发吗？您希望共同塑造React Native技术未来吗？加入Callstack这个React & React Native技术领袖团队。详情请访问官网。我们期待您的申请——请展示您的实力！

🧑‍💼 [**G2i - 100%远程React Native职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们开放多个React Native开发岗位！年薪约16万美元外加10%奖金。要求具备RN生产环境经验且居住在美国。私信[@gabe_g2i](https://twitter.com/gabe_g2i)了解详情，请注明通过This Week in React获悉。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [Ecma TC39第95次会议议程](https://github.com/tc39/agendas/blob/main/2023/03.md)：会议进行中。[Async Context](https://twitter.com/sebastienlorber/status/1620391460679065601)有望进入第二阶段候选提案👌 另有一些全新的[Promise相关提案](https://twitter.com/sebastienlorber/status/1638130215443390464)。
- [Rspack正式发布](https://www.rspack.dev/blog/announcement.html)：这款基于Rust的新打包工具的官方介绍文章
- [Farm - 用Rust编写的超快Web构建工具](https://github.com/farm-fe/farm)：又一款Rust工具😄
- [TypeScript 5.0](https://twitter.com/typescript/status/1636416665071288321)：装饰器、新配置选项...
- [Prettier 2.8.5](https://twitter.com/PrettierCode/status/1637707276286062593)：支持TypeScript 5.0
- [Vite 4.2](https://twitter.com/vite_js/status/1636362767744765952)
- [Signals与Observables之争，究竟在争论什么？](https://www.builder.io/blog/signals-vs-observables)
- [前端开发的终结](https://www.joshwcomeau.com/blog/the-end-of-frontend-development/)
- [手写响应式Signal库](https://www.lksh.dev/blog/writing-your-own-reactive-signal-library/)
- [Deno为何新增package.json支持](https://deno.com/blog/package-json-support)
- [加速JavaScript生态 - npm脚本篇](https://marvinh.dev/blog/speeding-up-javascript-ecosystem-part-4/)
- [2023年前端开发者必知的6个CSS代码片段](https://web.dev/6-css-snippets-every-front-end-developer-should-know-in-2023/)
- [Drizzle - 让你直接写SQL的ORM](https://www.propelauth.com/post/drizzle-an-orm-that-lets-you-just-write-sql)
- [Socket发布"safe npm"封装工具](https://socket.dev/blog/introducing-safe-npm)
- [Turbowatch - 极速文件变更检测器](https://github.com/gajus/turbowatch)

---

## 🤭 轻松一刻 {#fun}

[![趣味图片](/emails/issues/139/meme.jpg)](https://twitter.com/trashh_dev/status/1636743375956348928)

下期见！👋