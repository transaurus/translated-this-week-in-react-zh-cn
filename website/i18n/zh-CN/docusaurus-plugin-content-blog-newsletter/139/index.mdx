---
slug: /139
title: "This Week In React #139: React.dev, Remix, next export, Server Components, i18n, Error Boundary, Wakuwork, Astro, React-Native, Bottom Sheet, TypeScript, TC39..."
authors: [slorber]
date: 03-21-2023
---

大家好！

新版React官网终于上线了，不得不说它真的太棒了🤗 我整理了不少相关链接，各位可以自行评判！

这里还有些超棒的文章。我很喜欢React API的交互式地图、Remix对v2版本破坏性变更的处理方式，以及使用React服务端组件实现翻译的方案。

React Native方面，v0.72的首个候选版本已经发布。Metro 0.76中一些期待已久的新功能应该很快就能用上，比如符号链接支持！

<!-- truncate -->

**💡 [在Twitter上查看本期简报](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![Suncel](/emails/issues/136/suncel.jpg)](https://suncel.io/)

**[构建可复用区块。更快发布内容。获得更好的核心网页指标和SEO。](https://suncel.io/)**

**内容编辑者**：对于需要大量产出内容并注重SEO策略的公司而言，这是改变游戏规则的工具。营销人员和内容编辑者可以无需复杂操作就能编辑发布页面。消除冗长延迟，实现即时发布。借助Next.js优化页面和图片，达成完美的核心网页指标评分。

**开发者**：可与现有Next.js应用即插即用。使用Suncel CMS对开发者有多重优势：

- 用React构建可复用区块
- 自动生成SEO元数据和站点地图（通过我们的SEO模块）
- 用React创建自定义设置
- 可定制的React管理后台
- 无需为适配CMS而设计路由系统

**[访问Suncel.io](https://suncel.io/)** | **[5分钟演示视频](https://www.youtube.com/watch?v=LUupLEZKp3w)**

---

## ⚛️ React {#react}

[![全新react.dev介绍](/emails/issues/139/reactdev.jpg)](https://react.dev/blog/2023/03/16/introducing-react-dev)

**[全新react.dev介绍](https://react.dev/blog/2023/03/16/introducing-react-dev)**

新版React官网终于上线！随本次发布还有一篇配套文章。这是个非常庞大的项目（包括技术和内容两方面），耗费数年努力并汇聚众多贡献者之力。

我特别欣赏这些亮点：

- 聚焦hooks和函数式组件
- 包含大量图表、插图和交互式挑战的指南
- 强调React作为跨平台解决方案（不局限于Web）
- API文档按参考/用法、当前/已弃用、客户端/服务端清晰划分
- 整体体验的高度一致性

本周也有些争议性变化，特别是官方仅推荐少量框架来启动新React项目（Next.js、Remix、Gatsby、Expo），而不推荐其他众多方案（Vite、Create-React-App、客户端SPA等）。

**延伸阅读：**

- 📜 [新版React文档假装SPA已不复存在](https://wasp-lang.dev/blog/2023/03/17/new-react-docs-pretend-spas-dont-exist)
- 📜 [2023年如何启动React项目](https://www.robinwieruch.de/react-starter/)
- 🧵 [Dan Abramov谈新版React.dev网站上线历程](https://twitter.com/dan_abramov/status/1638004334544707584)
- 🧵 [Dan Abramov谈CRA可能的未来——"纯客户端方案限制性太强"](https://twitter.com/dan_abramov/status/1636827365677383700)
- 🧵 [Dan Abramov发起倡议——"建议淘汰SPA/MPA/SSR/SSG等术语，它们代表上一代工具范式"](https://twitter.com/dan_abramov/status/1636943182322704385)
- 🧵 [Dan Abramov指出——"多数现代React框架不再强制依赖Node.js服务端，仅在需要时可选添加"](https://twitter.com/dan_abramov/status/1636716018973257728)
- 🧵 [Dan Abramov演示Next.js案例——纯客户端SPA方案（无需Node.js服务端，100%静态打包）](https://twitter.com/dan_abramov/status/1636886736784457734)

---

[![React API全景图](/emails/issues/139/reactmap.jpg)](https://julesblom.com/writing/map-of-react-api)

**[React API全景图](https://julesblom.com/writing/map-of-react-api)**

以空间交互形式呈现React API体系，每个API节点都附有优质外部文章链接。这种可视化方案极具创意，既是对官方文档的有效补充，又融入了技术选型的独到见解。

---

- 👀 [React PR - 挂起提交但不阻塞渲染](https://github.com/facebook/react/pull/26398)：该特性将首先在内部使用，特别是针对资源（CSS、字体、图片）。当使用startTransition导航时，React能够等待下一页图片加载完成后再提交过渡（[详情](https://twitter.com/acdlite/status/1637102880850059264)）。
- 👀 [React PR - 移除服务端布局副作用警告](https://github.com/facebook/react/pull/26395)：SSR中关于useLayoutEffect的警告将被移除。Dan Abramov对[useIsomorphicLayoutEffect](https://twitter.com/dan_abramov/status/1636176793592905729)发表了评论。
- 🧵 [Tim Neutkens谈改进`next export`](https://twitter.com/timneutkens/status/1636693508223270912)：兼容App Router、服务器组件...
- 📜 [为Remix应用未来做兼容准备](https://remix.run/blog/future-flags)：Remix解释了他们在主要版本中部署破坏性变更的策略。他们计划引入"未来标志"，允许提前选择加入计划中的破坏性变更。如果你在v1中激活了所有标志，升级到v2应该会很顺利。
- 📜 [Next.js 13中基于React服务器组件的国际化方案](https://www.smashingmagazine.com/2023/03/internationalization-nextjs-13-react-server-components/)：服务器组件将对我们翻译React应用的方式产生重大影响，特别是在性能、代码分割和包大小方面。本文很好地介绍了这一主题。我在这个[推文](https://twitter.com/sebastienlorber/status/1638528549056311297)中提供了更多细节。
- 📜 [你可能不需要的Hooks](https://reacttraining.com/blog/hooks-you-probably-dont-need)：介绍React中鲜为人知的hooks，按需求可能性分类（你好`useInsertionEffect`😅）。我喜欢最后一部分展示的常见反模式以及`useLayoutEffect`如何防止它。我认为[useSyncExternalStore非常适合](https://twitter.com/sebastienlorber/status/1615329010761842689)读取浏览器API如`localStorage`。
- 📜 [Front-Commerce拥抱Remix](https://developers.front-commerce.com/changelog/front-commerce-is-getting-a-remix)：继Shopify之后，Front-Commerce也决定基于Remix构建。这有许多优势，例如可以使用渐进增强、MPA模式，以及与React的耦合度降低。
- 📜 [Astro：这个新JavaScript框架有多好？](https://cult.honeypot.io/reads/astro-the-new-javascript-framework/)
- 📜 [通过迁移到Astro减少Open UI网站97%的JavaScript](https://blog.andri.co/023-migrating-open-ui-site-from-gatsby-to-astro/)
- 📦 [React-Error-Boundary v4](https://twitter.com/sebastienlorber/status/1638465247886426113)：新增`useErrorBoundary` API，用于为非渲染错误触发错误边界，并可从任何位置轻松重置边界。
- 📦 [Wakuwork](https://github.com/dai-shi/wakuwork)：Daishi Kato正在开发一个支持React服务器组件的极简React框架。
- 📦 [Framer-Motion 10.5](https://twitter.com/mattgperry/status/1636714500731592706)：`useAnimate()`
- 📦 [Remix-Sitemap](https://github.com/fedeya/remix-sitemap)
- 🎥 [React的新缓存机制能修复其"Use" Hook吗？](https://www.youtube.com/watch?v=T3m-MZkuadU)
- 🎥 [NextJS 13服务器和客户端组件的状态管理](https://www.youtube.com/watch?v=dRLjoT4r-jc)
- 🎥 [理解React的类型系统](https://www.youtube.com/watch?v=u_zoRJh9krU)
- 🎙️ [React的未来](https://changelog.com/jsparty/267)

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

**[![构建和运行可扩展的合成监控](/emails/issues/134/checkly.jpg)](https://www.checklyhq.com/product/monitoring-as-code/?utm_medium=email&utm_source=newsletter&utm_campaign=this-week-in-react)**

**[构建并运行可扩展的合成监控方案](https://www.checklyhq.com/product/monitoring-as-code/?utm_medium=email&utm_source=newsletter&utm_campaign=this-week-in-react)**

"你构建，你负责！"这一简洁信条多年来驱动着软件开发。但监控复杂的React应用的最佳方式是什么？

首先：使用Playwright模拟关键用户流程，确保应用正常运行。其次：确保核心API服务持续可用。

监控即代码是一种全新方式，可直接通过代码定义、测试和部署完整的基于Playwright的测试监控方案。通过运行npm create @checkly/cli开始使用Checkly CLI。

了解更多关于Checkly CLI的信息[请点击此处](https://www.checklyhq.com/docs/cli/?utm_medium=email&utm_source=newsletter&utm_campaign=this-week-in-react)。

[用Checkly统一您的QA、开发和运维团队](https://www.checklyhq.com/product/monitoring-as-code/?utm_medium=email&utm_source=newsletter&utm_campaign=this-week-in-react)

---

## 📱 React-Native动态 {#react-native}

- 👀 [Expo中代码拆分的优势](https://twitter.com/Baconbrix/status/1636398236373078018)：代码拆分（通过resolveWeak、Metro 0.76、React-Native 0.72实现）将为Expo Router带来诸多优势！
- 👀 [Expo SDK 49将内置TypeScript别名/绝对路径支持](https://twitter.com/Baconbrix/status/1636048353799684115)
- 👀 [在Docusaurus上运行的Reanimated示例](https://twitter.com/kacperkapusciak/status/1638539744635174914)
- 📦 [React-Native v0.72 RC.0发布](https://github.com/facebook/react-native/releases/tag/v0.72.0-rc.0)：v0.72新特性详见[Road to 0.72.0](https://github.com/reactwg/react-native-releases/discussions/54)：Metro（符号链接、exports、resolveWeak）、Hermes...
- 📦 [Bottom Sheet v5 Alpha版](https://twitter.com/gorhom/status/1637237501294268416)：支持Reanimated v3、Gesture Handler v2及Web平台
- 📦 [React-Native-Permissions v3.8发布](https://github.com/zoontek/react-native-permissions/releases/tag/3.8.0)：支持新架构
- 📦 [React-Native-PDF-Renderer v1发布](https://github.com/douglasjunior/react-native-pdf-renderer)：原生PDF渲染器
- 📦 [React-Native-Testing-Library v12发布](https://twitter.com/mdj_dev/status/1635927436947865600)
- 📜 [探索Expo Router Alpha](https://www.g2i.co/blog/explore-expo-router-alpha)
- 📜 [用Expo简化React Native开发](https://thoughtbot.com/blog/simplifying-react-native-development-with-expo)
- 🎥 [使用Expo、React-Native、Swift和Kotlin构建原生视图库](https://www.youtube.com/watch?v=c-tFADXScEI)
- 🎥️ [The React Native Show第21期 - 原生与React Native性能分析](https://www.youtube.com/watch?v=IyFxgEit3Jc)

---

## 🧑‍💻 职位招聘 {#jobs}

🧑‍💼 [**Callstack招聘高级React Native开发 - 完全远程，B2B合同月薪21-32k PLN净收入**](https://www.callstack.com/senior-react-native-developer)

您想参与全球最热门应用的开发吗？您愿意共同塑造React Native技术吗？加入Callstack这个由React & React Native技术领袖组成的团队。详情请访问我们的网站。我们期待您的申请——请向我们展示您的实力！

🧑‍💼 [**G2i招聘100%远程React Native开发岗位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们为专注React Native的开发者开放多个职位！年薪约16万美元外加10%奖金。应聘者需具备RN生产环境经验且位于美国境内。私信[@gabe_g2i](https://twitter.com/gabe_g2i)了解更多，并请提及This Week in React。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他资讯 {#other}

- [Ecma TC39第95次会议议程](https://github.com/tc39/agendas/blob/main/2023/03.md)：会议进行中。[异步上下文(Async Context)](https://twitter.com/sebastienlorber/status/1620391460679065601)有望进入第二阶段👌 还有几个全新的[Promise相关提案](https://twitter.com/sebastienlorber/status/1638130215443390464)。
- [Rspack正式发布](https://www.rspack.dev/blog/announcement.html)：这款基于Rust的新打包工具的官方介绍文章
- [Farm - 用Rust编写的超快Web构建工具](https://github.com/farm-fe/farm)：又一款Rust工具😄
- [TypeScript 5.0](https://twitter.com/typescript/status/1636416665071288321)：装饰器、新配置选项...
- [Prettier 2.8.5](https://twitter.com/PrettierCode/status/1637707276286062593)：支持TypeScript 5.0
- [Vite 4.2](https://twitter.com/vite_js/status/1636362767744765952)
- [Signals与Observables之争，究竟在争论什么？](https://www.builder.io/blog/signals-vs-observables)
- [前端开发的终结](https://www.joshwcomeau.com/blog/the-end-of-frontend-development/)
- [编写你自己的响应式Signal库](https://www.lksh.dev/blog/writing-your-own-reactive-signal-library/)
- [Deno为何要添加package.json支持](https://deno.com/blog/package-json-support)
- [加速JavaScript生态系统 - npm脚本篇](https://marvinh.dev/blog/speeding-up-javascript-ecosystem-part-4/)
- [2023年前端开发者必知的6个CSS代码片段](https://web.dev/6-css-snippets-every-front-end-developer-should-know-in-2023/)
- [Drizzle - 让你直接写SQL的ORM](https://www.propelauth.com/post/drizzle-an-orm-that-lets-you-just-write-sql)
- [介绍"safe npm"：Socket的npm封装工具](https://socket.dev/blog/introducing-safe-npm)
- [Turbowatch - 极速文件变更检测器](https://github.com/gajus/turbowatch)

---

## 🤭 趣味一刻 {#fun}

[![趣味图片](/emails/issues/139/meme.jpg)](https://twitter.com/trashh_dev/status/1636743375956348928)

下次见！👋