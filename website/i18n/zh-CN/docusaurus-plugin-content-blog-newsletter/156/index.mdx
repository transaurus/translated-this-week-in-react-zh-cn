---
slug: /156
title: "This Week In React #156: Server Actions, Stale Closures, React Falls Behind, Expo Builds, Suspense Throttling, React-Aria, Natuerlich, Obsidiosaurus, Expo-SQLite, Expo DevTools..."
authors: [slorber]
date: 08-15-2023
---

大家好！

本周我们汇集了React和React-Native社区的众多文章，以及最新的Expo发布大会公告。部分文章篇幅较长，我尚未能全部阅读完毕。

📷 我最近正忙于创建新闻简报的[**Instagram账号**](https://www.instagram.com/thisweekinreact/)！计划在那里发布可视化React资讯和小技巧，包括一些未能在此处展示的精选梗图🤭。

🧑 我已移除了效果不佳的招聘板块，后续会考虑如何优化呈现形式。

👥 React-Native开发者请注意：[React Native EU大会](https://www.react-native.eu/)（波兰弗罗茨瓦夫，9月7-8日）为我们提供了[15%的门票折扣](https://ti.to/react-native-eu/2023/discount/thisweekinreact15)。

<!-- truncate -->

**💡 [在Twitter查看本期简报](https://slo.im/thread) - 视觉化呈现 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![企业级Feed、聊天和视频API！](/emails/issues/153/stream.jpg)](https://getstream.io/video/voice-calling/?utm_source=thisweekinreact&utm_medium=sponsorship&utm_content=&utm_campaign=thisweekinreact_July2023_video_klmh22)

[**企业级Feed、聊天和视频API！**](https://getstream.io/video/docs/react/?utm_source=thisweekinreact&utm_medium=sponsorship&utm_content=&utm_campaign=thisweekinreact_July2023_video_klmh22)

Stream提供企业级**API**和**SDK**，帮助产品和工程团队规模化解决两大常见需求：应用内聊天和社交动态流。

通过Stream，开发者能以远低于自研的时间成本，在应用中集成各类消息或动态流功能。Stream Chat可轻松实现富文本实时消息的快速集成。

Stream为主流框架提供强大的客户端SDK，包括[**React**](https://getstream.io/chat/sdk/react/?utm_source=thisweekinreact&utm_medium=sponsorship&utm_content=&utm_campaign=thisweekinreact_July2023_video_klmh22)、[**React-Native**](https://getstream.io/chat/sdk/react-native/?utm_source=thisweekinreact&utm_medium=sponsorship&utm_content=&utm_campaign=thisweekinreact_July2023_video_klmh22)、Expo、Flutter、Android、Angular、Compose、Unreal和iOS。通过Maker Account可免费解锁企业级功能组件。

[**尝试新版React视频教程！**](https://getstream.io/video/docs/react/?utm_source=thisweekinreact&utm_medium=sponsorship&utm_content=&utm_campaign=thisweekinreact_July2023_video_klmh22)

---

## ⚛️ React动态 {#react}

[![React服务端操作能彻底解决表单问题吗？](/emails/issues/156/serveractions.jpg)](https://www.mux.com/blog/what-are-react-server-actions)

[**React服务端操作能彻底解决表单问题吗？**](https://www.mux.com/blog/what-are-react-server-actions)

本文深入浅出地介绍了即将推出的React功能——服务端操作（该功能已作为实验特性集成至Next.js 13.4）。包含上传视频及标题的简短教程。虽然服务端操作能返回响应为用户提供反馈，但当前开发者体验仍有优化空间。

在我看来，Server Actions 应该致力于全面支持渐进式增强。这可能需要引入一个"flash" API 来管理用户反馈，而无需任何客户端 JavaScript。许多后端框架已实现此功能，Remix 也提供了 ([`session.flash()`](https://remix.run/docs/en/main/utils/sessions#sessionflashkey-value)) API。你可能感兴趣的相关信息：通过 [`action.$$FORM_ACTION`](https://twitter.com/sebastienlorber/status/1689921046856474625) 可以扩展 React 的渐进式增强行为。

---

- 💸 [从零到上线 - 掌握快节奏全栈开发并**最终**发布产品](https://www.zerotoshipped.com/)
- 🧑‍🎓 [React.dev - 使用TypeScript](https://react.dev/learn/typescript): 新增官方文档页面。
- 💬 [Next.js RFC - next/third-parties中的Google Tag Manager和gtag集成](https://github.com/vercel/next.js/discussions/53868): 提议通过钩子而非组件集成Google Analytics，可能支持Web Worker。
- 🐦 [Million.js自动模式 - 视频预告](https://twitter.com/aidenybai/status/1689773623827943424)
- 📜 [因React而遗忘（或从未知晓）的事](https://joshcollinsworth.com/blog/antiquated-react): 一篇对React作为过时框架的长篇批判。尽管[我持异议](https://github.com/josh-collinsworth/joco-sveltekit/issues/35#issuecomment-1680817566)认为作者有失公允，仍值得一读。
- 📜 [React中的奇妙闭包及其发现方法](https://www.developerway.com/posts/fantastic-closures): 解释React中的陈旧闭包问题，列举多种引发场景，并提出基于`useRef()`的解决方案。
- 📜 [Next.js中理解Server Actions的最简示例](https://scastiel.dev/simplest-example-server-actions-nextjs): 极简Server Actions示例，清晰演示如何实现API的RPC调用。
- 📜 [论React Suspense的节流机制](https://andreigatej.dev/blog/on-react-suspense-throttling/): 揭示嵌套`<Suspense>`时的意外行为。
- 📜 [停止YAP综合症](https://kyleshevlin.com/quit-your-yapping): 呼吁摒弃"Yet-Another-Prop"模式，改用组合方案。
- 📜 [Node.js的配置地狱问题](https://deno.com/blog/node-config-hell): Deno对Next.js等多配置文件项目的批评。
- 📜 [Supabase与Vercel集成及Next.js App Router支持](https://supabase.com/blog/using-supabase-with-vercel): 值得研究的集成方案，包含命名有趣的API如`createClientComponentClient`😅。
- 📜 [Astro启航指南](https://remotesynthesis.com/blog/lifting-off-with-astro/)
- 📜 [React Hook Form表单验证实践](https://claritydev.net/blog/form-validation-react-hook-form)
- 📜 [React Testing Library新lint规则发布](https://blog.testdouble.com/posts/2023-07-31-a-new-rtl-lint-rule/)
- 📜 [Jotai与useTransition在数据变更中的协同使用](https://blog.axlight.com/posts/how-to-use-jotai-and-use-transition-for-mutation/)
- 📜 [编码星空 - 使用Three.js和React Three Fiber制作交互式星座图](https://supabase.com/blog/interactive-constellation-threejs-react-three-fiber)
- 📦 [React Aria 8月9日更新 - HTML表单提交/重置、DropZone、FileTrigger...](https://react-spectrum.adobe.com/releases/2023-08-09.html)
- 📦 [Natuerlich - 可组合的WebXR交互方案 - 支持React-Three-Fiber](https://github.com/coconut-xr/natuerlich)
- 📦 [Reakit 2023年8月更新](https://newsletter.ariakit.org/p/all-things)
- 📦 [Obsidiosaurus - Obsidian转Docusaurus转换器](https://github.com/CIMSTA/obsidiosaurus)
- 📦 [tw2panda - 轻松从Tailwind迁移至Panda CSS](https://github.com/astahmer/tw2panda)
- 🎥 [为何放弃Next.js选择Astro](https://www.youtube.com/watch?v=BoeZqPaYw9s)
- 🎥 [使用Tailwind CSS实现响应式Framer Motion动画](https://www.youtube.com/watch?v=xSuxsfn13xg)
- 🎥 [Dominik Dorfmeister: 在App Router中使用React Query](https://www.youtube.com/watch?v=R4NHXrvwZWA)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![CoderPad: 协同编码，高效协作](/emails/issues/154/coderpad.png)](https://coderpad.io/?utm_medium=3pmedia&utm_source=ThisWeekInReact&utm_campaign=23-Q3-3PMedia-ThisWeekInReact-ACQ-All-Global-Newsletter)

[**CoderPad：在共事之前先一起编码**](https://coderpad.io/?utm_medium=3pmedia&utm_source=ThisWeekInReact&utm_campaign=23-Q3-3PMedia-ThisWeekInReact-ACQ-All-Global-Newsletter)

招聘前端开发人员很难。😩 但已有4,000多家工程团队（包括Netflix、Spotify和LinkedIn）找到了更好的方式！🤠 跳过算法面试，**在完全可定制且协作的IDE中运行前端面试**，您可以：

- 拖放React（以及Angular或Vue）代码库
- 通过npm install添加包
- 允许候选人在面试中实时使用ChatGPT
- 面试后观看并共享代码回放

使用CoderPad进行快速、公平且真实的编码面试，赢得候选人和面试官的信任。[立即免费注册，自信招聘](https://coderpad.io/?utm_medium=3pmedia&utm_source=ThisWeekInReact&utm_campaign=23-Q3-3PMedia-ThisWeekInReact-ACQ-All-Global-Newsletter)。

---

## 📱 React-Native {#react-native}

[![Expo预览 - EAS Build上的完全可定制构建](/emails/issues/156/easbuild.jpg)](https://expo.dev/changelog/2023/08-10-custom-builds)

[**Expo预览 - EAS Build上的完全可定制构建**](https://expo.dev/changelog/2023/08-10-custom-builds)。

Expo为EAS Build推出了一套新系统，允许您通过Yaml文件自定义构建流程，这将为您提供极大的灵活性，可以选择使用您喜欢的monorepo工具（Nx、Turbo、Rush等）或添加自己的CI步骤。它看起来与GitHub Actions非常相似。今日小知识：EAS似乎在iOS构建中使用Fastlane。

---

- 👀 [Expo概念验证 - expo-sqlite与CR-SQLite的集成](https://expo.dev/changelog/2023/08-10-cr-sqlite)：SQLite与CRDT集成，简化本地优先移动应用的开发。
- 👀 [Expo概念验证 - Expo CLI开发工具插件](https://expo.dev/changelog/2023/08-10-dev-tools-plugins)：Expo计划提供开发工具的插件系统，并展示了Apollo DevTools的演示。这最终将取代Flipper插件。
- 🐦 [react-native-windows上的Reanimated演示](https://twitter.com/piaskowyk/status/1689982162886430721)
- 🐦 [异步组件 + use()钩子演示](https://twitter.com/SzymonRybczak/status/1691037156712599552)
- 🐦 [iOS体育类应用Top 20中有一半由React Native驱动](https://twitter.com/Baconbrix/status/1690805340290301954)
- 📜 [一位Web开发者提升大型React Native应用启动性能的故事](https://medium.com/engineering-udaan/reacting-to-change-tale-of-a-web-developer-improving-startup-performance-for-a-large-react-native-854f8a4850fd)
- 📜 [向复杂应用添加React-Native - 四部分系列](https://www.nearform.com/blog/adding-react-native-to-a-complex-app-part-1-planning/)
- 📜 [React Native Storybook入门指南](https://dev.to/dannyhw/getting-started-with-react-native-storybook-96c)
- 📜 [探索React Native新架构：一窥新架构](https://blog.devvivek.tech/exploring-react-natives-new-architecture-a-peek-into-the-new-architecture)
- 🎙️ [React Native Show播客#25 - 移动应用数据库：React Native与Realm](https://www.callstack.com/podcasts/databases-for-mobile-apps-react-native-realm)
- 👥 [React Native EU 2023](https://www.react-native.eu/)（波兰弗罗茨瓦夫，2023年9月7-8日）提供[-15%的会议门票折扣](https://ti.to/react-native-eu/2023/discount/thisweekinreact15)，优惠码为"thisweekinreact15"。

---

## 🔀 其他 {#other}

- 📣 [Gecko（Firefox）- 拟议原型：:has选择器](https://twitter.com/intenttoship/status/1690045325539520523)
- 📜 [Web浏览器确立基准意味着什么](https://thenewstack.io/what-does-it-mean-for-web-browsers-to-have-a-baseline/)
- 📜 [弃用unload事件](https://developer.chrome.com/blog/deprecating-unload/)
- 📜 [一篇包含所有HTML元素的博客文章](https://www.patrickweaver.net/blog/a-blog-post-with-every-html-element/)
- 📜 [布局位置如何影响三大Web性能杠杆](https://performance.shopify.com/blogs/blog/how-layout-position-impacts-three-big-web-performance-levers)
- 📦 [TypeScript 5.2 RC版本发布](https://devblogs.microsoft.com/typescript/announcing-typescript-5-2-rc/)
- 📦 [Zod 3.22 - 新增readonly()](https://twitter.com/colinhacks/status/1691172205516984322)
- 👥 [ViteConf 2023 - 10月5日举行](https://viteconf.org/23/)

---

## 🤭 轻松一刻 {#fun}

[![alt](/emails/issues/156/meme.jpg)](https://twitter.com/DanStepanov/status/1689511613026775040)

回见！👋