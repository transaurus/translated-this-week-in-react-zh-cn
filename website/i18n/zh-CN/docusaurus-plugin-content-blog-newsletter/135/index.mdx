---
slug: /135
title: "This Week In React #135: Signals, Sandpack, React doc, Server References, TanStack Start, Next.js, Remix, Hydrogen, Storybook, Expo, TypeScript, rspack..."
authors: [slorber]
date: 02-21-2023
---

大家好！

经过短暂休整后，我们为您带来两周新闻汇总：本期内容满满！

**《This Week In React》刚刚迎来三周年！** 我发布了一个[简短推文](https://link.slo.im/3-years)说明近况，包括我的"公开构建"页面链接。简而言之：这份简报终于实现可持续发展，拥有超过**17500名订阅者**，增长迅速，2022年营收达**2.7万欧元**。感谢大家多年来的支持让这一切成为可能！

[React-Native-Connection](https://reactnativeconnection.io/)大会（6月1日巴黎举行）的[征稿启事](https://conference-hall.io/public/event/5hkuk4Ueg7U9y0uwNRRK)已开放。欢迎踊跃投稿，演讲者的差旅和两晚住宿将由主办方承担。我本人担任程序委员会委员。

出于多方面考虑，我将调整[推特推文](https://slo.im/thread)的发布方式。当前这种正式的长推文形式让我显得不够真实，也难以引发有价值的讨论。同时感觉推特算法对外链越来越不友好，影响了内容传播。我会继续在推特分享React动态，但会采用新形式。

<!-- truncate -->

**💡 [在推特查看本期简报](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![refine](/emails/issues/135/refine.png)](https://github.com/refinedev/refine)

[**refine - 100%开源的Headless React框架，专为构建CRUD应用而生**](https://github.com/refinedev/refine)

在开发下一个管理后台、仪表盘或内部工具前，[不妨试试refine](https://github.com/refinedev/refine)。您将惊叹于其开发速度，同时仍保持高度灵活性！

---

## ⚛️ React动态 {#react}

[![useSignal()是Web框架的未来](/emails/issues/135/signals.jpg)](https://www.builder.io/blog/usesignal-is-the-future-of-web-frameworks)

**[`useSignal()`是Web框架的未来](https://www.builder.io/blog/usesignal-is-the-future-of-web-frameworks)**

Qwik和AngularJS创始人Misko阐述了信号机制的优势，并与React工作原理进行对比。React直接使用状态值，而信号采用getter方式，在调用getter时建立订阅关系。

信号机制能实现细粒度的自动重渲染优化，无需记忆化处理。那些仅进行属性传递的中间组件无需重新渲染。

本文发布次日，[Angular团队宣布](https://twitter.com/angular/status/1625939902046117890)将采用信号机制（现已提供[演示](https://twitter.com/sarah_edo/status/1628065696247857152)）。

Andrew Clark就此[发表评论](https://twitter.com/acdlite/status/1626590880126889984)，表示React目前更倾向于押注[React Forget](https://www.youtube.com/watch?v=lGEMwh32soc)编译器，相关进展将通过React Labs文章发布。我认为React逆流而上、[坚持探索现有方向](https://twitter.com/acdlite/status/1625599973420154881)的做法值得肯定。

---

[![Sandpack 2.0发布：支持浏览器端Node.js运行时](/emails/issues/135/sandpack2.jpg)](https://codesandbox.io/blog/announcing-sandpack-2)

**[Sandpack 2.0发布：支持浏览器端Node.js运行时](https://codesandbox.io/blog/announcing-sandpack-2)**

CodeSandbox 宣布了 Sandpack 的新版本，这是一个能在浏览器中创建交互式实时编码体验的工具（代码编辑器 + 预览）。Sandpack 通过专用包与 React 良好集成。v1 版本已被新版 React beta 文档站点、Josh Comeau 等众多开发者使用。

v2 版本基于新的 NodeBox 技术，该技术允许在浏览器中运行 Node.js，可支持 Next.js、Vite、Astro 等技术栈。

这让人联想到 StackBlitz 的技术，后者刚宣布了 [WebContainers API](https://blog.stackblitz.com/posts/webcontainer-api-is-here/)。Sandpack 的文章解释了 NodeBox 与 WebContainers 技术的差异。

---

[![useSignal() 是 Web 框架的未来](/emails/issues/135/reactdocumentary.jpg)](https://www.youtube.com/watch?v=8pDqJVdNa44)

**[React.js：纪录片](https://www.youtube.com/watch?v=8pDqJVdNa44)**

你可能已经知道关于 React 的纪录片上线了 😉！这里补充一些精彩内容：

- 🎥 [《React.js：纪录片》主创问答](https://www.youtube.com/watch?v=WzRSysq7F4k)：Michael Chan 向原始 React 团队提出了一些尖锐问题。
- 📜 [《React.js：纪录片》幕后故事](https://newsletter.pragmaticengineer.com/p/react-documentary)：纪录片制作人 Ida 的深度访谈。
- 📜 [早期采用 React 的历程](https://cult.honeypot.io/reads/adopting-react-in-the-early-days/)：我作为旁观者对这个时期的观察。

---

- 🐦 [Andrew Clark - "我将加入Vercel"](https://twitter.com/acdlite/status/1623353741750546439)。他仍保留在React团队中的职务。
- 🐦 [Netflix使用React开发其电视用户界面](https://twitter.com/sebastienlorber/status/1628391651835011076)：由于Netflix很少公开其专有电视UI技术，我们往往忽略了这一点。Kaleb原计划在React NYC大会上演讲，但会议取消了：他正在寻找新的演讲机会，欢迎邀请他！
- 👀 [React PR - 支持从服务端向客户端传递服务器引用](https://github.com/facebook/react/pull/26124)：在当前RPC趋势下，该PR允许客户端组件调用服务端回调，颇具意义。
- 👀 [React PR - CPU密集型树的Suspense功能](https://twitter.com/acdlite/status/1628128850377940993)：该特性可能很快会在小版本中推出。
- 👀 [TanStack Start](https://twitter.com/sebastienlorber/status/1627740526551175190)：正在开发的新React元框架？
- 👀 [Next.js路由处理器](https://twitter.com/nextjs/status/1626341664402051072)：Next.js替代API路由的新方案？
- 👀 [RFC: React Aria组件](https://github.com/adobe/react-spectrum/pull/4058)：React Aria计划提供稍高层次的抽象以简化库的使用。
- 🧵 ["如果JSX设计时更优化JS虚拟机性能，速度可提升2倍！"](https://twitter.com/mhevery/status/1626422858862960648)：有趣讨论，尤其Dan Abramov的回应中和了该提议的实际效果。
- 🧵 [Dan Abramov - "20年代：统一服务端与客户端编程范式"](https://twitter.com/dan_abramov/status/1625225990023655425)
- 📖 [迁移到现代Redux](https://redux.js.org/usage/migrating-to-modern-redux)：新文档上线。
- 📜 [Hydrogen v2基于Remix重构](https://twitter.com/remix_run/status/1623744656701026306)：如预期，Shopify Hydrogen框架转向Remix。文章列举了优势。实际上这并非真正的v2：他们采用了不同的版本策略。
- 📜 [Framer Motion中Key的力量](https://www.nan.fyi/keys-in-framer-motion)：优秀交互式文章，阐释使用React key触发动画的价值。
- 📜 [利用服务端上下文实现高级Next.js优化模式](https://prismic.io/blog/advanced-nextjs-server-context)：关于服务端上下文的深度好文。随着Server Components的普及，该底层API（如`AsyncLocalStorage`）对请求去重和缓存创建仍具价值。
- 📜 [React错误处理指南](https://www.developerway.com/posts/how-to-handle-errors-in-react)：作者[分享了一项实用技巧](https://twitter.com/sebastienlorber/status/1628340871899893768)，确保错误边界能捕获所有类型错误（不限于React渲染期间抛出的错误）。
- 📜 [开源功能决策树](https://tkdodo.eu/blog/oss-feature-decision-tree)：Dominik阐述如何决定是否将功能集成到React-Query。这让人联想到[可扩展Web宣言](https://twitter.com/sebastienlorber/status/1627637410438815744)。
- 📜 [框架存在的理由](https://seldo.com/posts/the_case_for_frameworks)：回应Alex Russell，解释为何在性能损耗下仍选择React等重型框架。
- 📜 [高效高阶组件实践](https://www.bbss.dev/posts/effective-hocs/)：列举HOC的建议与反模式，客观评价其价值。作者偏好hooks，但HOC仍有适用场景。
- 📜 [使用Context API检测React嵌套组件](https://www.aleksandrhovhannisyan.com/blog/react-context-nested-components/)：实用的上下文技术。补充：不必担心多级context provider，有时需通过层级深化来丰富上下文值。
- 📜 [Storybook 7的类型安全改进](https://storybook.js.org/blog/improved-type-safety-in-storybook-7/)：组件故事格式3 + TypeScript `satisfies` 提升类型安全。
- 📜 [React代码分割技术性能优化](https://edvins.io/react-code-splitting-techniques)
- 📜 [通过成熟UI模式模块化React应用](https://martinfowler.com/articles/modularizing-react-apps.html)
- 📜 [React批评的历史参考](https://www.zachleat.com/web/react-criticism/)
- 📜 [极简多框架响应式图片组件](https://dev.to/ascorbic/a-minimal-multi-framework-responsive-image-component-3iop)
- 📜 [Redux应用中WebSocket集成](https://www.taniarascia.com/websockets-in-redux/)
- 📜 [GreenSock与Remotion集成指南](https://enlear.academy/how-to-integrate-greensock-with-remotion-e4eee6f5a41f)
- 📜 [Netlify收购Gatsby的真正意义](https://remotesynthesis.com/blog/gatsby-plus-netlify/)
- 🎥 [Fireship - 创建React应用的7种更好方式](https://www.youtube.com/watch?app=desktop&v=2OTq15A5s0Y)
- 🎥 [颠覆ReactJS - 新兴框架指南](https://www.youtube.com/watch?v=LMUKsAf2Rfs)
- 📦 [Remix 1.13](https://github.com/remix-run/remix/releases/tag/remix%401.13.0)：支持Tailwind + PostCSS
- 📦 [MDX 2.3](https://github.com/mdx-js/mdx/releases/tag/2.3.0)：新增编译器选项以支持非React框架（如className与class的命名差异）
- 📦 [Unovis - 面向React/Angular/Svelte的模块化数据可视化框架](https://unovis.dev/)
- 📦 [Redwood 4.1](https://github.com/redwoodjs/redwood/releases/tag/v4.1.0)

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

[![surveyjs.jpg](/emails/issues/136/surveyjs.jpg)](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=referral)

**[可扩展的JavaScript调查问卷与表单库](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=referral)**

[SurveyJS](https://github.com/surveyjs) 是一套开源JavaScript表单库，可轻松集成至您的Web应用中。它支持**创建并运行多种表单**，所有敏感数据保留在您的服务器上，或拥有**自主托管的WYSIWYG表单构建器**供非技术人员直接使用。

您还可以**在自定义仪表板中分析调查结果**，将表单保存为PDF，或直接**转换为可编辑的PDF文件**。该库原生支持**React与Angular渲染**，并提供完全的后端选择自由，因为**任何服务器与数据库组合均可完全兼容**。

---

## 📱 React-Native {#react-native}

[![Expo SDK 48 beta现已发布](/emails/issues/135/expo48.jpg)](https://blog.expo.dev/expo-sdk-48-beta-is-now-available-7ee5713d0937)

**[Expo SDK 48 beta现已发布](https://blog.expo.dev/expo-sdk-48-beta-is-now-available-7ee5713d0937)**

新版Expo SDK约两周前发布beta版本，稳定版即将推出！亮点包括：

- React Native 0.71.3 - React 18.2.0
- Expo Image v1候选版
- Expo Router v1候选版
- 默认启用M1芯片的EAS构建器
- 默认启用Hermes引擎
- 所有Expo模块实验性支持Fabric

---

- 🐦 [Sebastian Markbåge谈及服务端组件："Meta最初资助该项目的原因之一，是看中其在原生应用上使用服务端驱动技术的潜力"](https://twitter.com/sebmarkbage/status/1623175042971344896)：再次证实React-Native服务端组件的合理性。Expo可能是实现该特性的最佳平台。
- 👀 [React-Navigation 7 alpha](https://twitter.com/reactnavigation/status/1626648568189620238)：静态配置API
- 📊 [2022年React-Native现状调查报告](https://results.stateofreactnative.com/)
- 📜 [Expo更新日志：2023年1月](https://blog.expo.dev/expo-changelog-january-2023-c5eab76df08)
- 📜 [Expo - 逐步淘汰'expo publish'和经典更新](https://blog.expo.dev/sunsetting-expo-publish-and-classic-updates-6cb9cd295378)
- 📜 [STRV公司2023年的React Native实践](https://www.aronberezkin.com/posts/react-native-at-strv-in-2023)
- 📜 [如何在Storybook v7 beta中使用React Native Web](https://dev.to/dannyhw/how-to-use-react-native-web-with-storybook-v7-beta-1io7)
- 📦 React-Native-Skia - [无头模式支持](https://twitter.com/wcandillon/status/1622558366940778496) + [仅限Web的支持](https://github.com/Shopify/react-native-skia/pull/1336)：该库正变得更加通用。
- 📦 [React-Native-MKKV 2.7.0](https://twitter.com/mrousavy/status/1625059908927234048)
- 📦 [expo-github-action v8](https://twitter.com/cedricvanputten/status/1627732937008349186)
- 📦 [expo html-element v0.4.1](https://twitter.com/Baconbrix/status/1625984235713581057)
- 🐦 [SpaceX星链项目使用Expo](https://twitter.com/sebastienlorber/status/1626150388704452611)
- 💬 [将Fastlane迁移至Mobile Native基金会？](https://github.com/MobileNativeFoundation/discussions/discussions/194)
- 🎙️ [React-Native-Radio第259期 - Tamagui与Nate Weinert](https://reactnativeradio.com/episodes/rnr-259-tamagui-with-nate-weinert)
- 🎙️ [React-Native-Radio第260期 - 解读React Native 0.71](https://reactnativeradio.com/episodes/rnr-260-typescript-by-default-unpacking-react-native-071)

---

## 🧑‍💻 招聘信息 {#jobs}

🧑‍💼 [**Passionfroot - 高级全栈工程师（Remix方向）- 年薪16万欧元+，柏林/远程**](https://passionfroot.recruitee.com/o/senior-fullstack-engineer)

Passionfroot的使命是通过YouTube、播客、社交媒体和新闻通讯赋能未来的独立创业者。加入我们，共同打造一款能帮助全球内容创作者建立可扩展、可持续业务的工具。

🧑‍💼 [**Callstack - 高级React Native开发工程师 - 完全远程，B2B合同月薪2.1-3.2万波兰兹罗提净收入**](https://www.callstack.com/senior-react-native-developer)

您想参与开发全球使用最广泛的应用吗？您愿意共同塑造React Native技术的未来吗？加入Callstack这个由React和React Native技术领袖组成的团队。详情请访问我们的网站。我们期待您的申请——请向我们展示您的实力！

🧑‍💼 [**G2i - 100%远程React Native职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们正在招聘多位专注于React Native的开发人员！年薪约16万美元外加10%奖金。应聘者需具备React Native实际项目经验且居住在美国。私信[@gabe_g2i](https://twitter.com/gabe_g2i)了解更多信息，并请注明是通过《本周React》获悉该职位。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [ts-reset](https://github.com/total-typescript/ts-reset): 一个有趣的概念，类似于为TypeScript设计的CSS重置方案，用于修补TypeScript中某些令人困扰的部分。例如，`.filter(Boolean)`将成为真正的类型守卫，不会返回`undefined`类型。许多其他方法也会返回`unknown`而非`any`。
- [rspack](https://www.npmjs.com/package/@rspack/core) + [oxc](https://github.com/Boshen/oxc): 字节跳动（TikTok）开发者正在开发Webpack/Babel的Rust替代方案。
- [HOTScript - 高阶TypeScript](https://github.com/gvergnaud/hotscript): 如果您想在类型系统中实现函数式编程，这个项目正适合您😄
- [iOS和iPadOS上的Web应用推送通知](https://webkit.org/blog/13878/web-push-for-web-apps-on-ios-and-ipados/)
- [WebKit - 立即尝试CSS嵌套功能](https://webkit.org/blog/13813/try-css-nesting-today-in-safari-technology-preview/)
- [容器查询功能登陆主流浏览器稳定版](https://web.dev/cq-stable/)
- [TypeScript课程 - 从零构建TypeScript项目（免费）](https://www.typescriptcourse.com/tutorials/build-a-typescript-project-from-scratch)
- [理解单态化可将JavaScript性能提升高达60倍](https://www.builder.io/blog/monomorphic-javascript)
- [Vercel定时任务功能](https://twitter.com/leeerob/status/1625249090932994051)
- [声明式Shadow DOM](https://webkit.org/blog/13851/declarative-shadow-dom/)
- [硬核方式实现Rust到WebAssembly的编译](https://surma.dev/things/rust-to-webassembly/)
- [Lighthouse 10.0发布](https://developer.chrome.com/blog/lighthouse-10-0/)
- [Safari技术预览版163](https://webkit.org/blog/13839/release-notes-for-safari-technology-preview-163/)
- [为Shopify函数引入JavaScript到WebAssembly的支持](https://shopify.engineering/javascript-in-webassembly-for-shopify-functions)
- [Deno创始人如何重构Web运行时](https://www.sequoiacap.com/article/deno-spotlight/)

---

## 🤭 趣闻 {#fun}

[![alt](/emails/issues/135/meme.jpg)](https://twitter.com/t3dotgg/status/1626393874393595907)

下次见！👋