---
slug: /178
title: "This Week In React #178: Remix and Vite, Type-safe Children, Astro DB, React Compiler, Firebolt, Vitest, Composition, Remix Nitro, RSC in React Native, TenTap, Expo Atlas, TypeScript, Elysia..."
authors: [slorber, bndkt]
date: 03-20-2024
---

大家好！

本周对我来说有些特别且重要。我暂停了简讯更新，但这次没有空缺一期（像之前那样），而是由[Benedikt](https://twitter.com/bndkt)执笔完成了整期内容。现在交还给Benedikt！

---

过去一周并没有太多新版本发布，或许大家都在为即将到来的会议季储备重磅消息。Astro公布了其新数据库的更多细节，并发布了开发者门户，初期作为主题市场，未来还将涵盖集成功能。Remix现已全面转向Vite优先，Vercel则发布了新版AI聊天机器人模板。在React板块大量关于React Server Components的新闻之后，本周我们将在React Native板块看到一些RSC相关动态。

<!-- truncate -->

**💡 [在Twitter上查看本期简讯](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![面向Next.js的带内联可视化编辑的无头CMS](/emails/issues/169/reactbricks.jpg)](https://reactbricks.com?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)

**[面向Next.js的带内联可视化编辑的无头CMS](https://reactbricks.com?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)**

通过CLI[**1分钟快速创建项目**](https://reactbricks.com/sign-up?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)，将自定义可视化区块定义为React组件，使用任意CSS框架实现像素级品牌呈现。快来试用支持Server Components的新版Next.js启动模板！

内容编辑者可以像使用文字处理器那样，通过可视化内容区块自由组合页面，同时完全保留设计效果。

React Bricks具备企业级功能：数字资产管理、高级SEO、实时协作、定时发布、多语言支持、外部API集成、审批工作流、多环境部署、变更历史记录等。

已获The Weather Channel、Deel.com、La Banque Postale等企业客户及全球超过9,000名用户信赖。
[**立即开始体验！**](https://reactbricks.com/sign-up?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)

---

## ⚛️ React {#react}

[![Remix全面转向Vite](/emails/issues/178/remix_heart_vite.jpg)](https://twitter.com/markdalgleish/status/1770224011831890036)

🐦 [**Remix现已全面转向Vite优先**](https://twitter.com/markdalgleish/status/1770224011831890036)

在经历短暂的过渡期（期间Remix推出了标记为不稳定的Vite集成）后，该集成现已宣告稳定并立即成为新默认选项。我个人非常欣赏这种快速转型，认为Remix与Vite是强强联合——让Vite作为Remix的开发环境和编译器，能使Remix团队减少维护面，更专注于核心框架能力，这绝对是件好事！现在新建的Remix项目仅包含一个引用Remix插件的Vite配置文件，这种化繁为简的实践堪称优雅典范！

- 💸 [使用Apryse生成文档 - 通过React将模板转化为定制化文档](https://apryse.com/blog/docx-generation-from-templates-react?utm_source=email&utm_medium=newsletter&utm_campaign=thisweekinreact4)
- 📜 [Astro DB深度解析](https://astro.build/blog/astro-db-deep-dive/)：Astro与Turso合作集成libSQL。文中也探讨了他们为何考虑但最终未选择Cloudflare的D1数据库。
- 📜 [Astro开发者门户](https://astro.build/blog/dev-portal/)：Astro官方主题市场。
- 📜 [Next.js如何打破React基本原则](https://ondrejvelisek.github.io/how-nextjs-breaks-react-fundamentals/)：虽然不认同标题和结论，但该文对RSC局限性（多数并非Next.js特有）的探讨仍具启发性。
- 📜 [React编译器的类型系统](https://www.recompiled.dev/blog/type-system/)：内容偏重理论，适合想了解编译器与类型推断关系的开发者。
- 📜 [两种组合模式](https://kyleshevlin.com/two-types-of-composition/)：重新审视开发日常基础概念很有必要。组合是React基本原则之一，本文探讨了嵌套组合与合并组合的基础形式。
- 📜 [将Next.js应用从"Vercel+PlanetScale"迁移至"Fly.io"](https://www.crispyscript.com/articles/13)
- 📜 [Astro Studio初体验](https://maciekpalmowski.dev/blog/astro-studio-first-impression/)
- 📜 [你的Next.js应用功能正在泄露](https://www.rexforde.com/blog/conditional-render-problem)
- 📜 [拥抱未来又回归传统：从Server Actions转向tRPC](https://documenso.com/blog/removing-server-actions)
- 📜 [React+TypeScript中无法实现完全类型安全的子组件](https://www.totaltypescript.com/type-safe-children-in-react-and-typescript)
- 📜 [使用Vitest测试React自定义钩子和组件](https://www.thisdot.co/blog/how-to-test-react-custom-hooks-and-components-with-vitest)
- 📜 [OpenTelemetry实践：为JavaScript应用添加追踪功能](https://marmelab.com/blog/2024/03/14/opentelemetry-in-practice-instrumenting-javascript-apps-for-tracing.html)
- 🗓 [React Connection - 4月22日](https://reactconnection.io/) + [React-Native Connection - 4月23日](https://reactnativeconnection.io/) - 🇫🇷 巴黎 - 为期两天的Web/移动端技术大会。使用优惠码"TWIR"可享8折。
- 📦 [Firebolt](https://firebolt.dev/)：新简约React框架，风格近似Remix。另见[介绍博文](https://firebolt.dev/blog/introducing-firebolt)，RSC支持正在开发中。
- 📦 [remix-nitro - 通过Vite 5.1实验性运行时API实现Remix与Nitro热模块替换的示例](https://github.com/alessandrojcm/remix-nitro)
- 📦 [remix-hono v0.0.16 - 现已支持Hono v4](https://github.com/sergiodxa/remix-hono/releases/tag/v0.0.16)
- 📦 [Next.js AI聊天机器人2.0 - 基于AI SDK 3.0](https://vercel.com/changelog/next-js-ai-chatbot-2-0)
- 🎥 [Daniel Kanem - 理解Remix应用迁移至Vite.js的步骤](https://www.youtube.com/watch?v=CTgQhNFqn5E)
- 🎥 [Brooks Lybrand - 将Remix部署至GitHub Pages](https://www.youtube.com/watch?v=EO_-KwSslWQ)
- 🎥 [Theo Browne - Million Lint工具](https://youtu.be/fcY9TthQnI4?si=bROdHJmIumw24AlO)
- 🎥 [UI Engineering - 告别forwardRef](https://www.youtube.com/watch?v=m4QbeS9BTNU)
- 🎥 [Jack Herrington - Pigment-CSS：Material-UI在NextJS和React 19上的解决方案](https://www.youtube.com/watch?v=fyja_ldjxwA)
- 🎙️ [Rocket Ship第34期 - Charlotte Isambert谈React架构技巧](https://share.transistor.fm/s/48a4b223)
- 🎙️ [PodRocket - Delba de Oliveira与Wyatt Johnson探讨Next.js中的部分预渲染](https://podrocket.logrocket.com/partial-pre-rendering-next-js-delba-oliveira-wyatt-johnson)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![React表单构建SDK](/emails/issues/171/tripetto.jpg)](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk)

**[React表单构建SDK](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk)**

专为React项目打造的全套表单解决方案，已被财富500强企业采用。提供易用的开源组件，助您在React应用中快速构建并运行功能强大的表单。文档详尽，分钟级部署，支持深度定制。

- 可视化构建器创建复杂表单；
- 表单运行器实现数据收集；
- 灵活布局（对话式、聊天式等）与样式定制；
- 可扩展自定义问题类型；
- 完整文档、示例与演示；
- 支持无外部依赖的自托管；
- 免费试用与测试。

TWIR读者专享：[立享FormBuilder SDK许可证25%折扣](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk)。

---

## 📱 React-Native {#react-native}

[![React Native RSC演示](/emails/issues/178/rn_rsc.jpg)](https://github.com/mui/material-ui/tree/master/packages/pigment-css-react)

🐦 [**React Native服务端组件演示**](https://twitter.com/SzymonRybczak/status/1769747995862384756)

会议季即将到来，由于开发者们都在为大型舞台保留重磅内容，近期公告有所减少。我最期待在即将到来的会议中深入了解的议题之一，便是React Native上的服务端组件(RSC)。Callstack的Szymon Rybczak现已发布了一个在RN中运行RSC的精彩演示。我十分期待了解更多细节，也很高兴Szymon宣布将很快发布详细技术文章及完整代码。

- 💸 [React Universe 大会 - 演讲提案提交最后几天：CFP将于3月22日截止。不想在RUC演讲？快来抢购早鸟票！](https://www.reactuniverseconf.com/?utm_campaign=React_Universe_Conf&utm_source=email&utm_content=This_Week_in_React)
- 📖 [Expo文档：从CodePush迁移](https://docs.expo.dev/eas-update/codepush/)：Visual Studio App Center计划于2025年3月31日停止服务。CodePush用户应开始考虑替代方案。
- 📜 [什么是Expo Router？](https://www.themorrow.digital/blog/what-is-the-expo-router)
- 📜 [React导航与状态机 - 优化应用流程](https://www.bam.tech/article/react-navigation-state-machine-perfecting-app-flows)：探讨如何在React Navigation中实现复杂流程的有趣文章，既可以使用状态机，也可以自定义导航器。
- 📜 [Expo博客 - 设置下一个Expo项目的12个技巧](https://expo.dev/blog/12-tips-for-setting-up-your-next-expo-project)：其中一些技巧显而易见（如使用TS），但其他如为开发和生成环境设置应用变体或自动构建版本控制等，都是值得注意的提醒。
- 📜 [紧急情况下的OTA（空中下载）发布](https://www.callstack.com/blog/ship-over-the-air-when-in-an-emergency)
- 📦 [TenTap - 为React Native设计的类型化、可定制和可扩展的富文本编辑器](https://github.com/10play/10tap-editor)
- 📦 [React Native 0.74.0-rc.4](https://github.com/facebook/react-native/releases/tag/v0.74.0-rc.4)
- 📦 [expo-atlas - 用于检查Metro包统计数据的实验性库](https://github.com/byCedric/expo-atlas)
- 📦 [新的Expo开发工具插件，用于调试React Native MMKV](https://www.npmjs.com/package/@dev-plugins/react-native-mmkv)
- 📦 [首个Expo SDK 51 canary版本已发布](https://www.npmjs.com/package/expo/v/51.0.0-canary-20240318-dd8f245)
- 🎙️ [RNR 291 - RNR解释：开发菜单](https://reactnativeradio.com/episodes/rnr-291-rnr-explains-the-dev-menu)
- 🎥 [通用React应用的最佳技术栈](https://www.youtube.com/watch?v=2yvjgwTZOUY)
- 🎥 [使用Expo模块构建原生库](https://www.youtube.com/watch?v=UczTzTBYRhA)
- 🎥 [如何为Expo项目创建应用图标和启动画面](https://www.youtube.com/watch?v=QSNkU7v0MPc)

---

## 🔀 其他 {#other}

- 👀 [TypeScript 5.5 PR已合并 - 通过控制流分析从函数体推断类型谓词](https://github.com/microsoft/TypeScript/pull/57465)
- 📜 [通过Vitest和workerd改进Cloudflare Workers测试](https://blog.cloudflare.com/workers-vitest-integration/)
- 📜 [使用TypeScript构建Node应用](https://www.totaltypescript.com/typescript-and-node)
- 📜 [类型谓词推断：无人预料的TS 5.5特性](https://www.totaltypescript.com/type-predicate-inference)
- 📜 [隐藏扩展请求及更多网络面板改进](https://developer.chrome.com/blog/network-panel-improvements?hl=en)
- 📜 [Node.js中的require(esm)](https://joyeecheung.github.io/blog/2024/03/18/require-esm-in-node-js/)
- 📜 [比较ECMAScript模块和CommonJS](https://wanago.io/2024/03/18/ecmascript-modules-esm-commonjs/)
- 📜 [Node.js工作线程初学者指南](https://betterstack.com/community/guides/scaling-nodejs/nodejs-workers-explained/)
- 📦 [Elysia 1.0 - Bun Web框架](https://elysiajs.com/blog/elysia-10)
- 📦 [Bun 1.0.31](https://bun.sh/blog/bun-v1.0.31)
- 📦 [AnalogJS 1.0 - Angular元框架](https://dev.to/analogjs/announcing-analogjs-10-19an)
- 📦 [Rsbuild 0.5 - Lightning CSS](https://rsbuild.dev/community/releases/v0-5)

---

## 🤭 趣闻 {#fun}

[![掉帧动画](/emails/issues/178/meme.jpg)](https://twitter.com/ryanflorence/status/1769842701904822774)

下次见！👋