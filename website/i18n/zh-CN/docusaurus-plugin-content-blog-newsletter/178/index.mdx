---
slug: /178
title: "This Week In React #178: Remix and Vite, Type-safe Children, Astro DB, React Compiler, Firebolt, Vitest, Composition, Remix Nitro, RSC in React Native, TenTap, Expo Atlas, TypeScript, Elysia..."
authors: [slorber, bndkt]
date: 03-20-2024
---

大家好！

本周对我来说有些特别且重要。我暂停了简讯的发布，但这次没有空缺（像之前那样），而是由[Benedikt](https://twitter.com/bndkt)执笔完成了整期简讯。交给你了，Benedikt！

---

过去一周发布的新内容不多，或许大家都在为即将到来的会议季储备重磅消息。Astro公布了其新数据库的更多细节，并推出了开发者门户，初期作为主题市场，未来还将涵盖集成功能。Remix现已全面转向Vite优先，Vercel则发布了新版AI聊天机器人模板。在React板块大量关于React Server Components的新闻之后，本周我们在React Native板块也看到了一些RSC相关动态。

<!-- truncate -->

**💡 [在Twitter上查看本期简讯](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![Next.js内联可视化编辑的无头CMS](/emails/issues/169/reactbricks.jpg)](https://reactbricks.com?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)

**[Next.js内联可视化编辑的无头CMS](https://reactbricks.com?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)**

[**一分钟快速创建项目**](https://reactbricks.com/sign-up?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)，通过CLI定义专属可视化React组件区块，使用任意CSS框架实现像素级品牌呈现。快来尝试支持服务端组件的新版Next.js入门模板！

内容编辑者可以像使用文字处理器般直观组合内容区块，完全不影响设计效果。

React Bricks具备企业级功能：数字资产管理、高级SEO、实时协作、定时发布、多语言支持、外部API集成、审批工作流、多环境部署、变更历史记录等。

已获The Weather Channel、Deel.com、La Banque Postale等企业客户及全球超9,000名用户信赖。
[**立即体验！**](https://reactbricks.com/sign-up?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)

---

## ⚛️ React {#react}

[![Remix拥抱Vite优先](/emails/issues/178/remix_heart_vite.jpg)](https://twitter.com/markdalgleish/status/1770224011831890036)

🐦 [**Remix正式转向Vite优先**](https://twitter.com/markdalgleish/status/1770224011831890036)

经过短暂的过渡期（期间Remix推出了标记为不稳定的Vite集成方案），现在该方案已转为稳定版并立即成为默认配置。我个人非常欣赏这种快速转型，认为Remix与Vite是强强联合。让Vite作为Remix的开发环境和编译器，使得Remix团队能缩减技术栈表面积，更专注于核心框架能力——这绝对是件好事！现在新建的Remix项目仅包含引用Remix插件的Vite配置文件，这种化繁为简的实践堪称典范！

- 💸 [使用Apryse生成文档 - 通过React将模板转化为定制化文档](https://apryse.com/blog/docx-generation-from-templates-react?utm_source=email&utm_medium=newsletter&utm_campaign=thisweekinreact4)
- 📜 [Astro DB深度解析](https://astro.build/blog/astro-db-deep-dive/)：Astro与Turso合作集成libSQL。文中还探讨了他们为何考虑但最终未选择Cloudflare的D1数据库。
- 📜 [Astro开发者门户](https://astro.build/blog/dev-portal/)：Astro官方主题市场。
- 📜 [Next.js如何打破React基本原则](https://ondrejvelisek.github.io/how-nextjs-breaks-react-fundamentals/)：虽然不认同标题和结论，但该文对RSC局限性（多数并非Next.js特有）的探讨仍具启发性。
- 📜 [React编译器的类型系统](https://www.recompiled.dev/blog/type-system/)：内容偏理论，适合想了解编译器与类型推断关系的开发者。
- 📜 [两种组合方式](https://kyleshevlin.com/two-types-of-composition/)：重温开发基础概念很有必要。组合是React核心原则之一，本文探讨了嵌套组合与合并组合的基础。
- 📜 [将Next.js应用从"Vercel+PlanetScale"迁移至"Fly.io"](https://www.crispyscript.com/articles/13)
- 📜 [Astro Studio初体验](https://maciekpalmowski.dev/blog/astro-studio-first-impression/)
- 📜 [你的Next.js应用功能正在泄露](https://www.rexforde.com/blog/conditional-render-problem)
- 📜 [拥抱未来与回溯：从Server Actions转向tRPC](https://documenso.com/blog/removing-server-actions)
- 📜 [在React+TypeScript中无法实现完全类型安全的Children](https://www.totaltypescript.com/type-safe-children-in-react-and-typescript)
- 📜 [如何使用Vitest测试React自定义钩子和组件](https://www.thisdot.co/blog/how-to-test-react-custom-hooks-and-components-with-vitest)
- 📜 [OpenTelemetry实践：为JavaScript应用添加追踪功能](https://marmelab.com/blog/2024/03/14/opentelemetry-in-practice-instrumenting-javascript-apps-for-tracing.html)
- 🗓 [React Connection - 4月22日](https://reactconnection.io/) + [React-Native Connection - 4月23日](https://reactnativeconnection.io/) - 🇫🇷巴黎 - 为期两天的Web/移动端技术大会。使用优惠码"TWIR"可享8折。
- 📦 [Firebolt](https://firebolt.dev/)：简约的新React框架，风格类似Remix。[介绍文章](https://firebolt.dev/blog/introducing-firebolt)提及正在开发RSC支持。
- 📦 [remix-nitro - 通过Vite 5.1实验性运行时API实现Remix与Nitro热更新的示例](https://github.com/alessandrojcm/remix-nitro)
- 📦 [remix-hono v0.0.16 - 现已适配Hono v4](https://github.com/sergiodxa/remix-hono/releases/tag/v0.0.16)
- 📦 [Next.js AI聊天机器人2.0 - 现已支持AI SDK 3.0](https://vercel.com/changelog/next-js-ai-chatbot-2-0)
- 🎥 [Daniel Kanem - 迁移Remix应用到Vite.js的步骤解析](https://www.youtube.com/watch?v=CTgQhNFqn5E)
- 🎥 [Brooks Lybrand - 将Remix部署到GitHub Pages](https://www.youtube.com/watch?v=EO_-KwSslWQ)
- 🎥 [Theo Browne - Million Lint工具](https://youtu.be/fcY9TthQnI4?si=bROdHJmIumw24AlO)
- 🎥 [UI工程 - 告别forwardRef](https://www.youtube.com/watch?v=m4QbeS9BTNU)
- 🎥 [Jack Herrington - Pigment-CSS：Material-UI在NextJS和React 19上的解决方案](https://www.youtube.com/watch?v=fyja_ldjxwA)
- 🎙️ [Rocket Ship第34期 - Charlotte Isambert谈React架构技巧](https://share.transistor.fm/s/48a4b223)
- 🎙️ [PodRocket - Delba de Oliveira与Wyatt Johnson谈Next.js中的部分预渲染](https://podrocket.logrocket.com/partial-pre-rendering-next-js-delba-oliveira-wyatt-johnson)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![React表单构建SDK](/emails/issues/171/tripetto.jpg)](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk)

**[React表单构建SDK](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk)**

为React项目提供的完整表单解决方案，被财富500强企业采用。通过易用的开源组件，快速在React应用中构建和运行强大的表单系统。提供详尽文档支持，分钟级部署，深度可定制化。

- 可视化构建器创建复杂表单；
- 运行器部署表单并收集数据；
- 灵活的表单布局（对话式、聊天式等）与样式；
- 可扩展自定义问题类型；
- 完整文档、示例和演示；
- 自托管无外部依赖；
- 免费开始试用与测试。

TWIR专属福利：[立享FormBuilder SDK许可证25%折扣](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk)。

---

## 📱 React-Native动态 {#react-native}

[![React Native服务端组件演示](/emails/issues/178/rn_rsc.jpg)](https://github.com/mui/material-ui/tree/master/packages/pigment-css-react)

🐦 [**React Native服务端组件演示**](https://twitter.com/SzymonRybczak/status/1769747995862384756)

技术大会季即将来临，人们正为重磅舞台保留最佳内容，相关公告逐渐减少。我最期待在即将到来的会议上深入了解的议题之一，便是React Native中的服务端组件（RSC）。Callstack的Szymon Rybczak现已发布了一个在RN中运行RSC的精彩演示。我十分期待了解更多细节，也很高兴Szymon宣布将很快发布详细技术文章及相关代码。

- 💸 [React Universe 大会 - 演讲提案征集最后几天：CFP将于3月22日截止。不想在RUC演讲？快来抢购早鸟票！](https://www.reactuniverseconf.com/?utm_campaign=React_Universe_Conf&utm_source=email&utm_content=This_Week_in_React)
- 📖 [Expo文档：从CodePush迁移](https://docs.expo.dev/eas-update/codepush/)：Visual Studio App Center计划于2025年3月31日停止服务。CodePush用户应开始考虑替代方案。
- 📜 [什么是Expo Router？](https://www.themorrow.digital/blog/what-is-the-expo-router)
- 📜 [React导航与状态机 - 优化应用流程](https://www.bam.tech/article/react-navigation-state-machine-perfecting-app-flows)：探索如何在React Navigation中通过状态机或自定义导航器实现复杂流程的有趣实践。
- 📜 [Expo博客 - 设置新Expo项目的12个技巧](https://expo.dev/blog/12-tips-for-setting-up-your-next-expo-project)：部分建议显而易见（如使用TS），但开发/生产环境应用变体和自动构建版本号等技巧值得重温。
- 📜 [紧急情况下的OTA（空中下载）发布方案](https://www.callstack.com/blog/ship-over-the-air-when-in-an-emergency)
- 📦 [TenTap - React Native的类型化、可定制、可扩展富文本编辑器](https://github.com/10play/10tap-editor)
- 📦 [React Native 0.74.0-rc.4发布](https://github.com/facebook/react-native/releases/tag/v0.74.0-rc.4)
- 📦 [expo-atlas - 实验性Metro打包分析工具](https://github.com/byCedric/expo-atlas)
- 📦 [新版Expo Dev工具插件：调试React Native MMKV](https://www.npmjs.com/package/@dev-plugins/react-native-mmkv)
- 📦 [首批Expo SDK 51候选版本发布](https://www.npmjs.com/package/expo/v/51.0.0-canary-20240318-dd8f245)
- 🎙️ [RNR 291期 - 开发者菜单详解](https://reactnativeradio.com/episodes/rnr-291-rnr-explains-the-dev-menu)
- 🎥 [通用React应用的最佳技术栈](https://www.youtube.com/watch?v=2yvjgwTZOUY)
- 🎥 [使用Expo Modules构建原生库](https://www.youtube.com/watch?v=UczTzTBYRhA)
- 🎥 [为Expo项目创建应用图标和启动画面](https://www.youtube.com/watch?v=QSNkU7v0MPc)

---

## 🔀 其他 {#other}

- 👀 [TypeScript 5.5 PR合并 - 通过控制流分析推断函数体类型谓词](https://github.com/microsoft/TypeScript/pull/57465)
- 📜 [通过Vitest和workerd改进Cloudflare Workers测试](https://blog.cloudflare.com/workers-vitest-integration/)
- 📜 [使用TypeScript构建Node应用](https://www.totaltypescript.com/typescript-and-node)
- 📜 [类型谓词推断：TS 5.5的意外惊喜特性](https://www.totaltypescript.com/type-predicate-inference)
- 📜 [隐藏扩展请求及网络面板改进](https://developer.chrome.com/blog/network-panel-improvements?hl=en)
- 📜 [Node.js中的require(esm)](https://joyeecheung.github.io/blog/2024/03/18/require-esm-in-node-js/)
- 📜 [ECMAScript模块与CommonJS对比](https://wanago.io/2024/03/18/ecmascript-modules-esm-commonjs/)
- 📜 [Node.js工作线程入门指南](https://betterstack.com/community/guides/scaling-nodejs/nodejs-workers-explained/)
- 📦 [Elysia 1.0 - Bun Web框架](https://elysiajs.com/blog/elysia-10)
- 📦 [Bun 1.0.31发布](https://bun.sh/blog/bun-v1.0.31)
- 📦 [AnalogJS 1.0 - Angular元框架](https://dev.to/analogjs/announcing-analogjs-10-19an)
- 📦 [Rsbuild 0.5 - 支持Lightning CSS](https://rsbuild.dev/community/releases/v0-5)

---

## 🤭 趣闻 {#fun}

[![丢帧动画梗图](/emails/issues/178/meme.jpg)](https://twitter.com/ryanflorence/status/1769842701904822774)

下期见！👋