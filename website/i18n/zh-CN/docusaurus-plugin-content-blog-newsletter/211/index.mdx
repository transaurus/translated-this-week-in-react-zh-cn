---
slug: /211
title: "This Week In React #211: React Router, TanStack, Next.js, Vite, RSCs, Aria, Rslib, React-Scan, Screens, Edge-to-Edge, RN 0.77 RC, Legend List, Rapier, Testing Library, Bottom Tabs, Cali, Nitro, Solito, Radon, Wasm, Tailwind, TypeScript, Deno..."
authors: [slorber]
date: 11-27-2024
---

大家好！

这是React又一个精彩的一周，重磅发布了React Router 7和Vite 6。TanStack几乎抢尽风头！

React Native生态也不甘示弱，0.77版本进入候选阶段，Legend List、Screens...以及一项基于Wasm的创新技术令人振奋。

<!-- truncate -->

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![AG Charts: 全球最优秀的React图表库](/emails/issues/205/agcharts.jpg)](https://www.ag-grid.com/charts?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-4)

**[AG Charts: 全球最优秀的React图表库](https://www.ag-grid.com/charts?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-4)**

AG Charts是AG Grid推出的基于Canvas的图表库。最初为支持[AG Grids](https://www.ag-grid.com/react-table?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-4)的集成图表功能而开发，如今每月npm下载量已突破**100万次**：

- 🆓 **免费永久使用**：包含**柱状图**、**折线图**、**散点图**、**面积图**等基础图表类型
- 🚀 **极致性能**：通过**批量绘制**技术和先进的变更检测机制，结合**离屏Canvas API**，可轻松渲染数十万数据点
- 📊 **金融图表**：仅需3行代码即可构建支持高级标注的交互式金融图表
- 🏢 **企业级功能**：升级至企业版可解锁动画效果、上下文菜单、十字准星等高级功能，支持免费试用

了解更多：[www.ag-grid.com/charts](https://www.ag-grid.com/charts?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-4)

---

## ⚛️ React动态 {#react}

[![React Router 7.0](/emails/issues/211/reactrouter.jpg)](https://remix.run/blog/react-router-v7)

**[React Router 7.0](https://remix.run/blog/react-router-v7)**

按计划，Remix的功能特性已整合至React Router，全栈框架功能现由Vite插件驱动。新版在路由系统、类型安全和路由预渲染等方面均有创新。Remix v2用户可平滑升级至React Router v7：启用未来标志后迁移过程将十分顺畅。随着这一重要里程碑的完成，开发团队得以全力投入下一轮创新，我们已迫不及待想聆听Michael Jackson带来的Remix新作。

---

- 💸 [PostHog - 我们如何构建移动端回放功能（以及为何耗时如此之久）](https://posthog.com/blog/mobile-session-replay?utm_source=twir&utm_campaign=twir)
- 👀 [React Core PR - 新增 moveBefore 实验性功能](https://github.com/facebook/react/pull/31596): React 团队计划在协调器中支持即将推出的 DOM API `Node.moveBefore()`，此前 [Chromium 已宣布将实现该功能](https://bsky.app/profile/did:plc:hxmev3uady7j4litwnr5fzbg/post/3lbcmvgkfw227)。与 `insertBefore()` 不同，此新 API 可保留移动的 DOM 元素（如 iframe 和视频播放器）的状态。
- 👀 [Next.js PR - CSS 内联](https://github.com/vercel/next.js/pull/72195): 新的 `experimental.inlineCss` 选项可能会提升网站的首屏内容绘制(FCP)分数，尤其适用于使用原子化 CSS（如 Tailwind）的站点。
- 📜 [自动滚动列表组件](https://www.nikhilsnayak.dev/blogs/the-auto-scroll-list-component): 这篇实现聊天界面的交互式文章展示了如何通过简单的 `ref` 回调简化 `useRef` + `useEffect` 的使用。同时分享了一个鲜为人知但重要的经验：[“不要将记忆化用于正确性，仅用于性能优化！”](https://bsky.app/profile/gsathya.bsky.social/post/3lbk5putwkc2d)
- 📜 [为何 TanStack Start 放弃适配器](https://tanstack.com/blog/why-tanstack-start-is-ditching-adapters): TanStack Start 即将到来，Tanner 可以全力投入其创新功能。他没有创建一长串宿主特定的适配器，而是节省时间，将这项繁琐任务委托给 Vinxi、Nitro 和 H3。
- 📜 [使用 TanStack Router 加载数据](https://frontendmasters.com/blog/tanstack-router-data-loading-1/): 分为两部分的系列文章，探讨了搭配/不搭配 React-Query 使用 TanStack Router 的场景。两者可协同使用。在加载器中预取查询可避免瀑布式请求。
- 📜 [关于 RSC 对 SPA 意义的思考](https://blog.axlight.com/posts/thoughts-on-what-rsc-means-for-spas/): Daishi 概述了 RSC 对常规单页应用的潜在益处。这直接关联到我的下一个项目：将 RSC 集成到静态站点生成器 Docusaurus 中。
- 📜 [React 的哲学问题与完美的模态对话框](https://www.developerway.com/posts/hard-react-questions-and-modal-dialog): 从简单对话框组件出发逐步添加需求，最终达成完美抽象的精彩文章。
- 📜 [React 孤岛架构剖析](https://swizec.com/blog/the-anatomy-of-a-react-island/): 在现有代码库中渐进式采用 React 的务实方案。
- 📜 [Next.js 中 `use cache` 指令深度解析](https://www.nextjscourse.dev/courses/nextjs-course/use-cache-deep-dive): 关于 Next.js 15 新特性的详解文章，包含交互式演示。
- 📜 [基于功能的 React 架构](https://www.robinwieruch.de/react-feature-architecture/): 良好的组件组合模式可通过功能解耦组件，同时避免请求瀑布流。
- 📜 [Astro 模式 - React 之爱](https://astropatterns.dev/p/react-love/intro-react): 两个在 Astro 中使用 React Context 的交互式示例。
- 📜 [React 中的货币处理](https://www.jacobparis.com/content/currency-handling)
- 📦 [Vite 6.0](https://vite.dev/blog/announcing-vite6.html): 对需要支持多模块图（客户端、SSR、RSC）的 React 框架作者而言的重要版本，新增环境 API。
- 📦 [Ariakit 0.4.14 - 组合框/选择器性能优化](https://newsletter.ariakit.org/p/performance-tailwind-v4-and-more): 过度使用 `useSyncExternalStore` 钩子（在列表项中）可能导致开销，将其"合并"为单个钩子可提升性能。
- 📦 [React Aria - 11月20日更新 - Disclosure、ToggleButtonGroup、菜单改进](https://react-spectrum.adobe.com/releases/2024-11-20.html)
- 📦 [Preact 10.25 - 更严格的元素类型，优化无 key 元素协调](https://github.com/preactjs/preact/releases/tag/10.25.0)
- 📦 [Rslib 0.1 - 直观的库开发工具，支持 React 库](https://lib.rsbuild.dev/guide/solution/react)
- 📦 [Meteor.js 3.1 - Node 22、Express 5、MongoDB 驱动 6，核心与开发者体验改进](https://dev.to/meteor/meteorjs-31-a-new-dawn-for-full-stack-javascript-development-4a13)
- 🎥 [Alem Tuzlak - React Router v7 发布 - 现在该升级吗？](https://www.youtube.com/watch?v=s8H5-CZOlm0)
- 🎥 [Dev Leonardo - TanStack Start：全栈 React 框架但客户端优先](https://www.youtube.com/watch?v=PUf8DzCvrdc)
- 🎥 [Theo - JavaScript 现已无处不在](https://www.youtube.com/watch?v=tQ6fB7WClgw)
- 🎙️ [Syntax 850 - 像专家一样管理 JavaScript 状态！](https://syntax.fm/show/850/manage-state-in-javascript-like-a-pro)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![在React应用中释放文档超能力！](/emails/issues/209/nutrient.jpg)](https://www.nutrient.io/sdk/web)

**[在React应用中释放文档超能力！](https://www.nutrient.io/sdk/web)**

React开发者请注意：PSPDFKit现已更名为**Nutrient**！👋 我们虽换了新名字，但Web SDK仍是您所信赖的顶尖解决方案，用于查看、批注和编辑PDF及其他文档类型。

- 🏎️ 通过免费试用和详尽文档快速上手
- ⏱️ 利用流畅的内置UI和全新设计系统**Baseline-UI**节省开发时间
- 🛠️ 通过丰富的API进行文档处理和深度定制
- 🆘 获得领域专家支持团队的协助

我们覆盖**全平台**，从移动端到后端。

想挑战技术难题并**影响数百款应用**？查看我们的[高级前端开发工程师](https://www.nutrient.io/company/careers/web-frontend)等开放职位。

---

## 📱 React-Native {#react-native}

[![React Native Screens 4.0.0正式发布](/emails/issues/211/screens.jpg)](https://blog.swmansion.com/introducing-react-native-screens-4-0-0-1b833ff98a55)

**[React Native Screens 4.0.0正式发布](https://blog.swmansion.com/introducing-react-native-screens-4-0-0-1b833ff98a55)**

这款被React Navigation和Expo Router采用的库已于数周前发布，承诺的发布博文终于上线，通过多段视频直观展示亮点功能：

- Sheets API：支持Android的`formSheet`和iOS自定义悬停高度
- 原生栈的屏幕预加载以提升感知性能
- 优化的iOS动画效果

---

- 💸 [使用Clerk和Expo实现身份验证与授权](https://go.clerk.com/HueGwuo)
- 👀 [React Scan PR - 新增React Native支持](https://github.com/aidenybai/react-scan/pull/23)：这款用于检测重复渲染的热门工具将于明日支持React Native。
- 📜 [Android全面屏显示现已优化](https://expo.dev/blog/edge-to-edge-display-now-streamlined-for-android)：从Android 15+开始将默认强制启用沉浸模式，Mathieu正与Expo合作推动生态迁移。
- 📜 [作为Web开发者学习React Native时我犯过的所有错误](https://fernandorojo.co/mistakes)：Fernando对原生组件使用率提升的思考。
- 📜 [升级至Expo SDK 52指南](https://expo.dev/blog/upgrading-to-expo-sdk-52)
- 📜 [EAS环境变量：简化配置的新变更](https://expo.dev/blog/environment-variables)
- 🧑‍🎓 [React Native大师课](https://www.notjust.dev/react-native-mastery)：Vadim新推出的基于项目的付费课程。
- 📦 [React Native 0.77.0-rc.0发布](https://github.com/facebook/react-native/releases/tag/v0.77.0-rc.0)：初始化模板改用Swift替代Objective-C。增强CSS支持（display contents, mixBlendMode）。持续优化原生公共API边界。
- 📦 [Legend List - FlatList的高性能替代方案](https://github.com/LegendApp/legend-list)：基于信号的新列表库收获社区好评，据称性能超越FlashList。
- 📦 [React Native Rapier](https://github.com/callstack/react-native-rapier)：这款基于Rust的物理引擎背后有更重要意义——它是Callstack将WASM代码编译回原生的试验场（[演示](https://x.com/rob_pasinski/status/1861077912713318781)），实现Rust等原生语言的高效跨平台使用。
- 📦 [LiveStore - 面向本地优先应用的SQLite数据层](https://expo.dev/blog/local-first-application-development-with-livestore)：即将发布的事件溯源型本地优先库，提供一流的Expo集成。
- 📦 [React Native Testing Library更新](https://github.com/callstack/react-native-testing-library/releases)：v12支持RN 0.77和Expo 52。v13（测试版）移除废弃功能，同时支持React 18/19，默认启用并发渲染。v14（Alpha版）用[universal-test-renderer](https://github.com/mdjastrzebski/universal-test-renderer)替代`react-test-renderer`。
- 📦 [Bottom Tabs 0.7 - 支持React Navigation v7，新增`useBottomTabBarHeight`](https://github.com/okwasniewski/react-native-bottom-tabs/releases/tag/react-native-bottom-tabs%400.7.0)
- 📦 [Cali - 构建React Native应用的AI助手](https://github.com/callstackincubator/cali)
- 📦 [Nitro 0.17 - 全面支持Promise](https://github.com/mrousavy/nitro/releases/tag/v0.17.0)
- 📦 [Solito 4.3 - 支持React Navigation 7](https://github.com/nandorojo/solito/releases/tag/v4.3.0)
- 📦 [React Native Share 12.0 - 新增Expo配置插件](https://github.com/react-native-share/react-native-share/releases/tag/v12.0.0)
- 📦 [Radon IDE 0.24测试版 - 稳定性提升/支持Expo 52/多点触控/屏幕录制](https://github.com/software-mansion/radon-ide/releases/tag/v0.0.24-beta)
- 🎥 [Jack Herrington - React Native服务端组件！从服务器更新原生UI！](https://www.youtube.com/watch?v=RW1SlwBx0hk)
- 🎥 [Simon Grimm - React Native的未来？（RSC）](https://www.youtube.com/watch?v=uLjqKLjE4UE)
- 🎙️ [RNR 315 - App Center停用后的替代方案](https://www.reactnativeradio.com/episodes/rnr-315-what-to-do-without-app-center)

---

## 🔀 其他 {#other}

- 📊 [2024年Web年鉴](https://almanac.httparchive.org/en/2024/)
- 📣 [Deno诉甲骨文：撤销JavaScript商标](https://deno.com/blog/deno-v-oracle)
- 📜 [浏览器兼容性评估框架](https://www.joshwcomeau.com/css/browser-support/)
- 📦 [Tailwind CSS 4.0测试版 - 更快的速度、统一工具链、CSS优先配置、现代CSS](https://tailwindcss.com/blog/tailwindcss-v4-beta)
- 📦 [TypeScript 5.7 - 2024标准库类型、未初始化变量检查、扩展重写、更快启动](https://devblogs.microsoft.com/typescript/announcing-typescript-5-7/)
- 📦 [Mock Service Worker - 支持WebSocket](https://mswjs.io/blog/enter-websockets/)
- 📦 [Deno 2.1 - Wasm导入及其他增强功能](https://deno.com/blog/v2.1)
- 📦 [Better Auth 1.0 - 全面的TypeScript认证框架](https://www.better-auth.com/v1)

---

## 🤭 轻松一刻 {#fun}

[![alt](/emails/issues/211/meme.jpg)](https://x.com/fortysevenfx/status/1850288992559796369)

[![alt](/emails/issues/211/meme2.jpg)](https://bsky.app/profile/did:plc:hxmev3uady7j4litwnr5fzbg/post/3lbtsc6z57s2f)

[![alt](/emails/issues/211/meme3.jpg)](https://x.com/adamwathan/status/1861560244771422692)

下次见！👋