---
slug: /218
title: "This Week In React #218: React-Scan, Server Functions, Portals, Forms, Storybook, React Aria, Unpic, React Native 0.77, Reanimated, Expo, EAS, Legend-List, Shadowlist, Document Picker, BottomTabs, Swift, Bun, Rspack, Vitest, Biome, ESLint..."
authors: [slorber]
date: 01-22-2025
---

大家好！

本周堪称疯狂，各大技术栈都发布了重要更新，本期简报的每个板块都涌现了大量重磅发布，实在难以逐一详述。

特别令人振奋的是React Native生态在v0.77版本中提升了CSS兼容性，以及Reanimated v4的发布。这对跨平台开发兼容性而言是重大利好。

前端生态同样如火如荼🔥，Bun 1.2、Rspack 1.2、Vitest 3.0等优秀版本相继发布。

另外，Tailwind v4也随时可能发布！（肯定就在我点击发送之后😅）

<!-- truncate -->

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![PropelAuth：让认证成为您的优势](/emails/issues/218/propelauth.jpg)](https://www.propelauth.com/?utm_source=newsletter&utm_campaign=twinrjan222024)

**[PropelAuth：让认证成为您的优势](https://www.propelauth.com/?utm_source=newsletter&utm_campaign=twinrjan222024)**

如果您的认证系统不能**助力业务增长**，那它就是在**拖后腿**。

[PropelAuth](https://www.propelauth.com/?utm_source=newsletter&utm_campaign=twinrjan222024)为您提供B2B产品从启动到规模化所需的一切：

- **清晰易懂**的[文档](https://docs.propelauth.com/?utm_source=newsletter&utm_campaign=twinrjan222024)和**高效友好的技术支持**
- **覆盖全场景的UI组件**——注册/登录/MFA/组织管理等
- **用户模拟功能**助您提供顶级客户支持
- **企业级SAML/SSO**和**高级安全特性**满足高端市场需求
- **用户行为分析**助力战略决策与业务拓展

[立即体验](https://www.propelauth.com/?utm_source=newsletter&utm_campaign=twinrjan222024)

---

## ⚛️ React动态 {#react}

[![React Scan 0.1](/emails/issues/218/react-scan.jpg)](https://github.com/aidenybai/react-scan)

[**React Scan 0.1**](https://github.com/aidenybai/react-scan)

这是React Scan的首个正式版本，这款新兴的React性能分析工具近期在社交平台引发热议，其开发者Aiden Bai展示了多个精彩案例。该工具安装简便，能精准定位非必要渲染，开发者体验极佳，堪称强化版的"why-did-you-update"。相关播客：🎙️ [JavaScript Jabber - 用React Scan优化React性能](https://www.youtube.com/watch?v=pyV1wMcOtN0)

---

- 💸 [Next.js中的中间件是什么？Clerk如何利用它实现身份验证](https://clerk.com/blog/what-is-middleware-in-nextjs?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=nextjs-middleware&utm_content=01-22-24)
- 🐦 [Parcel与React Server Components集成预览](https://x.com/devongovett/status/1881730597011571050)
- 💬 [Storybook RFC提案](https://github.com/storybookjs/storybook/discussions/categories/rfc)：多项提案旨在减少故事创建模板代码，提升自动补全、类型安全，并简化测试编写语法
- 📖 [shadcn/ui区块组件](https://ui.shadcn.com/docs/blocks)：shadcn推出社区驱动的"可复用区块"库，此页面说明如何发布自定义区块到公共注册表
- 📜 [Server Functions在Server Component世界的重要性](https://www.brenelz.com/posts/why-server-functions-matter-in-a-server-component-world/)：深刻探讨在不支持RSC的框架中使用Server Functions的价值，并以TanStack Start为例。使用RSC时需要在包体积与负载大小间权衡。另见第二部分[Server Functions的优势](https://www.brenelz.com/posts/server-function-benefits/)解释其如何提供类似RSC的益处
- 📜 [JavaScript框架还需要Portal吗？](https://fullystacked.net/portal/)：详解现代HTML元素如`<dialog>`如何解决React Portal的类似场景。即使嵌套使用，这些对话框也不受父级样式影响。注：无需`z-index`即可堆叠对话框，效果类似Portal
- 📜 [在EAS托管上部署Next.js](https://x.com/JI/status/1879740964492980598)：Expo创始人演示如何通过CLI将Next.js 15静态站点部署到EAS并实现自动化CI。另见Theo[在EAS部署通用RSC](https://www.youtube.com/watch?v=weYe4ffxWQk)和Jack Herrington[部署Vite React SPA到EAS](https://www.youtube.com/watch?v=YU0ENx1xgJk)。Web开发者应关注EAS，它已不仅限于移动端
- 📜 [React 19中的渐进式表单](https://rdrn.me/react-forms/)：全面展示实现优秀表单UX的步骤，支持乐观UI和渐进增强
- 📜 [Formity：React多步表单终极工具](https://www.formity.app/blog/articles/formity-ultimate-tool-multi-step-forms-react)：交互式文章介绍专注于动态多步表单复杂性的新库，可适配用户输入。无需放弃现有单步表单库，可与之集成
- 📜 [styled-components插值中的XSS风险](https://andrei-calazans.com/posts/styled-components-xss-danger/)：可能需要清理React样式props以避免XSS攻击向量
- 📜 [使用React Relay和Vite实现流式SSR](https://aqora.io/blog/AEJsb2dBcnRpY2xlAZRgyH4wdeKfFHS0yil0Fw/implementing-streaming-ssr-with-react-relay-and-vite)：值得研究的React配置方案，虽然暂不支持SSR流式渲染
- 📦 [React Aria 2025年1月15日更新 - 覆盖层CSS过渡、自动补全(alpha)、测试工具包(alpha)等](https://react-spectrum.adobe.com/releases/2025-01-15.html)
- 📦 [Storybook 8.5 - 支持React 19、React Native Web Vite框架、无障碍测试、代码覆盖率](https://storybook.js.org/blog/storybook-8-5/)
- 📦 [Unpic 1.0发布](https://unpic.pics/blog/unpic-1/)：框架无关的图片显示工具包，原生支持多CDN，提供React和Next.js一等集成
- 📦 [React Three Handles](https://pmndrs.github.io/xr/docs/handles/introduction)：构建React XR交互的新便捷工具包
- 📦 [HeroUI](https://www.heroui.com/blog/introducing-heroui)：NextUI库的新品牌定位，因其不限于Next.js使用
- 📦 [Justd - 无障碍React UI组件](https://getjustd.com/)：类似shadcn/ui，但使用React Aria而非Radix
- 📦 [React Admin 5.5 - 支持React 19、MUI 6、React Router 7及多项新特性](https://github.com/marmelab/react-admin/releases/tag/v5.5.0)
- 📦 [React Testing Library 16.2 - 支持React 19的`onRecoverableError`和`onCaughtError`API](https://github.com/testing-library/react-testing-library/releases/tag/v16.2.0)
- 📦 [Puck 0.18 - React可视化编辑器](https://github.com/measuredco/puck/releases/tag/v0.18.0)
- 🎥 [Hamed Bahram - 使用after()优化NextJs应用](https://www.youtube.com/watch?v=0h402Lkg4xs)
- 🎥 [Ankita - 与Lee Rob的Next.js大师课](https://www.youtube.com/watch?v=M8bf7HJNLBo)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![测试已死 - Meticulous来了](/emails/issues/217/meticulous.jpg)](https://www.meticulous.ai?utm_source=thisweekinreact&utm_campaign=jan22nd)

**[测试已死 - Meticulous来了](https://www.meticulous.ai?utm_source=thisweekinreact&utm_campaign=jan22nd)**

Meticulous以**零**开发工作量创建并维护一套完整的端到端UI测试套件。

Traba首席技术官的这句评价最能概括产品价值："Meticulous从根本上改变了我们在Web应用中处理前端测试的方式，完全消除了编写前端测试的需求。该软件让我们确信每次变更都会经过完整的回归测试，使我们能够更快交付且代码中的错误显著减少。该平台易于使用，降低了后端开发人员参与前端代码贡献的门槛。"

Lattice、Bilt Rewards、Power等公司都在使用Meticulous。

我们CTO的这篇[文章](https://www.meticulous.ai/blog/lessons-from-a-decade?utm_source=thisweekinreact&utm_campaign=jan15th)阐述了全面测试如何使工程效率翻倍。

---

## 📱 React-Native {#react-native}

[![React Native 0.77](/emails/issues/218/react-native-0.77.jpg)](https://reactnative.dev/blog/2025/01/21/version-0.77)

[**React Native 0.77**](https://reactnative.dev/blog/2025/01/21/version-0.77)

按计划发布的新版本主要包含：

- CSS支持增强：`display: contents`、`boxSizing`、`mixBlendMode`和`outline`
- 支持Android 15全屏显示和16KB内存页大小（性能优化）
- iOS初始化模板改用Swift版AppDelegate

Expo用户的好消息：[SDK 52已支持v0.77](https://expo.dev/changelog/2025/01-21-react-native-0.77)，同时兼容多个基础包（Screens、RNGH、Reanimated）。React 19支持需等待v0.78版本，但可能比预期来得更早！

---

[![Reanimated 4.0测试版](/emails/issues/218/reanimated4.jpg)](https://blog.swmansion.com/reanimated-4-is-new-but-also-very-familiar-b926dd59aa40)

[**Reanimated 4.0测试版**](https://blog.swmansion.com/reanimated-4-is-new-but-also-very-familiar-b926dd59aa40)

Reanimated 4测试版发布，这是重大更新！🔥 动画核心全面重构，现在只需常规CSS就能在原生线程实现动画，新增支持：

- CSS属性过渡动画
- CSS关键帧动画

这极大简化了React Native微交互的实现，显著减少样板代码，并能交付跨平台动画。现有worklet API仍保持向后兼容，满足高级需求。但新架构（New Architecture）现已成为必需条件。

参阅[Reactiive将Reanimated v2动画迁移至v4](https://reactiive.io/articles/css-animations-react-native)的案例，迁移过程大幅简化。更不用说迁移旧版Reanimated v1代码的复杂度🙈。

补充说明：是否注意到正在积极开发的[实验性React `<ViewTransition>`组件](https://motion.dev/blog/reacts-experimental-view-transition-api)？它尚未纳入React-DOM，背后可能有令人期待的原因👀。

---

- 💸 [Codemagic - React Native 开发者的绝佳 App Center 替代方案！构建速度提升 8 倍，支持 CodePush 和自动化分发。提供 1 个月免费试用！](https://codemagic.io/migration-from-app-center/?utm_source=newsletter&utm_medium=email&utm_campaign=app_center_this_week_react)
- 🐦 [Expo 53 模块将支持 SwiftUI 和 Jetpack Compose](https://x.com/Baconbrix/status/1879900047397314813)
- 💬 [React Native 提案 - 使用 keyboardLayoutGuide 改进 iOS 键盘避让](https://github.com/react-native-community/discussions-and-proposals/discussions/867)
- 📣 [EAS 现已通过 SOC 2 Type 2 合规认证](https://expo.dev/blog/eas-soc2-type2)
- 📜 [我是如何将原生 React Native 应用迁移到 Expo 的](https://expo.dev/blog/how-i-migrated-my-bare-react-native-app-to-expo)
- 📜 [彻底解决 React Native 中的 Swift 模块头文件问题](https://www.callstack.com/blog/solving-swift-modular-header-issues-in-react-native-for-good)
- 📜 [React Native RCTRootViewFactory（棕地应用）](https://ospfranco.com/react-native-rctrootviewfactory/)
- 📦 [React Native 文档选择器 & 查看器 10.0](https://react-native-documents.github.io/)
- 📦 [底部标签栏 0.8 - 支持 Android 页面转场动画和 Material You 风格](https://github.com/callstackincubator/react-native-bottom-tabs/releases/tag/react-native-bottom-tabs%400.8.0)
- 📦 [Legend List 1.0 测试版 - 宣称性能优于 FlashList](https://legendapp.com/open-source/list/intro/introduction/)
- 📦 [Shadowlist 测试版 - React Native 高性能列表新方案](https://github.com/azimgd/shadowlist)
- 📦 [Screens 4.6 测试版](https://github.com/software-mansion/react-native-screens/releases/tag/4.6.0-beta.0)
- 📦 [Repack 5.0 rc.7 - 支持 NativeWind](https://github.com/callstack/repack/releases/tag/%40callstack%2Frepack%405.0.0-rc.7)
- 🎥 [Catalin Miron - React Native 日程表动画教程](https://www.youtube.com/watch?v=F3KJNgINMIQ)
- 🎥 [Simon Grimm - 2025 年 React Native 必备技术栈](https://www.youtube.com/watch?v=I_J7N0n5YPs)

---

## 🔀 其他 {#other}

- 👀 [Biome 2.0 及 2025 年路线图 - 插件支持、框架专属规则域（如 React）、HTML 和模板字符串片段支持](https://biomejs.dev/blog/roadmap-2025/)
- 📜 [通过 moveBefore() 在 DOM 变更时保留状态](https://developer.chrome.com/blog/movebefore-api)：Chrome 133 将于 2 月 4 日推出的新特性，对 React 兄弟节点协调很有帮助。
- 📜 [TypeScript 枚举：使用场景与替代方案](https://2ality.com/2025/01/typescript-enum-patterns.html)
- 📜 [如何推动 Web 平台新特性落地？](https://blog.yoav.ws/posts/so_you_want_to_push_a_web_platform_feature/)
- 📦 [Bun 1.2 - Node.js 兼容性增强，内置 S3 & SQL 客户端，文本化 lockfile，HTML 导入等大量更新](https://bun.sh/blog/bun-v1.2)
- 📦 [Rspack 1.2 - 持久化缓存、Yarn PnP 支持、性能优化](https://rspack.dev/blog/announcing-1-2)
- 📦 [Vitest 3.0 - 新报告器、内联工作区、多浏览器支持、按位置过滤、公开 API](https://vitest.dev/blog/vitest-3)
- 📦 [ESLint 9.18 - 稳定的 TypeScript 配置文件支持](https://eslint.org/blog/2025/01/eslint-v9.18.0-released/)
- 📦 [ArkType 2.0 - 现代 TypeScript 验证库](https://arktype.io/docs/blog/2.0)
- 📦 [Shiki 2.0 - 语法高亮工具，平淡的发布，包含弃用警告](https://shiki.style/blog/v2)

---

## 🤭 趣闻 {#fun}

[![alt](/emails/issues/218/meme.jpg)](https://x.com/aidenybai/status/1881397529369034997)

[![alt](/emails/issues/218/meme2.jpg)](https://bsky.app/profile/did:plc:hxmev3uady7j4litwnr5fzbg/post/3lgbup6t2es2b)

下期见！👋