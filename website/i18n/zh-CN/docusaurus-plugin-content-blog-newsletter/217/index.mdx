---
slug: /217
title: "This Week In React #217: View Transitions, RSC, Next.js, SWR, Nextra, React Router, Rails, Compiler, EAS Hosting, Shopify, Skia, OTP, Gesture Handler, Radon, React-Query, TC55, Bun, CSS..."
authors: [slorber]
date: 01-15-2025
---

大家好！

本周我们继续关注即将推出的`<ViewTransition>`组件的相关动态。

Expo终于推出了其跨平台通用托管解决方案，Shopify也分享了关于React Native使用体验的有趣反馈。

别忘了关注我们的合作伙伴会议——[React Paris 2025](https://react.paris/?utm_source=thisweekinreact) 🇫🇷 巴黎站（3月20-21日正会/19日工作坊）。完整演讲阵容刚刚公布！Jemima Abu、Antoine Chalifour和David Khourshid确认加盟。使用优惠码"TWIR"可享门票8折。

<!-- truncate -->

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![性能差就是Bug 🐢](/emails/issues/217/sentry.jpg)](https://sentry.io/lp/new-apm/?utm_source=thisweekinreact&utm_medium=paid-community&utm_campaign=perf-fy26q1-evergreen&utm_content=newsletter-primary-slowbug-seehow)

**[性能差就是Bug 🐢](https://sentry.io/lp/new-apm/?utm_source=thisweekinreact&utm_medium=paid-community&utm_campaign=perf-fy26q1-evergreen&utm_content=newsletter-primary-slowbug-seehow)**

性能问题本质就是另一种Bug🐛。Sentry能帮你快速定位问题，包括那些隐形的性能缺陷。

- 大幅缩短糟糕API调用的耗时
- 优化高频访问或响应缓慢的数据库操作
- 数分钟内定位流量激增根源

无论是错误还是性能瓶颈，Sentry都能助你快速修复，确保应用流畅运行。毕竟——性能差就是Bug。[立即体验](https://sentry.io/lp/new-apm/?utm_source=thisweekinreact&utm_medium=paid-community&utm_campaign=perf-fy26q1-evergreen&utm_content=newsletter-primary-slowbug-seehow)。

---

## ⚛️ React {#react}

[![揭秘React实验性动画API](/emails/issues/217/viewtransition.jpg)](https://motion.dev/blog/reacts-experimental-view-transition-api)

**[揭秘React实验性动画API](https://motion.dev/blog/reacts-experimental-view-transition-api)**

Motion框架创始人详解View Transitions的动画权衡，以及为何React需要通过新的`<ViewTransition>`组件将其直接集成到协调器中。这篇交互式文章展示了这个即将到来的React功能的早期样貌，包括当前实现细节，并解释其与Motion布局动画的部分重叠。

请注意这个激动人心的API仍在积极开发中，可能变更，近期重要PR包括：

- 👀 [React核心PR - 仅支持View Transitions v2](https://github.com/facebook/react/pull/31996)：新组件将利用v2规范API如`view-transition-class`，需Safari 18.2+，Firefox暂不支持
- 👀 [React核心PR - 基于事件类型的视图过渡类名](https://github.com/facebook/react/pull/32050)
- 👀 [Next.js PR - 新增`experimental.viewTransition`标志](https://github.com/vercel/next.js/pull/74659)：可在Next.js 15.2 canary 4中尝鲜

---

- 💸 [工程师的产品 - 产品管理已失效，工程师可以修复它](https://dub.link/twir-jan15)
- 👀 [React官网PR - 升级至Next.js 15、React 19，启用React编译器](https://github.com/reactjs/react.dev/pull/6996)
- 👀 [React Router里程碑](https://github.com/remix-run/react-router/milestones)：开始公示未来版本计划。v7.2将包含初始RSC支持（通过loaders/actions）、服务端Actions和中间件。
- 👀 [Wakelet采用编译器实践](https://github.com/reactwg/react-compiler/discussions/52)：正向反馈，提升LCP和INP指标。虽未神奇解决所有性能问题，但接近"免费午餐"体验。
- 📖 [Next.js文档 - 用Next.js构建单页应用](https://nextjs.org/docs/app/building-your-application/upgrading/single-page-applications)：新增文档说明[SWR 2.3](https://github.com/vercel/swr/releases/tag/v2.3.0)现在支持在`<SWRConfig fallback>`传递Promise，实现数据获取从客户端到服务端的无缝迁移。
- 📜 [理解React服务端组件](https://tonyalicea.dev/blog/understanding-react-server-components/)：全面且结构清晰的RSCs技术解析。
- 📜 [前端开发者必备的无障碍知识](https://martijnhols.nl/blog/accessibility-essentials-every-front-end-developer-should-know)：含React示例的无障碍实践指南。
- 📜 [React代码臃肿？试试组件钩子](https://www.tymzap.com/blog/bloated-react-code-try-component-hooks)：通过提取组件钩子降低认知负荷，让组件专注渲染逻辑。
- 📜 [在React中实现FormData和输入名的类型安全](https://www.typeonce.dev/article/make-form-data-and-input-names-type-safe-in-react)：从手工TS实现到使用Effect.Schema和函数式编程。
- 📜 [在Remix/React Router中慎用navigate(-1)](https://programmingarehard.com/2025/01/13/maybe-dont-navigate-1.html/)：如何安全返回且不离开当前应用。
- 📜 [2025年该在React中使用MobX-State-Tree吗？](https://coolsoftware.dev/blog/mobx-state-tree-react-2025/)
- 📜 [成为React Query专家指南](https://tigerabrodi.blog/become-expert-in-react-query)
- 📦 [Next.js RSC测试套件](https://github.com/kettanaito/nextjs-rsc-testing)：使用MSW和Playwright测试Next.js服务端组件的示例仓库。
- 📦 [Nextra 4.0发布](https://the-guild.dev/blog/nextra-4)：基于Next.js的文档框架升级至App Router等多项改进。
- 📦 [Base UI 1.0.0-alpha.5](https://base-ui.com/react/overview/releases)
- 📦 [Superglue 1.0 - React与Rails整合](https://thoughtbot.com/blog/superglue-1-0-react-rails-a-new-era-of-thoughtfulness)
- 🎥 [Theo - HTML到达浏览器的所有途径](https://www.youtube.com/watch?v=Cifkb-ZVps4)
- 🎥 [Simeon Griggs - 从React文档到生产的useOptimistic实践](https://www.youtube.com/watch?v=_0bwnnlUZRU)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![测试已死 - Meticulous降临](/emails/issues/217/meticulous.jpg)](https://www.meticulous.ai?utm_source=thisweekinreact&utm_campaign=jan15th)

**[测试已死 - Meticulous降临](https://www.meticulous.ai?utm_source=thisweekinreact&utm_campaign=jan15th)**

Meticulous以**零**开发成本创建并维护完整的端到端UI测试套件。

Traba首席技术官的这句话精准概括了该产品的价值："Meticulous彻底改变了我们在Web应用中进行前端测试的方式，完全消除了编写前端测试用例的需求。该软件让我们确信每次变更都会得到完整的回归测试，使我们能够更快地交付代码，同时显著减少缺陷。平台易于使用，降低了后端开发人员参与前端代码贡献的门槛。"

Meticulous已被Lattice、Bilt Rewards、Power等多家企业采用。

我们CTO的这篇[文章](https://www.meticulous.ai/blog/lessons-from-a-decade?utm_source=thisweekinreact&utm_campaign=jan15th)阐述了为何全面测试能使工程效率翻倍的核心逻辑。

---

## 📱 React-Native动态 {#react-native}

[![EAS托管服务预览](/emails/issues/217/easdeploy.jpg)](https://expo.dev/blog/expo-announces-eas-hosting-service)

**[EAS托管服务预览](https://expo.dev/blog/expo-announces-eas-hosting-service)**

Expo揭晓了业界首个通用应用托管平台，这一举措实现了将Web开发体验引入跨平台领域的愿景。该平台可无缝部署Expo的服务器相关功能，特别是Expo for Web、API路由和通用React服务端组件。它充分考虑了移动应用特性，例如后端/应用版本同步问题。用户可通过CLI或CI（EAS工作流）进行操作，底层采用Cloudflare Workers技术，并提供免费套餐。

---

[![Shopify五年React Native实践](/emails/issues/217/shopify.jpg)](https://shopifyengineering.myshopify.com/blogs/engineering/five-years-of-react-native-at-shopify)

**[Shopify五年React Native实践](https://shopifyengineering.myshopify.com/blogs/engineering/five-years-of-react-native-at-shopify)**

Shopify成功将其全部6款应用迁移至React Native，并分享了极具参考价值的实践反馈，客观呈现了React Native的实际权衡。优势包括：跨平台支持、性能表现、热重载机制、知识可迁移性...但仍需原生开发知识，调试体验和版本升级便捷性等方面仍有改进空间。

---

- 💸 [WithFrame - 加速应用开发的React Native模板](https://withfra.me)
- 👀 [Expo Router RSC电影演示](https://github.com/EvanBacon/expo-rsc-movies)
- 📜 [使用React Native Skia实现动画加载器](https://reactiive.io/articles/animated-loader-skia)
- 📦 [React Native 0.78 RC.0](https://github.com/facebook/react-native/releases/tag/v0.78.0-rc.0): 即将发布的版本将升级至React 19！请注意由于存在bug，v0.77稳定版已推迟至下周发布。
- 📦 [React Native 0.76.6](https://github.com/facebook/react-native/releases/tag/v0.76.6)
- 📦 [React Query 5.63 - 允许useQuery和useQueries取消订阅查询缓存](https://github.com/TanStack/query/releases/tag/v5.63.0): 特别适用于取消隐藏RN堆栈屏幕(包括查询)的订阅，比react-freeze更强大/更精细。
- 📦 [Input OTP Native - 一次性密码输入组件，无样式且完全可定制](https://github.com/yjose/input-otp-native)
- 📦 [Edge-to-Edge 1.3 - 透明按钮导航栏](https://github.com/zoontek/react-native-edge-to-edge/releases/tag/1.3.0)
- 📦 [Skia 1.9 & 1.10 - 支持tvOS，新协调器，图像采样选项](https://github.com/Shopify/react-native-skia/releases)
- 📦 [Radon 1.2 - 支持RN 0.77，Redux和React Query工具，本地EAS构建](https://github.com/software-mansion/radon-ide/releases/tag/v1.2.0)
- 📦 [Screens 4.5 - 支持RN 0.77](https://github.com/software-mansion/react-native-screens/releases/tag/4.5.0)
- 📦 [Gesture Handler 2.22 - 支持RN 0.77，文本组件](https://github.com/software-mansion/react-native-gesture-handler/releases/tag/2.22.0)
- 📦 [Reanimated 3.16.7 - 支持RN 0.77](https://github.com/software-mansion/react-native-reanimated/releases/tag/3.16.7)
- 🎥 [Simon Grimm - 实现Universal React Native的缺失环节](https://www.youtube.com/watch?v=UpPj5xZiiFo)
- 🎙️ [React Universe On Air 46 - Shopify迁移至React Native的经验教训与Mustafa Ali](https://www.youtube.com/watch?v=WFoO-GDvrY8)
- 🎙️ [Rocket Ship 58 - 与Ben Awad探讨React Native游戏与动画](https://share.transistor.fm/s/249233ec)
- 🎙️ [RNR 318 - Software Mansion维护开源库的经验](https://www.reactnativeradio.com/episodes/rnr-318-maintaining-open-source-libraries-at-software-mansion)

---

## 🔀 其他 {#other}

- 📣 [WinterTC (TC55) - 关于Web互操作服务端运行时的技术委员会](https://www.w3.org/blog/2025/collaborating-across-w3c-and-ecma-for-web-interoperable-server-runtimes-through-wintertc/): 取代WinterCG，负责定义与Web API对齐的服务端运行时最小通用API规范。
- 📜 [构建系统与打包工具](https://github.com/orgs/web-infra-dev/discussions/24): Rspack维护者关于构建工具和打包工具如何实现增量模式的研究。
- 📜 [关于Node.js类型剥离你需要知道的一切](https://satanacchio.hashnode.dev/everything-you-need-to-know-about-nodejs-type-stripping): Node.js PR作者解释权衡取舍，包括为何不支持`.tsx`文件。
- 📜 [CSS text-box-trim - 回收上下空间，实现视觉平衡](https://developer.chrome.com/blog/css-text-box-trim)
- 📜 [可定制select API更新](https://una.im/select-updates/)
- 📜 [ECMAScript特性：import属性](https://2ality.com/2025/01/import-attributes.html)
- 📦 [Lightning CSS 1.29 - 支持视图过渡level 2](https://github.com/parcel-bundler/lightningcss/releases/tag/v1.29.0)
- 📦 [Bun 1.1.43 - 支持S3，HTML打包，V8快照等](https://bun.sh/blog/bun-v1.1.43)

---

## 🤭 趣味 {#fun}

[![alt](/emails/issues/217/meme.jpg)](https://bsky.app/profile/did:plc:hxmev3uady7j4litwnr5fzbg/post/3lfmnhwx6e222)

[![alt](/emails/issues/217/meme2.jpg)](https://x.com/mrousavy/status/1878383018324222000)

下次见！👋