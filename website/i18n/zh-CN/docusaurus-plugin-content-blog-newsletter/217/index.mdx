---
slug: /217
title: "This Week In React #217: View Transitions, RSC, Next.js, SWR, Nextra, React Router, Rails, Compiler, EAS Hosting, Shopify, Skia, OTP, Gesture Handler, Radon, React-Query, TC55, Bun, CSS..."
authors: [slorber]
date: 01-15-2025
---

大家好！

本周我们持续关注即将推出的`<ViewTransition>`组件的相关动态。

Expo终于发布了其跨平台通用托管解决方案，Shopify也分享了关于React Native实践的有趣洞见。

别忘了关注我们的合作伙伴会议——[React Paris 2025](https://react.paris/?utm_source=thisweekinreact) 🇫🇷 巴黎站（3月20-21日/3月19日研讨会）。完整演讲阵容刚刚公布！Jemima Abu、Antoine Chalifour和David Khourshid确认加盟。使用优惠码"TWIR"可享门票8折。

<!-- truncate -->

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![性能差就是Bug 🐢](/emails/issues/217/sentry.jpg)](https://sentry.io/lp/new-apm/?utm_source=thisweekinreact&utm_medium=paid-community&utm_campaign=perf-fy26q1-evergreen&utm_content=newsletter-primary-slowbug-seehow)

**[性能差就是Bug 🐢](https://sentry.io/lp/new-apm/?utm_source=thisweekinreact&utm_medium=paid-community&utm_campaign=perf-fy26q1-evergreen&utm_content=newsletter-primary-slowbug-seehow)**

性能问题本质上是另一种形式的Bug🐛。Sentry能帮你快速定位问题，包括那些隐性问题。

- 大幅缩短低效API调用耗时
- 优化高频访问或响应迟缓的数据库操作
- 数分钟内定位流量激增根源

无论是错误还是性能瓶颈，Sentry都能助你快速修复，保障应用流畅运行。毕竟性能差就是Bug。[立即体验](https://sentry.io/lp/new-apm/?utm_source=thisweekinreact&utm_medium=paid-community&utm_campaign=perf-fy26q1-evergreen&utm_content=newsletter-primary-slowbug-seehow)。

---

## ⚛️ React {#react}

[![揭秘：React实验性动画API](/emails/issues/217/viewtransition.jpg)](https://motion.dev/blog/reacts-experimental-view-transition-api)

**[揭秘：React实验性动画API](https://motion.dev/blog/reacts-experimental-view-transition-api)**

Motion框架创始人解析View Transitions的动画权衡，阐述为何React需要通过新的`<ViewTransition>`组件将其直接集成到协调器中。这篇交互式文章展示了该前瞻性功能的早期形态，包括当前实现细节，并说明其与Motion布局动画的部分重叠。

请注意该激动人心的API仍处积极开发阶段，相关PR持续更新：

- 👀 [React核心PR - 仅支持View Transitions v2](https://github.com/facebook/react/pull/31996)：新组件将基于v2规范API（如`view-transition-class`），需Safari 18.2+，暂不支持Firefox
- 👀 [React核心PR - 基于事件类型的视图过渡类名](https://github.com/facebook/react/pull/32050)
- 👀 [Next.js PR - 新增`experimental.viewTransition`标志](https://github.com/vercel/next.js/pull/74659)：可在Next.js 15.2 canary 4中尝鲜

---

- 💸 [工程师的产品思维 - 产品管理已失灵，工程师能修复它](https://dub.link/twir-jan15)
- 👀 [React官网PR - 升级至Next.js 15、React 19，启用React编译器](https://github.com/reactjs/react.dev/pull/6996)
- 👀 [React Router里程碑](https://github.com/remix-run/react-router/milestones)：开始公示未来版本计划。v7.2将包含初步RSC支持（通过loaders/actions）、服务端动作和中间件。
- 👀 [Wakelet采用编译器的实践](https://github.com/reactwg/react-compiler/discussions/52)：显著提升LCP和INP指标，虽非万能但近乎"零成本"优化。
- 📖 [Next.js文档 - 用Next.js构建单页应用](https://nextjs.org/docs/app/building-your-application/upgrading/single-page-applications)：新版文档详解如何利用[SWR 2.3](https://github.com/vercel/swr/releases/tag/v2.3.0)的`<SWRConfig fallback>`传递Promise，实现服务端到客户端数据获取的无缝迁移。
- 📜 [深入理解React服务端组件](https://tonyalicea.dev/blog/understanding-react-server-components/)：全面且结构清晰的RSC技术解析。
- 📜 [前端开发者必备的可访问性知识](https://martijnhols.nl/blog/accessibility-essentials-every-front-end-developer-should-know)：含React示例的无障碍开发指南。
- 📜 [React代码臃肿？试试组件钩子](https://www.tymzap.com/blog/bloated-react-code-try-component-hooks)：通过抽取组件钩子降低渲染组件的认知负荷。
- 📜 [在React中实现FormData和输入名的类型安全](https://www.typeonce.dev/article/make-form-data-and-input-names-type-safe-in-react)：从手工TS实现到Effect.Schema的函数式方案。
- 📜 [Remix/React Router慎用navigate(-1)](https://programmingarehard.com/2025/01/13/maybe-dont-navigate-1.html/)：避免回退导航导致意外退出应用的解决方案。
- 📜 [2025年还该用MobX-State-Tree搭配React吗？](https://coolsoftware.dev/blog/mobx-state-tree-react-2025/)
- 📜 [成为React Query专家指南](https://tigerabrodi.blog/become-expert-in-react-query)
- 📦 [Next.js服务端组件测试方案](https://github.com/kettanaito/nextjs-rsc-testing)：使用MSW和Playwright测试Next.js RSC的示例仓库。
- 📦 [Nextra 4.0发布](https://the-guild.dev/blog/nextra-4)：基于Next.js的文档框架全面升级App Router等功能。
- 📦 [Base UI 1.0.0-alpha.5](https://base-ui.com/react/overview/releases)
- 📦 [Superglue 1.0 - React与Rails整合方案](https://thoughtbot.com/blog/superglue-1-0-react-rails-a-new-era-of-thoughtfulness)
- 🎥 [Theo剖析 - HTML抵达浏览器的所有路径](https://www.youtube.com/watch?v=Cifkb-ZVps4)
- 🎥 [Simeon Griggs演示 - 从文档到生产的useOptimistic实践](https://www.youtube.com/watch?v=_0bwnnlUZRU)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![测试已死 - Meticulous降临](/emails/issues/217/meticulous.jpg)](https://www.meticulous.ai?utm_source=thisweekinreact&utm_campaign=jan15th)

**[测试已死 - Meticulous降临](https://www.meticulous.ai?utm_source=thisweekinreact&utm_campaign=jan15th)**

Meticulous能**零开发投入**自动创建并维护完整的端到端UI测试套件。

Traba首席技术官的这句评价精准概括了该产品的核心价值："Meticulous彻底改变了我们在Web应用中进行前端测试的方式，完全消除了编写前端测试用例的需求。该软件让我们确信每次变更都会经过完整的回归测试，使我们能够更快地交付代码，同时显著减少缺陷。这个平台易于使用，降低了后端开发人员参与前端代码贡献的门槛。"

Meticulous已被Lattice、Bilt Rewards、Power等多家企业采用。

我们CTO撰写的这篇[文章](https://www.meticulous.ai/blog/lessons-from-a-decade?utm_source=thisweekinreact&utm_campaign=jan15th)阐述了全面测试如何使工程效率翻倍的内在逻辑。

---

## 📱 React-Native {#react-native}

[![EAS托管服务预览](/emails/issues/217/easdeploy.jpg)](https://expo.dev/blog/expo-announces-eas-hosting-service)

**[EAS托管服务预览](https://expo.dev/blog/expo-announces-eas-hosting-service)**

Expo发布了业界首个通用应用托管平台，实现了将Web开发体验引入跨平台领域的愿景。该平台可无缝部署Expo的服务器相关功能，特别是Expo for Web、API路由和通用React服务端组件。它充分考虑了移动应用特性，例如后端/应用版本同步问题，支持通过CLI或CI（EAS工作流）进行部署，底层采用Cloudflare Workers技术，并提供免费套餐。

---

[![Shopify五年React Native实践](/emails/issues/217/shopify.jpg)](https://shopifyengineering.myshopify.com/blogs/engineering/five-years-of-react-native-at-shopify)

**[Shopify五年React Native实践](https://shopifyengineering.myshopify.com/blogs/engineering/five-years-of-react-native-at-shopify)**

Shopify成功将其全部6款应用迁移至React Native，并分享了极具参考价值的实践经验总结。积极方面包括：跨平台支持、性能表现、热重载机制、知识可移植性等。但团队仍需原生开发知识储备，调试体验和版本升级便捷性等方面仍有改进空间。

---

- 💸 [WithFrame - 加速应用开发的React Native模板](https://withfra.me)
- 👀 [Expo Router RSC电影演示](https://github.com/EvanBacon/expo-rsc-movies)
- 📜 [使用React Native Skia制作动画加载器](https://reactiive.io/articles/animated-loader-skia)
- 📦 [React Native 0.78 RC.0](https://github.com/facebook/react-native/releases/tag/v0.78.0-rc.0): 即将发布的版本将升级至React 19！请注意，由于存在bug，v0.77稳定版已推迟至下周发布。
- 📦 [React Native 0.76.6](https://github.com/facebook/react-native/releases/tag/v0.76.6)
- 📦 [React Query 5.63 - 允许useQuery和useQueries从查询缓存中取消订阅](https://github.com/TanStack/query/releases/tag/v5.63.0): 特别适用于取消订阅隐藏的RN堆栈屏幕（包括查询），比react-freeze更强大/精细。
- 📦 [Input OTP Native - 一次性密码输入组件，无样式且完全可定制](https://github.com/yjose/input-otp-native)
- 📦 [Edge-to-Edge 1.3 - 透明按钮导航栏](https://github.com/zoontek/react-native-edge-to-edge/releases/tag/1.3.0)
- 📦 [Skia 1.9 & 1.10 - 支持tvOS、新协调器、图像采样选项](https://github.com/Shopify/react-native-skia/releases)
- 📦 [Radon 1.2 - 支持RN 0.77、Redux和React Query工具、本地EAS构建](https://github.com/software-mansion/radon-ide/releases/tag/v1.2.0)
- 📦 [Screens 4.5 - 支持RN 0.77](https://github.com/software-mansion/react-native-screens/releases/tag/4.5.0)
- 📦 [Gesture Handler 2.22 - 支持RN 0.77、Text组件](https://github.com/software-mansion/react-native-gesture-handler/releases/tag/2.22.0)
- 📦 [Reanimated 3.16.7 - 支持RN 0.77](https://github.com/software-mansion/react-native-reanimated/releases/tag/3.16.7)
- 🎥 [Simon Grimm - 实现通用React Native的缺失环节](https://www.youtube.com/watch?v=UpPj5xZiiFo)
- 🎙️ [React Universe On Air 第46期 - Shopify迁移至React Native的经验与Mustafa Ali](https://www.youtube.com/watch?v=WFoO-GDvrY8)
- 🎙️ [Rocket Ship 第58期 - 与Ben Awad探讨React Native游戏与动画](https://share.transistor.fm/s/249233ec)
- 🎙️ [RNR 第318期 - Software Mansion维护开源库的经验](https://www.reactnativeradio.com/episodes/rnr-318-maintaining-open-source-libraries-at-software-mansion)

---

## 🔀 其他 {#other}

- 📣 [WinterTC (TC55) - 关于Web互操作性服务器运行时的技术委员会](https://www.w3.org/blog/2025/collaborating-across-w3c-and-ecma-for-web-interoperable-server-runtimes-through-wintertc/): 取代WinterCG，负责定义与Web API对齐的服务器运行时最小通用API规范。
- 📜 [构建系统与打包工具](https://github.com/orgs/web-infra-dev/discussions/24): Rspack维护者关于构建工具和打包工具如何实现增量模式的研究。
- 📜 [关于Node.js类型剥离的一切](https://satanacchio.hashnode.dev/everything-you-need-to-know-about-nodejs-type-stripping): Node.js PR作者解释的权衡，包括为何不支持`.tsx`文件。
- 📜 [CSS text-box-trim - 从上下回收空间，实现视觉平衡](https://developer.chrome.com/blog/css-text-box-trim)
- 📜 [可定制select API的更新](https://una.im/select-updates/)
- 📜 [ECMAScript特性：import attributes](https://2ality.com/2025/01/import-attributes.html)
- 📦 [Lightning CSS 1.29 - 支持view transitions level 2](https://github.com/parcel-bundler/lightningcss/releases/tag/v1.29.0)
- 📦 [Bun 1.1.43 - 支持S3、HTML打包、V8快照等](https://bun.sh/blog/bun-v1.1.43)

---

## 🤭 趣闻 {#fun}

[![alt](/emails/issues/217/meme.jpg)](https://bsky.app/profile/did:plc:hxmev3uady7j4litwnr5fzbg/post/3lfmnhwx6e222)

[![alt](/emails/issues/217/meme2.jpg)](https://x.com/mrousavy/status/1878383018324222000)

下次见！👋