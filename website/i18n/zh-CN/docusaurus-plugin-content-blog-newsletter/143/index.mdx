---
slug: /143
title: "This Week In React #143: RSC Quiz, useFormStatus, Next.js Website, Panda CSS, useLayoutEffect, Million.js, Immer, Super Apps, React-Three-Fiber, Vite..."
authors: [slorber]
date: 04-25-2023
---

大家好！

本周我们有许多优质的React文章和一些精彩的发布。我特别喜欢关于新版Next.js网站动画效果的解析，以及新发现的Panda CSS库。

随着服务端组件的推出，我们感觉React正逐渐演变成一个框架。一个名为`useFormStatus`的实验性钩子即将到来 👀。

Callstack为我们提供了一份关于React-Native超级应用的优质资源。

Meta公司近期进行了大规模裁员 😓。

友情提示：本新闻简报设有**[Discord聊天室](https://thisweekinreact.com/chat)**。原本仅限法语用户，现已重新组织欢迎所有人加入，快来和我们畅聊吧！

<!-- truncate -->

**💡 [在Twitter上查看本期简报](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![React-admin](/emails/issues/141/react_admin.png)](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)

**[React-admin - 开源B2B应用框架](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)**

正在用React构建管理后台？React-admin这个开源B2B应用框架能为你节省数天开发时间！🤩

使用React-admin不仅能节约宝贵时间，还能提升开发水平！已有超过20,000名开发者每日使用并验证其有效性。想了解长期用户的真实体验？看看非营利组织[Caritas的案例](https://marmelab.com/blog/2022/07/07/react-admin-caritas.html)。

加入我们活跃的[Discord](https://discord.com/invite/jR3D6SdQ)社区，获取最新动态和经验丰富的开发者支持。

现在就开始免费使用React-admin吧 😉，让开发效率更上一层楼！🚀

---

## ⚛️ React {#react}

[![打造Next.js官网](/emails/issues/143/nextjs.jpg)](https://rauno.me/craft/nextjs)

**[打造Next.js官网](https://rauno.me/craft/nextjs)**

注意到[nextjs.org的新首页](https://nextjs.org/)了吗？Vercel员工Rauno深度解析了这个页面的UI精妙之处。我特别钟爱他们的渐变追踪技术！React实现方式独具匠心，效果惊艳。

---

[![Panda CSS – 无运行时开销的CSS-in-JS方案](/emails/issues/143/panda.jpg)](https://infinum.com/blog/panda-css-css-in-js-without-runtime-overhead/)

**[Panda CSS – 无运行时开销的CSS-in-JS方案](https://infinum.com/blog/panda-css-css-in-js-without-runtime-overhead/)**

Panda CSS是为[Chakra UI未来版本](https://www.adebayosegun.com/blog/the-future-of-chakra-ui)开发的新型零运行时CSS-in-JS库。虽然官方文档尚未发布，但本文通过Next.js实例提供了首个实用概览。

---

- 👥 Meta新一轮裁员波及开源技术社区成员，包括React DevTools开发者[Mengdi Chen](https://twitter.com/mengdi_en/status/1648718077796786177)、Relay维护者[Robert Balicky](https://twitter.com/StatisticsFTW/status/1648820621252653056)、React开发者关系工程师[Matt Carroll](https://twitter.com/mattcarrollcode/status/1648770402272018432)和[Sean Keegan](https://twitter.com/DevRelSean/status/1649466893806215172)（后两者正在求职）。欢迎为求职者提供工作机会。
- 👀 [React PR - experimental_useFormStatus](https://twitter.com/sebastienlorber/status/1651135782990561280)：可能新增的`useFormState()`钩子函数，其API设计[灵感来自Remix](https://twitter.com/sebmarkbage/status/1651191679943049216)的`useNavigation()`。
- 👀 [React.dev翻译更新](https://twitter.com/dan_abramov/status/1649575563055493120)：新文档的翻译仓库已同步更新，现可开始翻译新版文档。
- 🧵 [Dan Abramov的RSC小测验](https://twitter.com/dan_abramov/status/1648923232937058304)：通过趣味问答帮助理解Server Components工作原理的精华帖。
- 🧵 [Dan Abramov谈Server Components设计灵感（PHP/Hack/XHP）](https://twitter.com/dan_abramov/status/1648830869304426500)
- 🧵 [useLayoutEffect + queueMicrotask技巧](https://twitter.com/sebastienlorber/status/1650829494209466373)：没想到这个小技巧引发热烈讨论😄
- 🐦 [Dan Abramov谈Preact Signals](https://twitter.com/dan_abramov/status/1650892432119148546)：需通过修改React实现，官方不保证兼容性。
- 📜 [为什么React不需要Signals](https://blog.axlight.com/posts/why-you-dont-need-signals-in-react/)：Daishi指出Signals的核心是响应式与绕过diff算法，建议用Jotai实现响应式，而非规避diff。
- 📜 [useReducer的四种创意用法](https://www.code-insights.dev/posts/creative-ways-of-using-usereducer)：开关切换、计数器、状态格式化与状态合并的实践案例。
- 📜 [2023年Remix应用托管方案指南](https://www.jacobparis.com/guides/where-to-host-remix)：含对比矩阵的深度分析。
- 📜 [Next.js 13应用安全加固指南](https://www.yagiz.co/securing-your-nextjs-13-application)：请求头安全配置与CSRF防护实现细节。
- 📜 [Rust能在2023年超越JavaScript吗？](https://joshuamo876.bearblog.dev/can-rust-beat-javascript-in-2023/)：基于Rust+WebAssembly的框架在性能测试中表现亮眼，其设计理念与React相似。
- 📜 [告别"闪烁"UI：useLayoutEffect与浏览器渲染机制解析](https://www.developerway.com/posts/no-more-flickering-ui)：通过响应式导航菜单案例，详解同步`useLayoutEffect`如何解决首屏渲染闪烁问题（SSR场景更复杂）。
- 📜 [用Server Components实现博客访问计数器](https://scastiel.dev/view-counter-react-server-components)：用RSC替代SWR，配合Suspense实现非阻塞渲染。
- 📜 [Storybook Day 3D动画实现揭秘](https://varun.ca/storybook-day/)：React-Three-Fiber构建3D场景全流程。
- 📜 [Storybook社区案例集第五辑](https://storybook.js.org/blog/community-showcase-5/)
- 📜 [React渲染架构演进与Web性能](https://www.iamtk.co/the-evolution-of-react-rendering-architectures-and-web-performance)
- 📜 [React Flow与Web Audio API集成实践](https://reactflow.dev/blog/react-flow-and-the-web-audio-api/)
- 📦 [Vite 4.3发布](https://vitejs.dev/blog/announcing-vite4-3.html)：千组件规模下性能显著提升。
- 📦 [Redux Toolkit v2.0.0 alpha.5](https://github.com/reduxjs/redux-toolkit/releases/tag/v2.0.0-alpha.5)：新增`combineSlices`API支持reducer懒加载。
- 📦 [T3 Env](https://env.t3.gg/)：基于Zod的环境变量校验方案，集成Next.js支持。
- 📦 [React-Three-Offscreen](https://github.com/pmndrs/react-three-offscreen)：通过OffscreenCanvas在Web Worker中运行React-Three-Fiber渲染。
- 📦 [Million.js 2.3.0](https://twitter.com/aidenybai/status/1650406345517199361)：支持Next.js并集成Forgetti优化器。新包[Hundred.js](https://twitter.com/aidenybai/status/1651072640650727424)演示块级虚拟DOM原理。
- 📦 [Immer 10.0](https://github.com/immerjs/immer/releases/tag/v10.0.0)：更快更小。
- 📦 [Lingui 4.0](https://github.com/lingui/js-lingui/releases/tag/v4.0.0)
- 📦 [微前端新范式：Server Components沙盒](https://github.com/unstubbable/mfng)
- 📦 [Deno版简易RSC实现](https://github.com/itsMapleLeaf/simple-rsc-deno)
- 🎥 [Next.js Image组件重大升级](https://www.youtube.com/watch?v=Ow3VsOJcvpM)：演示Cloudinary在Next.js中的优势。感谢James在[视频中推荐本刊](https://www.youtube.com/clip/UgkxZ3ySVUr0oCmNn_VQcBJGOFPdSG2V_h3h)🤗。
- 🎥 [React与TypeScript停止"打架"了？](https://www.youtube.com/watch?v=sr8bwLXDm3U)
- 🎥 [解决NextJS 13的N+1问题](https://www.youtube.com/watch?v=FfHsIio4aCU)

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

[![Tina.io 是一个面向 Markdown 驱动站点的无头 CMS](/emails/issues/140/tinacms.jpg)](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)

**[Tina.io 是一个面向 Markdown 驱动站点的无头 CMS](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)**

- 为你的 Markdown 文件提供编辑界面
- 支持 MDX 组件的 UI
- 支持静态生成 (SSG) 和服务器端渲染 (SSR)
- 可选视觉编辑功能 (实时预览)
- 通过可复用区块构建

试用示例项目

- [Docusaurus](https://github.com/tinacms/tinasaurus) (Github)
- [Next.js + Tailwind 视觉编辑版](https://github.com/tinacms/tina-cloud-starter) (Github)

或运行  `npx create-tina-app@latest` 后访问 `localhost:3000/admin`

观看 [4 分钟演示视频](https://www.youtube.com/watch?v=zRkeKSZjlyw)

---

## 📱 React-Native {#react-native}

[![超级应用开发](/emails/issues/143/superapp.jpg)](https://www.callstack.com/super-app-development)

**[超级应用开发](https://www.callstack.com/super-app-development)**

Callstack 发布了关于超级应用的优质资源，这类应用能将多个迷你应用整合到单一移动界面中。文章阐述了其商业与组织优势、可能的技术方案，并重点推荐了他们青睐的解决方案：Re.Pack 和模块联邦。另附示例项目仓库 [Super App Showcase](https://github.com/callstack/super-app-showcase) 供研究学习。

超级应用在亚洲市场广受欢迎（如微信、MoMo...）且发展势头强劲。直觉告诉我 [PlayStation 5 的 UI 可能是基于 React-Native 的超级应用](https://twitter.com/syke/status/1619413099861413889)，有待证实！

---

- 👤 [Mark Lawlor (NativeWind 作者) 加入 Expo](https://twitter.com/mark__lawlor/status/1648834143659384832)：社区喜讯，又一位开发者投身 web/跨平台支持工作。
- 👀 [Bluesky - 通用 Expo 应用](https://twitter.com/Baconbrix/status/1650608419135700993)：Twitter 与其新竞争对手 Bluesky [双双采用 React-Native-Web](https://twitter.com/sebastienlorber/status/1650488087430963204)。
- 💬 [RFC：在 React Native 应用中支持 Expo 配置插件](https://twitter.com/TMisiukiewicz/status/1649050245106659330)：提议将 Expo 配置插件直接并入 React-Native 核心，以简化升级流程等开发体验。该提案[遭到 Brent Vatne 质疑](https://github.com/react-native-community/discussions-and-proposals/pull/637#issuecomment-1518083817)，社区认为现有项目添加配置插件/预构建支持并不困难。
- 📜 [使用 AI 为 React 组件编写测试](https://www.callstack.com/blog/using-ai-to-write-tests-for-react-components)
- 📦 [React-Native 0.71.7](https://github.com/facebook/react-native/releases/tag/v0.71.7)
- 📦 [Skia 动画示例集](https://github.com/friyiajr/SkiaAnimationShowcase)
- 🎙️ [Syntax FM - 与 Nate Weinert 和 Tamagui 的晚餐俱乐部](https://syntax.fm/show/601/supper-club-nate-weinert-and-tamagui)
- 🎙️ [RNR 264 - 使用 Detox 进行 RN 测试（Josh Justice 和 Jason Grosz 案例研究）](https://reactnativeradio.com/episodes/rnr-264-a-detox-case-study-with-josh-justice-and-jason-grosz)
- 👥 [App.js](https://appjs.co/)（克拉科夫，5月10-12日）提供[研讨会门票8折优惠](https://ti.to/appjs/2023/discount/ThisWeekinReact20)（优惠码 "ThisWeekinReact20"）。
- 👥 [Chain React](https://chainreactconf.com/)（波特兰，5月18-19日）提供门票9折优惠（优惠码 "thisweekinreact"）。
- 👥 [React-Native-Connection](https://reactnativeconnection.io/)（巴黎，6月1日）提供门票9折优惠（优惠码 "REACTHEBDO"）。

---

## 🧑‍💻 职位招聘 {#jobs}

🧑‍💼 [**Passionfroot - 高级全栈工程师 (Remix) - €160k+, 柏林/远程**](https://passionfroot.recruitee.com/o/senior-fullstack-engineer)

Passionfroot的使命是通过YouTube、播客、社交媒体和新闻通讯赋能未来的独立企业。加入我们，共同打造一款工具，助力全球创作者建立可扩展、可持续的业务。

🧑‍💼 [**Callstack - 高级React Native开发者 - 完全远程, 每月B2B净收入2.1-3.2万波兰兹罗提**](https://www.callstack.com/senior-react-native-developer)

您想参与开发全球使用最广泛的应用吗？您是否愿意共同塑造React Native技术？加入Callstack团队，与React和React Native领域的领导者共事。详情请访问我们的网站。我们期待您的申请——展示您的实力！

🧑‍💼 [**G2i - 100%远程React Native职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们为专注于React Native的开发者开放了多个职位！薪资约16万美元外加10%奖金。需具备RN生产环境经验且居住在美国。私信[@gabe_g2i](https://twitter.com/gabe_g2i)了解更多，别忘了提及This Week in React。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他资讯 {#other}

- [我们如何将Prisma在Serverless冷启动时的速度提升9倍](https://www.prisma.io/blog/prisma-and-serverless-73hbgKnZ6t)
- [Oracle因JavaScript商标侵权发出法律通知](https://twitter.com/sebastienlorber/status/1650502618760839170)
- [Partykit - 构建实时协作应用的开发套件](https://github.com/partykit/partykit)
- [ECMAScript 2023新特性解析](https://pawelgrzybek.com/whats-new-in-ecmascript-2023/)
- [Rich Harris谈框架、Web与边缘计算](https://www.youtube.com/watch?v=uXCipjbcQfM)
- [npm软件包来源验证功能发布](https://github.blog/2023-04-19-introducing-npm-package-provenance/)
- ["const"关键字的误导性](https://www.joshwcomeau.com/javascript/the-const-deception/)
- [选择合适工具驾驭JavaScript事件循环](https://www.macarthur.me/posts/navigating-the-event-loop)
- [主屏幕Web应用角标功能](https://webkit.org/blog/14112/badging-for-home-screen-web-apps/)
- [Lightning CSS 1.20发布](https://twitter.com/devongovett/status/1648818638479142914)
- [Rspack 0.1.9发布](https://twitter.com/rspack_dev/status/1650802734248108032)

---

## 🤭 轻松一刻 {#fun}

[![alt](/emails/issues/143/meme.jpg)](https://twitter.com/jacobmparis/status/1649762401263452160)

下次见！👋