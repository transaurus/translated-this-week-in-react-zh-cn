---
slug: /124
title: "This Week In React #124: FLIP, Lifecycle, Next.js, TypeScript, Vanilla-Extract, LiveView, Remix, GitHub, Race Conditions, Fontpie, Remotion..."
authors: [slorber]
date: 11-15-2022
---

大家好！

经过几周的密集动态后，React生态系统的重大公告节奏有所放缓。

我们仍有一些优质文章出炉。Next.js的TypeScript插件看起来非常棒！

GitHub Universe大会已落幕。GitHub似乎越来越多地在某些视图上使用React，并通过基于MDX的GitHub Blocks实现。

<!-- truncate -->

**💡 [在Twitter上查看本期简报](https://slo.im/thread) - 可视化版式 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 赞助 {#sponsor1}

[![FlyCode让React应用无需编码即可编辑，基于Git](/emails/issues/124/flycode.jpg)](https://bit.ly/3UPwAoJ)

**[FlyCode让React应用无需编码即可编辑，基于Git](https://bit.ly/3UPwAoJ)**

[FlyCode](https://bit.ly/3wWSi00)（YC S22）能让React网页应用在几分钟内变得可编辑，使产品和UX团队能更快迭代和发布产品，无需等待（或占用）开发者的时间。

FlyCode会读取常规的React代码，找出文本、图片、设计标记和分析事件，然后让非编码人员协作编辑并提交拉取请求（他们无需访问GitHub！）

- 节省开发时间
- 无需代码集成，直接读取你的代码！
- 基于GitHub，机器人扫描代码并创建拉取请求
- 使用你自己的技术栈和组件
- 保留代码库所有权

你可以从这里开始：[flycode.com/developers](https://www.flycode.com/developers)

---

## ⚛️ React {#react}

[![深入Framer的Magic Motion](/emails/issues/124/framer-motion.png)](https://www.nan.fyi/magic-motion)

**[深入Framer的Magic Motion](https://www.nan.fyi/magic-motion)**

一篇精彩的交互式文章，解析了什么是布局动画。它详细解构了FLIP技术——该技术通过CSS变换（位置、缩放）让这类过渡动画更高效。我们逐步重现了Framer Motion的布局动画系统。

关于同一主题，推荐阅读[Framer Motion布局动画全解析](https://blog.maximeheckel.com/posts/framer-motion-layout-animations/)。

---

[![React Hooks组件生命周期时间轴](/emails/issues/124/timeline.jpg)](https://julesblom.com/writing/react-hook-component-timeline)

**[React Hooks组件生命周期时间轴](https://julesblom.com/writing/react-hook-component-timeline)**

一个交互式图表，展示包含Hooks、refs和DOM更新/渲染（移动端不可用）的React组件生命周期。还包含知识测试题和大量引用/参考。

---

[![Next.js 13](/emails/issues/124/nextjs13ts.jpg)](https://twitter.com/delba_oliveira/status/1592209522281439232)

**[Next.js 13 TypeScript插件](https://twitter.com/delba_oliveira/status/1592209522281439232)**

Shu Ding正在开发TypeScript语言服务插件（[源码](https://github.com/vercel/next.js/blob/canary/packages/next/server/next-typescript.ts)），通过为Next.js和服务器组件规范提供文档、新错误提示和自动补全，显著提升Next.js开发者体验。这很好地弥补了TypeScript中[无法对ES模块导出进行类型检查](https://github.com/microsoft/TypeScript/issues/38511)的缺陷——该功能是框架作者们强烈需求的。

---

[![Writing Performant CSS with vanilla-extract](/emails/issues/124/vanilla-extract.png)](https://www.lekoarts.de/javascript/writing-performant-css-with-vanilla-extract)

**[使用vanilla-extract编写高性能CSS](https://www.lekoarts.de/javascript/writing-performant-css-with-vanilla-extract)**

一篇关于[vanilla-extract](https://vanilla-extract.style/)的详尽文章，这是由CSS Modules创始人Mark Dalgleish开发的基于TypeScript的无运行时CSS-in-JS库。文中还提及了其原子化CSS层[Sprinkles](https://vanilla-extract.style/documentation/packages/sprinkles/)。示例基于React实现：复现了一个Tailwind UI组件。包含大量与Tailwind及其他CSS-in-JS方案的对比。虽然功能强大，但上手确实不太简单😅 我们后续需要深入研究这个方案。

---

- 📖 React beta文档: [类组件API参考(进行中)](https://twitter.com/dan_abramov/status/1592262830304251908)
- 🐙 [GitHub UI正在使用React](https://twitter.com/rauchg/status/1591464351990697984) ([Hacker News讨论](https://news.ycombinator.com/item?id=33576722)): GitHub越来越多地使用React。他们还有一个React设计系统: [Primer React](https://primer.style/react/)。即将推出的功能[GitHub Blocks](https://blocks.githubnext.com/)允许使README具有交互性，该功能也[使用MDX实现](https://twitter.com/idangazit/status/1590726137638195200)
- 📜 [在React中获取数据: Promise丢失的情况](https://www.developerway.com/posts/fetching-in-react-lost-promises): 一篇图文并茂的交互式文章，讨论了发起请求时可能出现的竞态条件。提供了几种避免这些问题的技术。我也写过一篇[相关文章](https://sebastienlorber.com/handling-api-request-race-conditions-in-react)😜(两篇文章都值得一读，内容相当互补)
- 📜 [给React的情书](https://fly.io/blog/love-letter-react/): Phoenix(Elixir框架)的创建者解释了他如何受到React启发来创建LiveView: 一种为服务器端渲染的HTML添加交互性的解决方案。LiveView让我想起了Remix!
- 📜 [Remix的开放开发](https://remix.run/blog/open-development): Remix希望项目由社区驱动。所有内容都将公开: [路线图](https://github.com/orgs/remix-run/projects/5/views/1)/流程，以及计划会议将在Youtube上直播。
- 📜 [在Remix中实现客户端和服务器的类型安全环境变量](https://dev.to/gugaguichard/type-safe-environment-variables-on-both-client-and-server-with-remix-54l5): 使用Zod解析环境变量并将部分变量暴露给客户端的解决方案，包括类型安全和自动补全。
- 📜 [Chromatic - 用户行为的交互测试](https://www.chromatic.com/blog/interaction-tests-for-user-behavior/): Storybook交互测试现已集成到Chromatic SaaS中
- 📜 [Next.js 13中的React服务器与客户端组件](https://kulkarniankita.com/react/react-server-client-components)
- 📜 [什么是状态管理器](https://www.reatom.dev/general/what-is-state-manager)
- 📜 [构建表单的新颖模式优先方法](https://www.vazco.eu/blog/a-novel-schema-first-approach-to-building-forms)
- 📜 [使用Three.js创建蓬松的树木(第一部分)](https://douges.dev/blog/threejs-trees-1)
- 📊 [我在同一代码库上比较了Reflame、Vercel、Netlify、Cloudflare Pages的部署速度](https://blog.reflame.app/i-compared-deploy-speeds-for-reflame-vercel-netlify-cloudflare-pages-on-the-same-repo): 围绕"即时部署"的营销并不总是真实的。
- 💰 [Remotion - 我们筹集了18万瑞士法郎来简化程序化视频!](https://www.remotion.dev/blog/seed-funding): 我也贡献了微薄之力🤭
- 🐦 [Next.js 12与Next.js 13实验性`app`目录的对比!](https://twitter.com/lydiahallie/status/1591120215189749760)
- 🗣 [RemixConf 2023提案征集开放](https://twitter.com/remix_run/status/1590513919902507008)
- 📦 [Fontpie](https://github.com/pixel-point/fontpie): 新的CLI解决方案，避免自定义字体布局偏移(参见这个[演示](https://twitter.com/alex_barashkov/status/1590329974409469952)来理解)。它使`next/font`中使用的技术变得框架无关。
- 📦 [Remix-Vite](https://github.com/sudomf/remix-vite): 为Remix添加热模块替换支持
- 📦 [craco 7.0](https://github.com/dilanx/craco/releases/tag/v7.0.0): 允许自定义CRA - 支持CRA v5
- 📦 [Redwood 3.3](https://github.com/redwoodjs/redwood/releases/tag/v3.3.0)
- 📦 [Rockpack 3.0 - 增强版create-react-app + SSR](https://github.com/AlexSergey/rockpack)

<SubscribeFormEmbed />

---

## 💸 赞助 {#sponsor2}

[![refine - 100% 开源的无头 React 框架，用于构建 CRUD 应用](/emails/issues/124/refine.jpg)](https://s.refine.dev/github)

**[refine - 100% 开源的无头 React 框架，用于构建 CRUD 应用](https://s.refine.dev/github)**

refine 能与您偏好的任何自定义设计或 UI 框架无缝协作。为方便起见，它内置了与 Ant Design、Material UI、Mantine 和 Chakra UI 的现成集成方案。该框架消除了 CRUD 操作所需的重复性工作，并为身份验证、访问控制、路由、网络通信、状态管理和国际化等关键环节提供了行业标准解决方案。

---

## 📱 React-Native {#react-native}

- 📜 [Expo-router 与远程代码](https://medium.com/@dan_tamas/expo-router-and-remote-code-e49f31a33b73): 演示如何结合 [react-native-wormhole](https://github.com/cawfree/react-native-wormhole) 与 Expo Router 来消费远程 URL 上的 React-Native 组件。这与实现 [React-Native 服务端组件](https://twitter.com/Baconbrix/status/1585058874864062466)的理念密切相关。
- 🧵 [Expo Modules API 讨论串](https://twitter.com/tsapeta/status/1590353202402115584): Tomasz Sapeta 分享了关于使用 Swift/Kotlin 创建现代化原生模块的新 Expo API 信息，包括未来可能支持的 [SwiftUI](https://twitter.com/tsapeta/status/1591003968649728001) / Jetpack Compose 特性。
- 📦 [React-Native 0.70.6](https://twitter.com/CipolleschiR/status/1592573159215337472)
- 📦 [Moti 0.21](https://twitter.com/FernandoTheRojo/status/1592264186960257027)
- 📦 [JestNative v5.2 匹配器 - toHaveAccessibilityState()](https://twitter.com/mdj_dev/status/1590724369835524096)
- 🎙️ [The React Native Show 第18期 - 模块联邦](https://www.callstack.com/podcasts/module-federation)
- 🎙️ [RNR 252期 - Ionic 的 React Native Portals 与 Josh Thomas](https://reactnativeradio.com/episodes/rnr-252-ionics-react-native-portals-with-josh-thomas)

---

## 🧑‍💻 职位招聘 {#jobs}

🧑‍💼 [**Causal 产品工程师，远程/伦敦/纽约，$150-250k**](https://jobs.lever.co/causal-app/4acaafbe-ef3d-45a6-bbe6-687c022d727c?lever-origin=applied&lever-source%5B%5D=thisweekinreact.com)

Causal 是由 Coatue/Accel 投资的 A 轮初创公司，致力于构建一体化数字处理与数据可视化工具。我们正在寻找能解决复杂 UX/性能问题的资深 React 工程师。

🧑‍💼 [**G2i - 100% 远程 React Native 职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们开放多个 React Native 开发岗位！年薪约16万美元外加10%奖金。应聘者需具备 RN 生产环境经验且居住在美国。私信 [@gabe_g2i](https://twitter.com/gabe_g2i) 了解详情，请注明通过 This Week in React 获知该职位。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [TypeScript 4.9](https://devblogs.microsoft.com/typescript/announcing-typescript-4-9/): 新增 satisfies 操作符！
- [TypeScript satisfies 操作符详解](https://tomdohnal.com/posts/typescript-satisfies-keyword): 另一个使用 satisfies 的示例
- [Qwik 案例展示](https://qwik.builder.io/showcase/): 优异的 Lighthouse 评分
- [SolidStart 正式发布：SolidJS 框架](https://www.solidjs.com/blog/introducing-solidstart): SolidJS 元框架现已进入测试阶段，既借鉴了 React 生态灵感又融入了创新理念。另见 [Fireship - 初识 SolidStart](https://www.youtube.com/watch?v=DVWu2b7mvFg)
- [Parcel 2.8](https://twitter.com/devongovett/status/1590378157747875840): 在打包、性能、热更新、代码分割等方面有显著改进
- [Deno 1.28 - 新增 130 万个模块](https://deno.com/blog/v1.28): 兼顾安全性的 npm 兼容方案。另见此[视频](https://twitter.com/deno_land/status/1592274094963462144)。
- [可扩展 CSS 的演进历程](https://frontendmastery.com/posts/the-evolution-of-scalable-css/): 回顾 CSS 技术发展史，包括 React 推广的 CSS-in-JS
- [为什么需要 JavaScript 生成器函数？](https://jrsinclair.com/articles/2022/why-would-anyone-need-javascript-generator-functions/)
- [Stylify - 更快的 CSS 编写方式](https://stylifycss.com/)
- [GitHub Universe 2022 全部新特性](https://github.blog/2022-11-09-everything-new-from-github-universe-2022/)
- [Octoverse 2022 - 开源软件现状报告](https://octoverse.github.com/)
- [通过 Chrome 分叉实现 HTML 转 SVG](https://fathy.fr/html2svg)
- [stc 本周进展 第1期](https://kdy1.dev/posts/2022/11/stc-update-1)
- [Chromium 中的 Change Array By Copy 特性](https://twitter.com/robpalmer2/status/1591174422802890754)
- [ultrahtml 1.0 发布](https://github.com/natemoo-re/ultrahtml)
- [Cypress 11 发布：组件测试正式可用与性能提升](https://www.cypress.io/blog/2022/11/08/announcing-cypress-11/)
- [GreenFrame - 测量网站碳足迹](https://marmelab.com/blog/2022/11/09/greenframe-open-source.html)
- [Doctolib 设计系统实践：30+产品设计师与200+开发者的经验总结](https://medium.com/doctolib/10-lessons-i-learned-owning-on-a-design-system-for-30-product-designers-and-200-developers-c2986e4dbb6f)
- [Node.js 安全最佳实践](https://nodejs.org/en/docs/guides/security/)

---

## 🤭 轻松一刻 {#fun}

[![梗图 - 突发：JavaScript 因冒充正经编程语言被推特封禁](/emails/issues/124/meme.png)](https://twitter.com/lukaseder/status/1590301562525876225)